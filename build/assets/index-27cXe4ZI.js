var $v=t=>{throw TypeError(t)};var vh=(t,e,n)=>e.has(t)||$v("Cannot "+n);var B=(t,e,n)=>(vh(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?$v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(vh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(vh(t,e,"access private method"),n);var Ql=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return B(t,e,r)}});function kb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Eb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Cb={exports:{}},vd={},Nb={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),pN=Symbol.for("react.portal"),mN=Symbol.for("react.fragment"),gN=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),yN=Symbol.for("react.provider"),wN=Symbol.for("react.context"),xN=Symbol.for("react.forward_ref"),bN=Symbol.for("react.suspense"),_N=Symbol.for("react.memo"),SN=Symbol.for("react.lazy"),Fv=Symbol.iterator;function jN(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var Pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,Ob={};function ia(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Pb}ia.prototype.isReactComponent={};ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ab(){}Ab.prototype=ia.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=Ob,this.updater=n||Pb}var Bm=Um.prototype=new Ab;Bm.constructor=Um;Tb(Bm,ia.prototype);Bm.isPureReactComponent=!0;var Uv=Array.isArray,Rb=Object.prototype.hasOwnProperty,zm={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Ib(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Rb.call(e,r)&&!Mb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Al,type:t,key:i,ref:o,props:s,_owner:zm.current}}function kN(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function EN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bv=/\/+/g;function yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EN(""+t.key):e.toString(36)}function Gc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Al:case pN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+yh(o,0):r,Uv(s)?(n="",t!=null&&(n=t.replace(Bv,"$&/")+"/"),Gc(s,e,n,"",function(u){return u})):s!=null&&(Vm(s)&&(s=kN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Bv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Uv(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+yh(i,l);o+=Gc(i,e,n,c,s)}else if(c=jN(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+yh(i,l++),o+=Gc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,n){if(t==null)return t;var r=[],s=0;return Gc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Jc={transition:null},NN={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:zm};function Db(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ia;je.Fragment=mN;je.Profiler=vN;je.PureComponent=Um;je.StrictMode=gN;je.Suspense=bN;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN;je.act=Db;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Rb.call(e,c)&&!Mb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Al,type:t.type,key:s,ref:i,props:r,_owner:o}};je.createContext=function(t){return t={$$typeof:wN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yN,_context:t},t.Consumer=t};je.createElement=Ib;je.createFactory=function(t){var e=Ib.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:xN,render:t}};je.isValidElement=Vm;je.lazy=function(t){return{$$typeof:SN,_payload:{_status:-1,_result:t},_init:CN}};je.memo=function(t,e){return{$$typeof:_N,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Jc.transition;Jc.transition={};try{t()}finally{Jc.transition=e}};je.unstable_act=Db;je.useCallback=function(t,e){return Ut.current.useCallback(t,e)};je.useContext=function(t){return Ut.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};je.useEffect=function(t,e){return Ut.current.useEffect(t,e)};je.useId=function(){return Ut.current.useId()};je.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Ut.current.useMemo(t,e)};je.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};je.useRef=function(t){return Ut.current.useRef(t)};je.useState=function(t){return Ut.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return Ut.current.useTransition()};je.version="18.3.1";Nb.exports=je;var b=Nb.exports;const X=Eb(b),Wm=kb({__proto__:null,default:X},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PN=b,TN=Symbol.for("react.element"),ON=Symbol.for("react.fragment"),AN=Object.prototype.hasOwnProperty,RN=PN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MN={key:!0,ref:!0,__self:!0,__source:!0};function Lb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AN.call(e,r)&&!MN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TN,type:t,key:i,ref:o,props:s,_owner:RN.current}}vd.Fragment=ON;vd.jsx=Lb;vd.jsxs=Lb;Cb.exports=vd;var a=Cb.exports,$b={exports:{}},dn={},Fb={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,U){var ee=I.length;I.push(U);e:for(;0<ee;){var he=ee-1>>>1,ie=I[he];if(0<s(ie,U))I[he]=U,I[ee]=ie,ee=he;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],ee=I.pop();if(ee!==U){I[0]=ee;e:for(var he=0,ie=I.length,f=ie>>>1;he<f;){var j=2*(he+1)-1,S=I[j],P=j+1,C=I[P];if(0>s(S,ee))P<ie&&0>s(C,S)?(I[he]=C,I[P]=ee,he=P):(I[he]=S,I[j]=ee,he=j);else if(P<ie&&0>s(C,ee))I[he]=C,I[P]=ee,he=P;else break e}}return U}function s(I,U){var ee=I.sortIndex-U.sortIndex;return ee!==0?ee:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,g=3,m=!1,x=!1,h=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=I)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function k(I){if(h=!1,_(I),!x)if(n(c)!==null)x=!0,J(E);else{var U=n(u);U!==null&&ne(k,U.startTime-I)}}function E(I,U){x=!1,h&&(h=!1,w(O),O=-1),m=!0;var ee=g;try{for(_(U),p=n(c);p!==null&&(!(p.expirationTime>U)||I&&!K());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var ie=he(p.expirationTime<=U);U=t.unstable_now(),typeof ie=="function"?p.callback=ie:p===n(c)&&r(c),_(U)}else r(c);p=n(c)}if(p!==null)var f=!0;else{var j=n(u);j!==null&&ne(k,j.startTime-U),f=!1}return f}finally{p=null,g=ee,m=!1}}var N=!1,T=null,O=-1,F=5,R=-1;function K(){return!(t.unstable_now()-R<F)}function M(){if(T!==null){var I=t.unstable_now();R=I;var U=!0;try{U=T(!0,I)}finally{U?H():(N=!1,T=null)}}else N=!1}var H;if(typeof v=="function")H=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=M,H=function(){G.postMessage(null)}}else H=function(){y(M,0)};function J(I){T=I,N||(N=!0,H())}function ne(I,U){O=y(function(){I(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,J(E))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(I){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var ee=g;g=U;try{return I()}finally{g=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ee=g;g=I;try{return U()}finally{g=ee}},t.unstable_scheduleCallback=function(I,U,ee){var he=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?he+ee:he):ee=he,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,I={id:d++,callback:U,priorityLevel:I,startTime:ee,expirationTime:ie,sortIndex:-1},ee>he?(I.sortIndex=ee,e(u,I),n(c)===null&&I===n(u)&&(h?(w(O),O=-1):h=!0,ne(k,ee-he))):(I.sortIndex=ie,e(c,I),x||m||(x=!0,J(E))),I},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(I){var U=g;return function(){var ee=g;g=U;try{return I.apply(this,arguments)}finally{g=ee}}}})(Ub);Fb.exports=Ub;var IN=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=b,un=IN;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bb=new Set,el={};function Di(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(el[t]=e,t=0;t<e.length;t++)Bb.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ff=Object.prototype.hasOwnProperty,LN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Vv={};function $N(t){return Ff.call(Vv,t)?!0:Ff.call(zv,t)?!1:LN.test(t)?Vv[t]=!0:(zv[t]=!0,!1)}function FN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UN(t,e,n,r){if(e===null||typeof e>"u"||FN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function qm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,qm);bt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,qm);bt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,qm);bt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Km(t,e,n,r){var s=bt.hasOwnProperty(e)?bt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UN(e,n,s,r)&&(n=null),r||s===null?$N(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=DN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xl=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),zb=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),Wv=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,wh;function Oa(t){if(wh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wh=e&&e[1]||""}return`
`+wh+t}var xh=!1;function bh(t,e){if(!t||xh)return"";xh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{xh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oa(t):""}function BN(t){switch(t.tag){case 5:return Oa(t.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return t=bh(t.type,!1),t;case 11:return t=bh(t.type.render,!1),t;case 1:return t=bh(t.type,!0),t;default:return""}}function Vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case so:return"Portal";case Uf:return"Profiler";case Gm:return"StrictMode";case Bf:return"Suspense";case zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vb:return(t.displayName||"Context")+".Consumer";case zb:return(t._context.displayName||"Context")+".Provider";case Jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:Vf(t.type)||"Memo";case as:e=t._payload,t=t._init;try{return Vf(t(e))}catch{}}return null}function zN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===Gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VN(t){var e=Hb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zl(t){t._valueTracker||(t._valueTracker=VN(t))}function qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kb(t,e){e=e.checked,e!=null&&Km(t,"checked",e,!1)}function Hf(t,e){Kb(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qf(t,e.type,n):e.hasOwnProperty("defaultValue")&&qf(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qf(t,e,n){(e!=="number"||vu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Kf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Aa(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function Gb(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,Qb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WN=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(t){WN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fa[e]=Fa[t]})});function Yb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fa.hasOwnProperty(t)&&Fa[t]?(""+e).trim():e+"px"}function Xb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Yb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var HN=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jf(t,e){if(e){if(HN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xf=null,wo=null,xo=null;function Jv(t){if(t=Il(t)){if(typeof Xf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=_d(e),Xf(t.stateNode,t.type,e))}}function Zb(t){wo?xo?xo.push(t):xo=[t]:wo=t}function e_(){if(wo){var t=wo,e=xo;if(xo=wo=null,Jv(t),e)for(t=0;t<e.length;t++)Jv(e[t])}}function t_(t,e){return t(e)}function n_(){}var _h=!1;function r_(t,e,n){if(_h)return t(e,n);_h=!0;try{return t_(t,e,n)}finally{_h=!1,(wo!==null||xo!==null)&&(n_(),e_())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var r=_d(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Zf=!1;if($r)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Zf=!1}function qN(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ua=!1,yu=null,wu=!1,ep=null,KN={onError:function(t){Ua=!0,yu=t}};function GN(t,e,n,r,s,i,o,l,c){Ua=!1,yu=null,qN.apply(KN,arguments)}function JN(t,e,n,r,s,i,o,l,c){if(GN.apply(this,arguments),Ua){if(Ua){var u=yu;Ua=!1,yu=null}else throw Error(q(198));wu||(wu=!0,ep=u)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qv(t){if(Li(t)!==t)throw Error(q(188))}function QN(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Qv(s),t;if(i===r)return Qv(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function i_(t){return t=QN(t),t!==null?o_(t):null}function o_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o_(t);if(e!==null)return e;t=t.sibling}return null}var a_=un.unstable_scheduleCallback,Yv=un.unstable_cancelCallback,YN=un.unstable_shouldYield,XN=un.unstable_requestPaint,rt=un.unstable_now,ZN=un.unstable_getCurrentPriorityLevel,Xm=un.unstable_ImmediatePriority,l_=un.unstable_UserBlockingPriority,xu=un.unstable_NormalPriority,eP=un.unstable_LowPriority,c_=un.unstable_IdlePriority,yd=null,gr=null;function tP(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:sP,nP=Math.log,rP=Math.LN2;function sP(t){return t>>>=0,t===0?32:31-(nP(t)/rP|0)|0}var tc=64,nc=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ra(l):(i&=o,i!==0&&(r=Ra(i)))}else o=n&~s,o!==0?r=Ra(o):i!==0&&(r=Ra(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),s=1<<n,r|=t[n],e&=~s;return r}function iP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=iP(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function tp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u_(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function Sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function aP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function d_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h_,eg,f_,p_,m_,np=!1,rc=[],bs=null,_s=null,Ss=null,rl=new Map,sl=new Map,us=[],lP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function wa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Il(e),e!==null&&eg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cP(t,e,n,r,s){switch(e){case"focusin":return bs=wa(bs,t,e,n,r,s),!0;case"dragenter":return _s=wa(_s,t,e,n,r,s),!0;case"mouseover":return Ss=wa(Ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return rl.set(i,wa(rl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,sl.set(i,wa(sl.get(i)||null,t,e,n,r,s)),!0}return!1}function g_(t){var e=oi(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=s_(n),e!==null){t.blockedOn=e,m_(t.priority,function(){f_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yf=r,n.target.dispatchEvent(r),Yf=null}else return e=Il(n),e!==null&&eg(e),t.blockedOn=n,!1;e.shift()}return!0}function Zv(t,e,n){Qc(t)&&n.delete(e)}function uP(){np=!1,bs!==null&&Qc(bs)&&(bs=null),_s!==null&&Qc(_s)&&(_s=null),Ss!==null&&Qc(Ss)&&(Ss=null),rl.forEach(Zv),sl.forEach(Zv)}function xa(t,e){t.blockedOn===e&&(t.blockedOn=null,np||(np=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,uP)))}function il(t){function e(s){return xa(s,t)}if(0<rc.length){xa(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&xa(bs,t),_s!==null&&xa(_s,t),Ss!==null&&xa(Ss,t),rl.forEach(e),sl.forEach(e),n=0;n<us.length;n++)r=us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)g_(n),n.blockedOn===null&&us.shift()}var bo=Wr.ReactCurrentBatchConfig,_u=!0;function dP(t,e,n,r){var s=Ae,i=bo.transition;bo.transition=null;try{Ae=1,tg(t,e,n,r)}finally{Ae=s,bo.transition=i}}function hP(t,e,n,r){var s=Ae,i=bo.transition;bo.transition=null;try{Ae=4,tg(t,e,n,r)}finally{Ae=s,bo.transition=i}}function tg(t,e,n,r){if(_u){var s=rp(t,e,n,r);if(s===null)Rh(t,e,r,Su,n),Xv(t,r);else if(cP(s,t,e,n,r))r.stopPropagation();else if(Xv(t,r),e&4&&-1<lP.indexOf(t)){for(;s!==null;){var i=Il(s);if(i!==null&&h_(i),i=rp(t,e,n,r),i===null&&Rh(t,e,r,Su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rh(t,e,r,null,n)}}var Su=null;function rp(t,e,n,r){if(Su=null,t=Ym(r),t=oi(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=s_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function v_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZN()){case Xm:return 1;case l_:return 4;case xu:case eP:return 16;case c_:return 536870912;default:return 16}default:return 16}}var ys=null,ng=null,Yc=null;function y_(){if(Yc)return Yc;var t,e=ng,n=e.length,r,s="value"in ys?ys.value:ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yc=s.slice(t,1<r?1-r:void 0)}function Xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function ey(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sc:ey,this.isPropagationStopped=ey,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=hn(oa),Ml=Ye({},oa,{view:0,detail:0}),fP=hn(Ml),jh,kh,ba,wd=Ye({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(jh=t.screenX-ba.screenX,kh=t.screenY-ba.screenY):kh=jh=0,ba=t),jh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),ty=hn(wd),pP=Ye({},wd,{dataTransfer:0}),mP=hn(pP),gP=Ye({},Ml,{relatedTarget:0}),Eh=hn(gP),vP=Ye({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),yP=hn(vP),wP=Ye({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xP=hn(wP),bP=Ye({},oa,{data:0}),ny=hn(bP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jP[t])?!!e[t]:!1}function sg(){return kP}var EP=Ye({},Ml,{key:function(t){if(t.key){var e=_P[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(t){return t.type==="keypress"?Xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CP=hn(EP),NP=Ye({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=hn(NP),PP=Ye({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),TP=hn(PP),OP=Ye({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),AP=hn(OP),RP=Ye({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MP=hn(RP),IP=[9,13,27,32],ig=$r&&"CompositionEvent"in window,Ba=null;$r&&"documentMode"in document&&(Ba=document.documentMode);var DP=$r&&"TextEvent"in window&&!Ba,w_=$r&&(!ig||Ba&&8<Ba&&11>=Ba),sy=" ",iy=!1;function x_(t,e){switch(t){case"keyup":return IP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oo=!1;function LP(t,e){switch(t){case"compositionend":return b_(e);case"keypress":return e.which!==32?null:(iy=!0,sy);case"textInput":return t=e.data,t===sy&&iy?null:t;default:return null}}function $P(t,e){if(oo)return t==="compositionend"||!ig&&x_(t,e)?(t=y_(),Yc=ng=ys=null,oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w_&&e.locale!=="ko"?null:e.data;default:return null}}var FP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FP[t.type]:e==="textarea"}function __(t,e,n,r){Zb(r),e=ju(e,"onChange"),0<e.length&&(n=new rg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var za=null,ol=null;function UP(t){R_(t,0)}function xd(t){var e=co(t);if(qb(e))return t}function BP(t,e){if(t==="change")return e}var S_=!1;if($r){var Ch;if($r){var Nh="oninput"in document;if(!Nh){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),Nh=typeof ay.oninput=="function"}Ch=Nh}else Ch=!1;S_=Ch&&(!document.documentMode||9<document.documentMode)}function ly(){za&&(za.detachEvent("onpropertychange",j_),ol=za=null)}function j_(t){if(t.propertyName==="value"&&xd(ol)){var e=[];__(e,ol,t,Ym(t)),r_(UP,e)}}function zP(t,e,n){t==="focusin"?(ly(),za=e,ol=n,za.attachEvent("onpropertychange",j_)):t==="focusout"&&ly()}function VP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(ol)}function WP(t,e){if(t==="click")return xd(e)}function HP(t,e){if(t==="input"||t==="change")return xd(e)}function qP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:qP;function al(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ff.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function cy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,e){var n=cy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cy(n)}}function k_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E_(){for(var t=window,e=vu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vu(t.document)}return e}function og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KP(t){var e=E_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&k_(n.ownerDocument.documentElement,n)){if(r!==null&&og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=uy(n,i);var o=uy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GP=$r&&"documentMode"in document&&11>=document.documentMode,ao=null,sp=null,Va=null,ip=!1;function dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ip||ao==null||ao!==vu(r)||(r=ao,"selectionStart"in r&&og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Va&&al(Va,r)||(Va=r,r=ju(sp,"onSelect"),0<r.length&&(e=new rg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},Ph={},C_={};$r&&(C_=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function bd(t){if(Ph[t])return Ph[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C_)return Ph[t]=e[n];return t}var N_=bd("animationend"),P_=bd("animationiteration"),T_=bd("animationstart"),O_=bd("transitionend"),A_=new Map,hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){A_.set(t,e),Di(e,[t])}for(var Th=0;Th<hy.length;Th++){var Oh=hy[Th],JP=Oh.toLowerCase(),QP=Oh[0].toUpperCase()+Oh.slice(1);Ls(JP,"on"+QP)}Ls(N_,"onAnimationEnd");Ls(P_,"onAnimationIteration");Ls(T_,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(O_,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function fy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JN(r,e,void 0,t),t.currentTarget=null}function R_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;fy(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;fy(s,l,u),i=c}}}if(wu)throw t=ep,wu=!1,ep=null,t}function Be(t,e){var n=e[up];n===void 0&&(n=e[up]=new Set);var r=t+"__bubble";n.has(r)||(M_(e,t,2,!1),n.add(r))}function Ah(t,e,n){var r=0;e&&(r|=4),M_(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ll(t){if(!t[oc]){t[oc]=!0,Bb.forEach(function(n){n!=="selectionchange"&&(YP.has(n)||Ah(n,!1,t),Ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Ah("selectionchange",!1,e))}}function M_(t,e,n,r){switch(v_(e)){case 1:var s=dP;break;case 4:s=hP;break;default:s=tg}n=s.bind(null,e,n,t),s=void 0,!Zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=oi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}r_(function(){var u=i,d=Ym(n),p=[];e:{var g=A_.get(t);if(g!==void 0){var m=rg,x=t;switch(t){case"keypress":if(Xc(n)===0)break e;case"keydown":case"keyup":m=CP;break;case"focusin":x="focus",m=Eh;break;case"focusout":x="blur",m=Eh;break;case"beforeblur":case"afterblur":m=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TP;break;case N_:case P_:case T_:m=yP;break;case O_:m=AP;break;case"scroll":m=fP;break;case"wheel":m=MP;break;case"copy":case"cut":case"paste":m=xP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ry}var h=(e&4)!==0,y=!h&&t==="scroll",w=h?g!==null?g+"Capture":null:g;h=[];for(var v=u,_;v!==null;){_=v;var k=_.stateNode;if(_.tag===5&&k!==null&&(_=k,w!==null&&(k=nl(v,w),k!=null&&h.push(cl(v,k,_)))),y)break;v=v.return}0<h.length&&(g=new m(g,x,null,n,d),p.push({event:g,listeners:h}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==Yf&&(x=n.relatedTarget||n.fromElement)&&(oi(x)||x[Fr]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?oi(x):null,x!==null&&(y=Li(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(h=ty,k="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(h=ry,k="onPointerLeave",w="onPointerEnter",v="pointer"),y=m==null?g:co(m),_=x==null?g:co(x),g=new h(k,v+"leave",m,n,d),g.target=y,g.relatedTarget=_,k=null,oi(d)===u&&(h=new h(w,v+"enter",x,n,d),h.target=_,h.relatedTarget=y,k=h),y=k,m&&x)t:{for(h=m,w=x,v=0,_=h;_;_=qi(_))v++;for(_=0,k=w;k;k=qi(k))_++;for(;0<v-_;)h=qi(h),v--;for(;0<_-v;)w=qi(w),_--;for(;v--;){if(h===w||w!==null&&h===w.alternate)break t;h=qi(h),w=qi(w)}h=null}else h=null;m!==null&&py(p,g,m,h,!1),x!==null&&y!==null&&py(p,y,x,h,!0)}}e:{if(g=u?co(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var E=BP;else if(oy(g))if(S_)E=HP;else{E=VP;var N=zP}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=WP);if(E&&(E=E(t,u))){__(p,E,n,d);break e}N&&N(t,g,u),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&qf(g,"number",g.value)}switch(N=u?co(u):window,t){case"focusin":(oy(N)||N.contentEditable==="true")&&(ao=N,sp=u,Va=null);break;case"focusout":Va=sp=ao=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,dy(p,n,d);break;case"selectionchange":if(GP)break;case"keydown":case"keyup":dy(p,n,d)}var T;if(ig)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else oo?x_(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(w_&&n.locale!=="ko"&&(oo||O!=="onCompositionStart"?O==="onCompositionEnd"&&oo&&(T=y_()):(ys=d,ng="value"in ys?ys.value:ys.textContent,oo=!0)),N=ju(u,O),0<N.length&&(O=new ny(O,t,null,n,d),p.push({event:O,listeners:N}),T?O.data=T:(T=b_(n),T!==null&&(O.data=T)))),(T=DP?LP(t,n):$P(t,n))&&(u=ju(u,"onBeforeInput"),0<u.length&&(d=new ny("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=T))}R_(p,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=nl(t,n),i!=null&&r.unshift(cl(t,i,s)),i=nl(t,e),i!=null&&r.push(cl(t,i,s))),t=t.return}return r}function qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function py(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=nl(n,i),c!=null&&o.unshift(cl(n,c,l))):s||(c=nl(n,i),c!=null&&o.push(cl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XP=/\r\n?/g,ZP=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(XP,`
`).replace(ZP,"")}function ac(t,e,n){if(e=my(e),my(t)!==e&&n)throw Error(q(425))}function ku(){}var op=null,ap=null;function lp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cp=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(nT)}:cp;function nT(t){setTimeout(function(){throw t})}function Mh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);il(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),hr="__reactFiber$"+aa,ul="__reactProps$"+aa,Fr="__reactContainer$"+aa,up="__reactEvents$"+aa,rT="__reactListeners$"+aa,sT="__reactHandles$"+aa;function oi(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vy(t);t!==null;){if(n=t[hr])return n;t=vy(t)}return e}t=n,n=t.parentNode}return null}function Il(t){return t=t[hr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function _d(t){return t[ul]||null}var dp=[],uo=-1;function $s(t){return{current:t}}function ze(t){0>uo||(t.current=dp[uo],dp[uo]=null,uo--)}function Fe(t,e){uo++,dp[uo]=t.current,t.current=e}var Os={},Pt=$s(Os),Gt=$s(!1),Si=Os;function Uo(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return t=t.childContextTypes,t!=null}function Eu(){ze(Gt),ze(Pt)}function yy(t,e,n){if(Pt.current!==Os)throw Error(q(168));Fe(Pt,e),Fe(Gt,n)}function I_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,zN(t)||"Unknown",s));return Ye({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Si=Pt.current,Fe(Pt,t),Fe(Gt,Gt.current),!0}function wy(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=I_(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,ze(Gt),ze(Pt),Fe(Pt,t)):ze(Gt),Fe(Gt,n)}var Nr=null,Sd=!1,Ih=!1;function D_(t){Nr===null?Nr=[t]:Nr.push(t)}function iT(t){Sd=!0,D_(t)}function Fs(){if(!Ih&&Nr!==null){Ih=!0;var t=0,e=Ae;try{var n=Nr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,Sd=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),a_(Xm,Fs),s}finally{Ae=e,Ih=!1}}return null}var ho=[],fo=0,Nu=null,Pu=0,yn=[],wn=0,ji=null,Ar=1,Rr="";function Ys(t,e){ho[fo++]=Pu,ho[fo++]=Nu,Nu=t,Pu=e}function L_(t,e,n){yn[wn++]=Ar,yn[wn++]=Rr,yn[wn++]=ji,ji=t;var r=Ar;t=Rr;var s=32-Kn(r)-1;r&=~(1<<s),n+=1;var i=32-Kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ar=1<<32-Kn(e)+s|n<<s|r,Rr=i+t}else Ar=1<<i|n<<s|r,Rr=t}function ag(t){t.return!==null&&(Ys(t,1),L_(t,1,0))}function lg(t){for(;t===Nu;)Nu=ho[--fo],ho[fo]=null,Pu=ho[--fo],ho[fo]=null;for(;t===ji;)ji=yn[--wn],yn[wn]=null,Rr=yn[--wn],yn[wn]=null,Ar=yn[--wn],yn[wn]=null}var ln=null,on=null,He=!1,qn=null;function $_(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:Ar,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function hp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fp(t){if(He){var e=on;if(e){var n=e;if(!xy(t,e)){if(hp(t))throw Error(q(418));e=js(n.nextSibling);var r=ln;e&&xy(t,e)?$_(r,n):(t.flags=t.flags&-4097|2,He=!1,ln=t)}}else{if(hp(t))throw Error(q(418));t.flags=t.flags&-4097|2,He=!1,ln=t}}}function by(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function lc(t){if(t!==ln)return!1;if(!He)return by(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lp(t.type,t.memoizedProps)),e&&(e=on)){if(hp(t))throw F_(),Error(q(418));for(;e;)$_(t,e),e=js(e.nextSibling)}if(by(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?js(t.stateNode.nextSibling):null;return!0}function F_(){for(var t=on;t;)t=js(t.nextSibling)}function Bo(){on=ln=null,He=!1}function cg(t){qn===null?qn=[t]:qn.push(t)}var oT=Wr.ReactCurrentBatchConfig;function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function U_(t){function e(w,v){if(t){var _=w.deletions;_===null?(w.deletions=[v],w.flags|=16):_.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Ns(w,v),w.index=0,w.sibling=null,w}function i(w,v,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<v?(w.flags|=2,v):_):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,_,k){return v===null||v.tag!==6?(v=zh(_,w.mode,k),v.return=w,v):(v=s(v,_),v.return=w,v)}function c(w,v,_,k){var E=_.type;return E===io?d(w,v,_.props.children,k,_.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===as&&_y(E)===v.type)?(k=s(v,_.props),k.ref=_a(w,v,_),k.return=w,k):(k=iu(_.type,_.key,_.props,null,w.mode,k),k.ref=_a(w,v,_),k.return=w,k)}function u(w,v,_,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Vh(_,w.mode,k),v.return=w,v):(v=s(v,_.children||[]),v.return=w,v)}function d(w,v,_,k,E){return v===null||v.tag!==7?(v=yi(_,w.mode,k,E),v.return=w,v):(v=s(v,_),v.return=w,v)}function p(w,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zh(""+v,w.mode,_),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xl:return _=iu(v.type,v.key,v.props,null,w.mode,_),_.ref=_a(w,null,v),_.return=w,_;case so:return v=Vh(v,w.mode,_),v.return=w,v;case as:var k=v._init;return p(w,k(v._payload),_)}if(Aa(v)||va(v))return v=yi(v,w.mode,_,null),v.return=w,v;cc(w,v)}return null}function g(w,v,_,k){var E=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:l(w,v,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xl:return _.key===E?c(w,v,_,k):null;case so:return _.key===E?u(w,v,_,k):null;case as:return E=_._init,g(w,v,E(_._payload),k)}if(Aa(_)||va(_))return E!==null?null:d(w,v,_,k,null);cc(w,_)}return null}function m(w,v,_,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(_)||null,l(v,w,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xl:return w=w.get(k.key===null?_:k.key)||null,c(v,w,k,E);case so:return w=w.get(k.key===null?_:k.key)||null,u(v,w,k,E);case as:var N=k._init;return m(w,v,_,N(k._payload),E)}if(Aa(k)||va(k))return w=w.get(_)||null,d(v,w,k,E,null);cc(v,k)}return null}function x(w,v,_,k){for(var E=null,N=null,T=v,O=v=0,F=null;T!==null&&O<_.length;O++){T.index>O?(F=T,T=null):F=T.sibling;var R=g(w,T,_[O],k);if(R===null){T===null&&(T=F);break}t&&T&&R.alternate===null&&e(w,T),v=i(R,v,O),N===null?E=R:N.sibling=R,N=R,T=F}if(O===_.length)return n(w,T),He&&Ys(w,O),E;if(T===null){for(;O<_.length;O++)T=p(w,_[O],k),T!==null&&(v=i(T,v,O),N===null?E=T:N.sibling=T,N=T);return He&&Ys(w,O),E}for(T=r(w,T);O<_.length;O++)F=m(T,w,O,_[O],k),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?O:F.key),v=i(F,v,O),N===null?E=F:N.sibling=F,N=F);return t&&T.forEach(function(K){return e(w,K)}),He&&Ys(w,O),E}function h(w,v,_,k){var E=va(_);if(typeof E!="function")throw Error(q(150));if(_=E.call(_),_==null)throw Error(q(151));for(var N=E=null,T=v,O=v=0,F=null,R=_.next();T!==null&&!R.done;O++,R=_.next()){T.index>O?(F=T,T=null):F=T.sibling;var K=g(w,T,R.value,k);if(K===null){T===null&&(T=F);break}t&&T&&K.alternate===null&&e(w,T),v=i(K,v,O),N===null?E=K:N.sibling=K,N=K,T=F}if(R.done)return n(w,T),He&&Ys(w,O),E;if(T===null){for(;!R.done;O++,R=_.next())R=p(w,R.value,k),R!==null&&(v=i(R,v,O),N===null?E=R:N.sibling=R,N=R);return He&&Ys(w,O),E}for(T=r(w,T);!R.done;O++,R=_.next())R=m(T,w,O,R.value,k),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?O:R.key),v=i(R,v,O),N===null?E=R:N.sibling=R,N=R);return t&&T.forEach(function(M){return e(w,M)}),He&&Ys(w,O),E}function y(w,v,_,k){if(typeof _=="object"&&_!==null&&_.type===io&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xl:e:{for(var E=_.key,N=v;N!==null;){if(N.key===E){if(E=_.type,E===io){if(N.tag===7){n(w,N.sibling),v=s(N,_.props.children),v.return=w,w=v;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===as&&_y(E)===N.type){n(w,N.sibling),v=s(N,_.props),v.ref=_a(w,N,_),v.return=w,w=v;break e}n(w,N);break}else e(w,N);N=N.sibling}_.type===io?(v=yi(_.props.children,w.mode,k,_.key),v.return=w,w=v):(k=iu(_.type,_.key,_.props,null,w.mode,k),k.ref=_a(w,v,_),k.return=w,w=k)}return o(w);case so:e:{for(N=_.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(w,v.sibling),v=s(v,_.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Vh(_,w.mode,k),v.return=w,w=v}return o(w);case as:return N=_._init,y(w,v,N(_._payload),k)}if(Aa(_))return x(w,v,_,k);if(va(_))return h(w,v,_,k);cc(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,_),v.return=w,w=v):(n(w,v),v=zh(_,w.mode,k),v.return=w,w=v),o(w)):n(w,v)}return y}var zo=U_(!0),B_=U_(!1),Tu=$s(null),Ou=null,po=null,ug=null;function dg(){ug=po=Ou=null}function hg(t){var e=Tu.current;ze(Tu),t._currentValue=e}function pp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){Ou=t,ug=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(ug!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(Ou===null)throw Error(q(308));po=t,Ou.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var ai=null;function fg(t){ai===null?ai=[t]:ai.push(t)}function z_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,fg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ls=!1;function pg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,fg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function Zc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zm(t,n)}}function Sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Au(t,e,n,r){var s=t.updateQueue;ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,d=u=c=null,l=i;do{var g=l.lane,m=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,h=l;switch(g=e,m=n,h.tag){case 1:if(x=h.payload,typeof x=="function"){p=x.call(m,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=h.payload,g=typeof x=="function"?x.call(m,p,g):x,g==null)break e;p=Ye({},p,g);break e;case 2:ls=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=p):d=d.next=m,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ei|=o,t.lanes=o,t.memoizedState=p}}function jy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Dl={},vr=$s(Dl),dl=$s(Dl),hl=$s(Dl);function li(t){if(t===Dl)throw Error(q(174));return t}function mg(t,e){switch(Fe(hl,e),Fe(dl,t),Fe(vr,Dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gf(e,t)}ze(vr),Fe(vr,e)}function Vo(){ze(vr),ze(dl),ze(hl)}function W_(t){li(hl.current);var e=li(vr.current),n=Gf(e,t.type);e!==n&&(Fe(dl,t),Fe(vr,n))}function gg(t){dl.current===t&&(ze(vr),ze(dl))}var Ge=$s(0);function Ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function vg(){for(var t=0;t<Dh.length;t++)Dh[t]._workInProgressVersionPrimary=null;Dh.length=0}var eu=Wr.ReactCurrentDispatcher,Lh=Wr.ReactCurrentBatchConfig,ki=0,Je=null,ct=null,ht=null,Mu=!1,Wa=!1,fl=0,aT=0;function St(){throw Error(q(321))}function yg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function wg(t,e,n,r,s,i){if(ki=i,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?dT:hT,t=n(r,s),Wa){i=0;do{if(Wa=!1,fl=0,25<=i)throw Error(q(301));i+=1,ht=ct=null,e.updateQueue=null,eu.current=fT,t=n(r,s)}while(Wa)}if(eu.current=Iu,e=ct!==null&&ct.next!==null,ki=0,ht=ct=Je=null,Mu=!1,e)throw Error(q(300));return t}function xg(){var t=fl!==0;return fl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Je.memoizedState=ht=t:ht=ht.next=t,ht}function Cn(){if(ct===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=ht===null?Je.memoizedState:ht.next;if(e!==null)ht=e,ct=t;else{if(t===null)throw Error(q(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ht===null?Je.memoizedState=ht=t:ht=ht.next=t}return ht}function pl(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ki&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,Je.lanes|=d,Ei|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Qn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Je.lanes|=i,Ei|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(Kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function H_(){}function q_(t,e){var n=Je,r=Cn(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,Kt=!0),r=r.queue,bg(J_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ml(9,G_.bind(null,n,r,s,e),void 0,null),pt===null)throw Error(q(349));ki&30||K_(n,e,s)}return s}function K_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G_(t,e,n,r){e.value=n,e.getSnapshot=r,Q_(e)&&Y_(t)}function J_(t,e,n){return n(function(){Q_(e)&&Y_(t)})}function Q_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function Y_(t){var e=Ur(t,1);e!==null&&Gn(e,t,1,-1)}function ky(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:t},e.queue=t,t=t.dispatch=uT.bind(null,Je,t),[e.memoizedState,t]}function ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function X_(){return Cn().memoizedState}function tu(t,e,n,r){var s=sr();Je.flags|=t,s.memoizedState=ml(1|e,n,void 0,r===void 0?null:r)}function jd(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&yg(r,o.deps)){s.memoizedState=ml(e,n,i,r);return}}Je.flags|=t,s.memoizedState=ml(1|e,n,i,r)}function Ey(t,e){return tu(8390656,8,t,e)}function bg(t,e){return jd(2048,8,t,e)}function Z_(t,e){return jd(4,2,t,e)}function e1(t,e){return jd(4,4,t,e)}function t1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function n1(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,t1.bind(null,e,t),n)}function _g(){}function r1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function s1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function i1(t,e,n){return ki&21?(Qn(n,e)||(n=u_(),Je.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function lT(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Lh.transition;Lh.transition={};try{t(!1),e()}finally{Ae=n,Lh.transition=r}}function o1(){return Cn().memoizedState}function cT(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a1(t))l1(e,n);else if(n=z_(t,e,n,r),n!==null){var s=$t();Gn(n,t,r,s),c1(n,e,r)}}function uT(t,e,n){var r=Cs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a1(t))l1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Qn(l,o)){var c=e.interleaved;c===null?(s.next=s,fg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=z_(t,e,s,r),n!==null&&(s=$t(),Gn(n,t,r,s),c1(n,e,r))}}function a1(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function l1(t,e){Wa=Mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zm(t,n)}}var Iu={readContext:En,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},dT={readContext:En,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Ey,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,t1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cT.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:ky,useDebugValue:_g,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=ky(!1),e=t[0];return t=lT.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,s=sr();if(He){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),pt===null)throw Error(q(349));ki&30||K_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ey(J_.bind(null,r,i,t),[t]),r.flags|=2048,ml(9,G_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=sr(),e=pt.identifierPrefix;if(He){var n=Rr,r=Ar;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hT={readContext:En,useCallback:r1,useContext:En,useEffect:bg,useImperativeHandle:n1,useInsertionEffect:Z_,useLayoutEffect:e1,useMemo:s1,useReducer:$h,useRef:X_,useState:function(){return $h(pl)},useDebugValue:_g,useDeferredValue:function(t){var e=Cn();return i1(e,ct.memoizedState,t)},useTransition:function(){var t=$h(pl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:H_,useSyncExternalStore:q_,useId:o1,unstable_isNewReconciler:!1},fT={readContext:En,useCallback:r1,useContext:En,useEffect:bg,useImperativeHandle:n1,useInsertionEffect:Z_,useLayoutEffect:e1,useMemo:s1,useReducer:Fh,useRef:X_,useState:function(){return Fh(pl)},useDebugValue:_g,useDeferredValue:function(t){var e=Cn();return ct===null?e.memoizedState=t:i1(e,ct.memoizedState,t)},useTransition:function(){var t=Fh(pl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:H_,useSyncExternalStore:q_,useId:o1,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Cs(t),i=Dr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Gn(e,t,s,r),Zc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$t(),s=Cs(t),i=Dr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ks(t,i,s),e!==null&&(Gn(e,t,s,r),Zc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$t(),r=Cs(t),s=Dr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ks(t,s,r),e!==null&&(Gn(e,t,r,n),Zc(e,t,r))}};function Cy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!al(n,r)||!al(s,i):!0}function u1(t,e,n){var r=!1,s=Os,i=e.contextType;return typeof i=="object"&&i!==null?i=En(i):(s=Jt(e)?Si:Pt.current,r=e.contextTypes,i=(r=r!=null)?Uo(t,s):Os),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ny(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function gp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},pg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=En(i):(i=Jt(e)?Si:Pt.current,s.context=Uo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(mp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kd.enqueueReplaceState(s,s.state,null),Au(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e){try{var n="",r=e;do n+=BN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function d1(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lu||(Lu=!0,Cp=r),vp(t,e)},n}function h1(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){vp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){vp(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Py(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NT.bind(null,t,e,n),e.then(t,t))}function Ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Oy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,ks(n,e,1))),n.lanes|=1),t)}var mT=Wr.ReactCurrentOwner,Kt=!1;function Rt(t,e,n,r){e.child=t===null?B_(e,null,n,r):zo(e,t.child,n,r)}function Ay(t,e,n,r,s){n=n.render;var i=e.ref;return _o(e,s),r=wg(t,e,n,r,i,s),n=xg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(He&&n&&ag(e),e.flags|=1,Rt(t,e,r,s),e.child)}function Ry(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Tg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,f1(t,e,i,r,s)):(t=iu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(o,r)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=Ns(i,r),t.ref=e.ref,t.return=e,e.child=t}function f1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(al(i,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Br(t,e,s)}return yp(t,e,n,r,s)}function p1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(go,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(go,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(go,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fe(go,tn),tn|=r;return Rt(t,e,s,n),e.child}function m1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yp(t,e,n,r,s){var i=Jt(n)?Si:Pt.current;return i=Uo(e,i),_o(e,s),n=wg(t,e,n,r,i,s),r=xg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(He&&r&&ag(e),e.flags|=1,Rt(t,e,n,s),e.child)}function My(t,e,n,r,s){if(Jt(n)){var i=!0;Cu(e)}else i=!1;if(_o(e,s),e.stateNode===null)nu(t,e),u1(e,n,r),gp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Jt(n)?Si:Pt.current,u=Uo(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ny(e,o,r,u),ls=!1;var g=e.memoizedState;o.state=g,Au(e,r,o,s),c=e.memoizedState,l!==r||g!==c||Gt.current||ls?(typeof d=="function"&&(mp(e,n,d,r),c=e.memoizedState),(l=ls||Cy(e,n,l,r,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,V_(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fn(e.type,l),o.props=u,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=En(c):(c=Jt(n)?Si:Pt.current,c=Uo(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==c)&&Ny(e,o,r,c),ls=!1,g=e.memoizedState,o.state=g,Au(e,r,o,s);var x=e.memoizedState;l!==p||g!==x||Gt.current||ls?(typeof m=="function"&&(mp(e,n,m,r),x=e.memoizedState),(u=ls||Cy(e,n,u,r,g,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return wp(t,e,n,r,i,s)}function wp(t,e,n,r,s,i){m1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&wy(e,n,!1),Br(t,e,i);r=e.stateNode,mT.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,i),e.child=zo(e,null,l,i)):Rt(t,e,l,i),e.memoizedState=r.state,s&&wy(e,n,!0),e.child}function g1(t){var e=t.stateNode;e.pendingContext?yy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yy(t,e.context,!1),mg(t,e.containerInfo)}function Iy(t,e,n,r,s){return Bo(),cg(s),e.flags|=256,Rt(t,e,n,r),e.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function v1(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Fe(Ge,s&1),t===null)return fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nd(o,r,0,null),t=yi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=bp(n),e.memoizedState=xp,t):Sg(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gT(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ns(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ns(l,i):(i=yi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xp,r}return i=t.child,t=i.sibling,r=Ns(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sg(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uc(t,e,n,r){return r!==null&&cg(r),zo(e,t.child,null,n),t=Sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(q(422))),uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nd({mode:"visible",children:r.children},s,0,null),i=yi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=bp(o),e.memoizedState=xp,i);if(!(e.mode&1))return uc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=Uh(i,r,void 0),uc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Kt||l){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),Gn(r,t,s,-1))}return Pg(),r=Uh(Error(q(421))),uc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,on=js(s.nextSibling),ln=e,He=!0,qn=null,t!==null&&(yn[wn++]=Ar,yn[wn++]=Rr,yn[wn++]=ji,Ar=t.id,Rr=t.overflow,ji=e),e=Sg(e,r.children),e.flags|=4096,e)}function Dy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pp(t.return,e,n)}function Bh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function y1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,n,e);else if(t.tag===19)Dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ru(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ru(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bh(e,!0,n,null,i);break;case"together":Bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vT(t,e,n){switch(e.tag){case 3:g1(e),Bo();break;case 5:W_(e);break;case 1:Jt(e.type)&&Cu(e);break;case 4:mg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Fe(Tu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?v1(t,e,n):(Fe(Ge,Ge.current&1),t=Br(t,e,n),t!==null?t.sibling:null);Fe(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return y1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,p1(t,e,n)}return Br(t,e,n)}var w1,_p,x1,b1;w1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_p=function(){};x1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,li(vr.current);var i=null;switch(n){case"input":s=Wf(t,s),r=Wf(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Kf(t,s),r=Kf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ku)}Jf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(el.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(el.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};b1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sa(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yT(t,e,n){var r=e.pendingProps;switch(lg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return Jt(e.type)&&Eu(),jt(e),null;case 3:return r=e.stateNode,Vo(),ze(Gt),ze(Pt),vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(Tp(qn),qn=null))),_p(t,e),jt(e),null;case 5:gg(e);var s=li(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)x1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return jt(e),null}if(t=li(vr.current),lc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[ul]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Ma.length;s++)Be(Ma[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Hv(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":Kv(r,i),Be("invalid",r)}Jf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ac(r.textContent,l,t),s=["children",""+l]):el.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Zl(r),qv(r,i,!0);break;case"textarea":Zl(r),Gv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ku)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[ul]=r,w1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qf(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ma.length;s++)Be(Ma[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":Hv(t,r),s=Wf(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Kv(t,r),s=Kf(t,r),Be("invalid",t);break;default:s=r}Jf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Xb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tl(t,c):typeof c=="number"&&tl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(el.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",t):c!=null&&Km(t,i,c,o))}switch(n){case"input":Zl(t),qv(t,r,!1);break;case"textarea":Zl(t),Gv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?yo(t,!!r.multiple,i,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)b1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=li(hl.current),li(vr.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return jt(e),null;case 13:if(ze(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&on!==null&&e.mode&1&&!(e.flags&128))F_(),Bo(),e.flags|=98560,i=!1;else if(i=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[hr]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else qn!==null&&(Tp(qn),qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?ut===0&&(ut=3):Pg())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Vo(),_p(t,e),t===null&&ll(e.stateNode.containerInfo),jt(e),null;case 10:return hg(e.type._context),jt(e),null;case 17:return Jt(e.type)&&Eu(),jt(e),null;case 19:if(ze(Ge),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Sa(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ru(t),o!==null){for(e.flags|=128,Sa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Ho&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ru(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return jt(e),null}else 2*rt()-i.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Sa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=Ge.current,Fe(Ge,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return Ng(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function wT(t,e){switch(lg(e),e.tag){case 1:return Jt(e.type)&&Eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vo(),ze(Gt),ze(Pt),vg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gg(e),null;case 13:if(ze(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ge),null;case 4:return Vo(),null;case 10:return hg(e.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var dc=!1,Et=!1,xT=typeof WeakSet=="function"?WeakSet:Set,re=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Sp(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var Ly=!1;function bT(t,e){if(op=_u,t=E_(),og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var m;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===t)break t;if(g===n&&++u===s&&(l=o),g===i&&++d===r&&(c=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ap={focusedElem:t,selectionRange:n},_u=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var h=x.memoizedProps,y=x.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?h:Fn(e.type,h),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){Ze(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return x=Ly,Ly=!1,x}function Ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sp(e,n,i)}s=s.next}while(s!==r)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _1(t){var e=t.alternate;e!==null&&(t.alternate=null,_1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[ul],delete e[up],delete e[rT],delete e[sT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S1(t){return t.tag===5||t.tag===3||t.tag===4}function $y(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ku));else if(r!==4&&(t=t.child,t!==null))for(kp(t,e,n),t=t.sibling;t!==null;)kp(t,e,n),t=t.sibling}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}var vt=null,Wn=!1;function Xr(t,e,n){for(n=n.child;n!==null;)j1(t,e,n),n=n.sibling}function j1(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Et||mo(n,e);case 6:var r=vt,s=Wn;vt=null,Xr(t,e,n),vt=r,Wn=s,vt!==null&&(Wn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Wn?(t=vt,n=n.stateNode,t.nodeType===8?Mh(t.parentNode,n):t.nodeType===1&&Mh(t,n),il(t)):Mh(vt,n.stateNode));break;case 4:r=vt,s=Wn,vt=n.stateNode.containerInfo,Wn=!0,Xr(t,e,n),vt=r,Wn=s;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sp(n,e,o),s=s.next}while(s!==r)}Xr(t,e,n);break;case 1:if(!Et&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ze(n,e,l)}Xr(t,e,n);break;case 21:Xr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,Xr(t,e,n),Et=r):Xr(t,e,n);break;default:Xr(t,e,n)}}function Fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xT),e.forEach(function(r){var s=TT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Wn=!1;break e;case 3:vt=l.stateNode.containerInfo,Wn=!0;break e;case 4:vt=l.stateNode.containerInfo,Wn=!0;break e}l=l.return}if(vt===null)throw Error(q(160));j1(i,o,s),vt=null,Wn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k1(e,t),e=e.sibling}function k1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),rr(t),r&4){try{Ha(3,t,t.return),Ed(3,t)}catch(h){Ze(t,t.return,h)}try{Ha(5,t,t.return)}catch(h){Ze(t,t.return,h)}}break;case 1:Rn(e,t),rr(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(Rn(e,t),rr(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var s=t.stateNode;try{tl(s,"")}catch(h){Ze(t,t.return,h)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kb(s,i),Qf(l,o);var u=Qf(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?Xb(s,p):d==="dangerouslySetInnerHTML"?Qb(s,p):d==="children"?tl(s,p):Km(s,d,p,u)}switch(l){case"input":Hf(s,i);break;case"textarea":Gb(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yo(s,!!i.multiple,m,!1):g!==!!i.multiple&&(i.defaultValue!=null?yo(s,!!i.multiple,i.defaultValue,!0):yo(s,!!i.multiple,i.multiple?[]:"",!1))}s[ul]=i}catch(h){Ze(t,t.return,h)}}break;case 6:if(Rn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(h){Ze(t,t.return,h)}}break;case 3:if(Rn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(h){Ze(t,t.return,h)}break;case 4:Rn(e,t),rr(t);break;case 13:Rn(e,t),rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Eg=rt())),r&4&&Fy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(u=Et)||d,Rn(e,t),Et=u):Rn(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(p=re=d;re!==null;){switch(g=re,m=g.child,g.tag){case 0:case 11:case 14:case 15:Ha(4,g,g.return);break;case 1:mo(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(h){Ze(r,n,h)}}break;case 5:mo(g,g.return);break;case 22:if(g.memoizedState!==null){By(p);continue}}m!==null?(m.return=g,re=m):By(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Yb("display",o))}catch(h){Ze(t,t.return,h)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(h){Ze(t,t.return,h)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Rn(e,t),rr(t),r&4&&Fy(t);break;case 21:break;default:Rn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(tl(s,""),r.flags&=-33);var i=$y(t);Ep(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$y(t);kp(t,l,o);break;default:throw Error(q(161))}}catch(c){Ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _T(t,e,n){re=t,E1(t)}function E1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Et;l=dc;var u=Et;if(dc=o,(Et=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?zy(s):c!==null?(c.return=o,re=c):zy(s);for(;i!==null;)re=i,E1(i),i=i.sibling;re=s,dc=l,Et=u}Uy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):Uy(t)}}function Uy(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Ed(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&il(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Et||e.flags&512&&jp(e)}catch(g){Ze(e,e.return,g)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function By(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function zy(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ed(4,e)}catch(c){Ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ze(e,s,c)}}var i=e.return;try{jp(e)}catch(c){Ze(e,i,c)}break;case 5:var o=e.return;try{jp(e)}catch(c){Ze(e,o,c)}}}catch(c){Ze(e,e.return,c)}if(e===t){re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,re=l;break}re=e.return}}var ST=Math.ceil,Du=Wr.ReactCurrentDispatcher,jg=Wr.ReactCurrentOwner,jn=Wr.ReactCurrentBatchConfig,Pe=0,pt=null,it=null,xt=0,tn=0,go=$s(0),ut=0,gl=null,Ei=0,Cd=0,kg=0,qa=null,qt=null,Eg=0,Ho=1/0,jr=null,Lu=!1,Cp=null,Es=null,hc=!1,ws=null,$u=0,Ka=0,Np=null,ru=-1,su=0;function $t(){return Pe&6?rt():ru!==-1?ru:ru=rt()}function Cs(t){return t.mode&1?Pe&2&&xt!==0?xt&-xt:oT.transition!==null?(su===0&&(su=u_()),su):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:v_(t.type)),t):1}function Gn(t,e,n,r){if(50<Ka)throw Ka=0,Np=null,Error(q(185));Rl(t,n,r),(!(Pe&2)||t!==pt)&&(t===pt&&(!(Pe&2)&&(Cd|=n),ut===4&&ds(t,xt)),Qt(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ho=rt()+500,Sd&&Fs()))}function Qt(t,e){var n=t.callbackNode;oP(t,e);var r=bu(t,t===pt?xt:0);if(r===0)n!==null&&Yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yv(n),e===1)t.tag===0?iT(Vy.bind(null,t)):D_(Vy.bind(null,t)),tT(function(){!(Pe&6)&&Fs()}),n=null;else{switch(d_(r)){case 1:n=Xm;break;case 4:n=l_;break;case 16:n=xu;break;case 536870912:n=c_;break;default:n=xu}n=M1(n,C1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function C1(t,e){if(ru=-1,su=0,Pe&6)throw Error(q(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var r=bu(t,t===pt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fu(t,r);else{e=r;var s=Pe;Pe|=2;var i=P1();(pt!==t||xt!==e)&&(jr=null,Ho=rt()+500,vi(t,e));do try{ET();break}catch(l){N1(t,l)}while(!0);dg(),Du.current=i,Pe=s,it!==null?e=0:(pt=null,xt=0,e=ut)}if(e!==0){if(e===2&&(s=tp(t),s!==0&&(r=s,e=Pp(t,s))),e===1)throw n=gl,vi(t,0),ds(t,r),Qt(t,rt()),n;if(e===6)ds(t,r);else{if(s=t.current.alternate,!(r&30)&&!jT(s)&&(e=Fu(t,r),e===2&&(i=tp(t),i!==0&&(r=i,e=Pp(t,i))),e===1))throw n=gl,vi(t,0),ds(t,r),Qt(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Xs(t,qt,jr);break;case 3:if(ds(t,r),(r&130023424)===r&&(e=Eg+500-rt(),10<e)){if(bu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=cp(Xs.bind(null,t,qt,jr),e);break}Xs(t,qt,jr);break;case 4:if(ds(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ST(r/1960))-r,10<r){t.timeoutHandle=cp(Xs.bind(null,t,qt,jr),r);break}Xs(t,qt,jr);break;case 5:Xs(t,qt,jr);break;default:throw Error(q(329))}}}return Qt(t,rt()),t.callbackNode===n?C1.bind(null,t):null}function Pp(t,e){var n=qa;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=Fu(t,e),t!==2&&(e=qt,qt=n,e!==null&&Tp(e)),t}function Tp(t){qt===null?qt=t:qt.push.apply(qt,t)}function jT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ds(t,e){for(e&=~kg,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function Vy(t){if(Pe&6)throw Error(q(327));So();var e=bu(t,0);if(!(e&1))return Qt(t,rt()),null;var n=Fu(t,e);if(t.tag!==0&&n===2){var r=tp(t);r!==0&&(e=r,n=Pp(t,r))}if(n===1)throw n=gl,vi(t,0),ds(t,e),Qt(t,rt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,qt,jr),Qt(t,rt()),null}function Cg(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ho=rt()+500,Sd&&Fs())}}function Ci(t){ws!==null&&ws.tag===0&&!(Pe&6)&&So();var e=Pe;Pe|=1;var n=jn.transition,r=Ae;try{if(jn.transition=null,Ae=1,t)return t()}finally{Ae=r,jn.transition=n,Pe=e,!(Pe&6)&&Fs()}}function Ng(){tn=go.current,ze(go)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eT(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eu();break;case 3:Vo(),ze(Gt),ze(Pt),vg();break;case 5:gg(r);break;case 4:Vo();break;case 13:ze(Ge);break;case 19:ze(Ge);break;case 10:hg(r.type._context);break;case 22:case 23:Ng()}n=n.return}if(pt=t,it=t=Ns(t.current,null),xt=tn=e,ut=0,gl=null,kg=Cd=Ei=0,qt=qa=null,ai!==null){for(e=0;e<ai.length;e++)if(n=ai[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ai=null}return t}function N1(t,e){do{var n=it;try{if(dg(),eu.current=Iu,Mu){for(var r=Je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Mu=!1}if(ki=0,ht=ct=Je=null,Wa=!1,fl=0,jg.current=null,n===null||n.return===null){ut=1,gl=e,it=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ty(o);if(m!==null){m.flags&=-257,Oy(m,o,l,i,e),m.mode&1&&Py(i,u,e),e=m,c=u;var x=e.updateQueue;if(x===null){var h=new Set;h.add(c),e.updateQueue=h}else x.add(c);break e}else{if(!(e&1)){Py(i,u,e),Pg();break e}c=Error(q(426))}}else if(He&&l.mode&1){var y=Ty(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Oy(y,o,l,i,e),cg(Wo(c,l));break e}}i=c=Wo(c,l),ut!==4&&(ut=2),qa===null?qa=[i]:qa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=d1(i,c,e);Sy(i,w);break e;case 1:l=c;var v=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Es===null||!Es.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=h1(i,l,e);Sy(i,k);break e}}i=i.return}while(i!==null)}O1(n)}catch(E){e=E,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function P1(){var t=Du.current;return Du.current=Iu,t===null?Iu:t}function Pg(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(Ei&268435455)&&!(Cd&268435455)||ds(pt,xt)}function Fu(t,e){var n=Pe;Pe|=2;var r=P1();(pt!==t||xt!==e)&&(jr=null,vi(t,e));do try{kT();break}catch(s){N1(t,s)}while(!0);if(dg(),Pe=n,Du.current=r,it!==null)throw Error(q(261));return pt=null,xt=0,ut}function kT(){for(;it!==null;)T1(it)}function ET(){for(;it!==null&&!YN();)T1(it)}function T1(t){var e=R1(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?O1(t):it=e,jg.current=null}function O1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wT(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}else if(n=yT(n,e,tn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ut===0&&(ut=5)}function Xs(t,e,n){var r=Ae,s=jn.transition;try{jn.transition=null,Ae=1,CT(t,e,n,r)}finally{jn.transition=s,Ae=r}return null}function CT(t,e,n,r){do So();while(ws!==null);if(Pe&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(aP(t,i),t===pt&&(it=pt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,M1(xu,function(){return So(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=Ae;Ae=1;var l=Pe;Pe|=4,jg.current=null,bT(t,n),k1(n,t),KP(ap),_u=!!op,ap=op=null,t.current=n,_T(n),XN(),Pe=l,Ae=o,jn.transition=i}else t.current=n;if(hc&&(hc=!1,ws=t,$u=s),i=t.pendingLanes,i===0&&(Es=null),tP(n.stateNode),Qt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lu)throw Lu=!1,t=Cp,Cp=null,t;return $u&1&&t.tag!==0&&So(),i=t.pendingLanes,i&1?t===Np?Ka++:(Ka=0,Np=t):Ka=0,Fs(),null}function So(){if(ws!==null){var t=d_($u),e=jn.transition,n=Ae;try{if(jn.transition=null,Ae=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,$u=0,Pe&6)throw Error(q(331));var s=Pe;for(Pe|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Ha(8,d,i)}var p=d.child;if(p!==null)p.return=d,re=p;else for(;re!==null;){d=re;var g=d.sibling,m=d.return;if(_1(d),d===u){re=null;break}if(g!==null){g.return=m,re=g;break}re=m}}}var x=i.alternate;if(x!==null){var h=x.child;if(h!==null){x.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(h!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ha(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,re=w;break e}re=i.return}}var v=t.current;for(re=v;re!==null;){o=re;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,re=_;else e:for(o=v;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(E){Ze(l,l.return,E)}if(l===o){re=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,re=k;break e}re=l.return}}if(Pe=s,Fs(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{Ae=n,jn.transition=e}}return!1}function Wy(t,e,n){e=Wo(n,e),e=d1(t,e,1),t=ks(t,e,1),e=$t(),t!==null&&(Rl(t,1,e),Qt(t,e))}function Ze(t,e,n){if(t.tag===3)Wy(t,t,n);else for(;e!==null;){if(e.tag===3){Wy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=Wo(n,t),t=h1(e,t,1),e=ks(e,t,1),t=$t(),e!==null&&(Rl(e,1,t),Qt(e,t));break}}e=e.return}}function NT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$t(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(xt&n)===n&&(ut===4||ut===3&&(xt&130023424)===xt&&500>rt()-Eg?vi(t,0):kg|=n),Qt(t,e)}function A1(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=$t();t=Ur(t,e),t!==null&&(Rl(t,e,n),Qt(t,n))}function PT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A1(t,n)}function TT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),A1(t,n)}var R1;R1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,vT(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,He&&e.flags&1048576&&L_(e,Pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nu(t,e),t=e.pendingProps;var s=Uo(e,Pt.current);_o(e,n),s=wg(null,e,r,t,s,n);var i=xg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(i=!0,Cu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pg(e),s.updater=kd,e.stateNode=s,s._reactInternals=e,gp(e,r,t,n),e=wp(null,e,r,!0,i,n)):(e.tag=0,He&&i&&ag(e),Rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AT(r),t=Fn(r,t),s){case 0:e=yp(null,e,r,t,n);break e;case 1:e=My(null,e,r,t,n);break e;case 11:e=Ay(null,e,r,t,n);break e;case 14:e=Ry(null,e,r,Fn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),yp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),My(t,e,r,s,n);case 3:e:{if(g1(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,V_(t,e),Au(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wo(Error(q(423)),e),e=Iy(t,e,r,n,s);break e}else if(r!==s){s=Wo(Error(q(424)),e),e=Iy(t,e,r,n,s);break e}else for(on=js(e.stateNode.containerInfo.firstChild),ln=e,He=!0,qn=null,n=B_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Br(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return W_(e),t===null&&fp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,lp(r,s)?o=null:i!==null&&lp(r,i)&&(e.flags|=32),m1(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&fp(e),null;case 13:return v1(t,e,n);case 4:return mg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),Ay(t,e,r,s,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Fe(Tu,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!Gt.current){e=Br(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Dr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),pp(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_o(e,n),s=En(s),r=r(s),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,s=Fn(r,e.pendingProps),s=Fn(r.type,s),Ry(t,e,r,s,n);case 15:return f1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fn(r,s),nu(t,e),e.tag=1,Jt(r)?(t=!0,Cu(e)):t=!1,_o(e,n),u1(e,r,s),gp(e,r,s,n),wp(null,e,r,!0,t,n);case 19:return y1(t,e,n);case 22:return p1(t,e,n)}throw Error(q(156,e.tag))};function M1(t,e){return a_(t,e)}function OT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new OT(t,e,n,r)}function Tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AT(t){if(typeof t=="function")return Tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jm)return 11;if(t===Qm)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function iu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return yi(n.children,s,i,e);case Gm:o=8,s|=8;break;case Uf:return t=_n(12,n,e,s|2),t.elementType=Uf,t.lanes=i,t;case Bf:return t=_n(13,n,e,s),t.elementType=Bf,t.lanes=i,t;case zf:return t=_n(19,n,e,s),t.elementType=zf,t.lanes=i,t;case Wb:return Nd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zb:o=10;break e;case Vb:o=9;break e;case Jm:o=11;break e;case Qm:o=14;break e;case as:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=_n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yi(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function Nd(t,e,n,r){return t=_n(22,t,r,e),t.elementType=Wb,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,s,i,o,l,c){return t=new RT(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(i),t}function MT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I1(t){if(!t)return Os;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Jt(n))return I_(t,n,e)}return e}function D1(t,e,n,r,s,i,o,l,c){return t=Og(n,r,!0,t,s,i,o,l,c),t.context=I1(null),n=t.current,r=$t(),s=Cs(n),i=Dr(r,s),i.callback=e??null,ks(n,i,s),t.current.lanes=s,Rl(t,s,r),Qt(t,r),t}function Pd(t,e,n,r){var s=e.current,i=$t(),o=Cs(s);return n=I1(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ks(s,e,o),t!==null&&(Gn(t,s,o,i),Zc(t,s,o)),o}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ag(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function IT(){return null}var L1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rg(t){this._internalRoot=t}Td.prototype.render=Rg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pd(t,e,null,null)};Td.prototype.unmount=Rg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Pd(null,t,null,null)}),e[Fr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=p_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<us.length&&e!==0&&e<us[n].priority;n++);us.splice(n,0,t),n===0&&g_(t)}};function Mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qy(){}function DT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Uu(o);i.call(u)}}var o=D1(e,r,t,0,null,!1,!1,"",qy);return t._reactRootContainer=o,t[Fr]=o.current,ll(t.nodeType===8?t.parentNode:t),Ci(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Uu(c);l.call(u)}}var c=Og(t,0,!1,null,null,!1,!1,"",qy);return t._reactRootContainer=c,t[Fr]=c.current,ll(t.nodeType===8?t.parentNode:t),Ci(function(){Pd(e,c,n,r)}),c}function Ad(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Uu(o);l.call(c)}}Pd(e,o,t,s)}else o=DT(n,e,t,s,r);return Uu(o)}h_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(Zm(e,n|1),Qt(e,rt()),!(Pe&6)&&(Ho=rt()+500,Fs()))}break;case 13:Ci(function(){var r=Ur(t,1);if(r!==null){var s=$t();Gn(r,t,1,s)}}),Ag(t,1)}};eg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=$t();Gn(e,t,134217728,n)}Ag(t,134217728)}};f_=function(t){if(t.tag===13){var e=Cs(t),n=Ur(t,e);if(n!==null){var r=$t();Gn(n,t,e,r)}Ag(t,e)}};p_=function(){return Ae};m_=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Xf=function(t,e,n){switch(e){case"input":if(Hf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=_d(r);if(!s)throw Error(q(90));qb(r),Hf(r,s)}}}break;case"textarea":Gb(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};t_=Cg;n_=Ci;var LT={usingClientEntryPoint:!1,Events:[Il,co,_d,Zb,e_,Cg]},ja={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$T={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=i_(t),t===null?null:t.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||IT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{yd=fc.inject($T),gr=fc}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mg(e))throw Error(q(200));return MT(t,e,null,n)};dn.createRoot=function(t,e){if(!Mg(t))throw Error(q(299));var n=!1,r="",s=L1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,ll(t.nodeType===8?t.parentNode:t),new Rg(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=i_(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Ci(t)};dn.hydrate=function(t,e,n){if(!Od(e))throw Error(q(200));return Ad(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Mg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=L1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D1(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,ll(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Td(e)};dn.render=function(t,e,n){if(!Od(e))throw Error(q(200));return Ad(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Od(t))throw Error(q(40));return t._reactRootContainer?(Ci(function(){Ad(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};dn.unstable_batchedUpdates=Cg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Ad(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function $1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($1)}catch(t){console.error(t)}}$1(),$b.exports=dn;var $i=$b.exports;const F1=Eb($i);var U1,Ky=$i;U1=Ky.createRoot,Ky.hydrateRoot;const FT=1,UT=1e6;let Wh=0;function BT(){return Wh=(Wh+1)%Number.MAX_SAFE_INTEGER,Wh.toString()}const Hh=new Map,Gy=t=>{if(Hh.has(t))return;const e=setTimeout(()=>{Hh.delete(t),Ga({type:"REMOVE_TOAST",toastId:t})},UT);Hh.set(t,e)},zT=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,FT)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Gy(n):t.toasts.forEach(r=>{Gy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ou=[];let au={toasts:[]};function Ga(t){au=zT(au,t),ou.forEach(e=>{e(au)})}function VT({...t}){const e=BT(),n=s=>Ga({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ga({type:"DISMISS_TOAST",toastId:e});return Ga({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function et(){const[t,e]=b.useState(au);return b.useEffect(()=>(ou.push(e),()=>{const n=ou.indexOf(e);n>-1&&ou.splice(n,1)}),[t]),{...t,toast:VT,dismiss:n=>Ga({type:"DISMISS_TOAST",toastId:n})}}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Jy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Jy(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Jy(t[s],null)}}}}function Ve(...t){return b.useCallback(B1(...t),t)}function WT(t,e){const n=b.createContext(e),r=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Fi(t,e=[]){let n=[];function r(i,o){const l=b.createContext(o),c=n.length;n=[...n,o];const u=p=>{var w;const{scope:g,children:m,...x}=p,h=((w=g==null?void 0:g[t])==null?void 0:w[c])||l,y=b.useMemo(()=>x,Object.values(x));return a.jsx(h.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(p,g){var h;const m=((h=g==null?void 0:g[t])==null?void 0:h[c])||l,x=b.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,HT(s,...e)]}function HT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qo(t){const e=KT(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,l=b.Children.toArray(i),c=l.find(JT);if(c){const u=c.props.children,d=l.map(p=>p===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:p);return a.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var qT=qo("Slot");function KT(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=YT(s),l=QT(i,s.props);return s.type!==b.Fragment&&(l.ref=r?B1(r,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var z1=Symbol("radix.slottable");function GT(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=z1,e}function JT(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===z1}function QT(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function YT(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function V1(t){const e=t+"CollectionProvider",[n,r]=Fi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:y,children:w}=h,v=X.useRef(null),_=X.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:_,collectionRef:v,children:w})};o.displayName=e;const l=t+"CollectionSlot",c=qo(l),u=X.forwardRef((h,y)=>{const{scope:w,children:v}=h,_=i(l,w),k=Ve(y,_.collectionRef);return a.jsx(c,{ref:k,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",p="data-radix-collection-item",g=qo(d),m=X.forwardRef((h,y)=>{const{scope:w,children:v,..._}=h,k=X.useRef(null),E=Ve(y,k),N=i(d,w);return X.useEffect(()=>(N.itemMap.set(k,{ref:k,..._}),()=>void N.itemMap.delete(k))),a.jsx(g,{[p]:"",ref:E,children:v})});m.displayName=d;function x(h){const y=i(t+"CollectionConsumer",h);return X.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${p}]`));return Array.from(y.itemMap.values()).sort((N,T)=>_.indexOf(N.ref.current)-_.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var XT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=XT.reduce((t,e)=>{const n=qo(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function W1(t,e){t&&$i.flushSync(()=>t.dispatchEvent(e))}function Nn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ZT(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var eO="DismissableLayer",Op="dismissableLayer.update",tO="dismissableLayer.pointerDownOutside",nO="dismissableLayer.focusOutside",Qy,H1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ll=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(H1),[d,p]=b.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),x=Ve(e,T=>p(T)),h=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=h.indexOf(y),v=d?h.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=w,E=sO(T=>{const O=T.target,F=[...u.branches].some(R=>R.contains(O));!k||F||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),N=iO(T=>{const O=T.target;[...u.branches].some(R=>R.contains(O))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return ZT(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qy=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Yy(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Qy)}},[d,g,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Yy())},[d,u]),b.useEffect(()=>{const T=()=>m({});return document.addEventListener(Op,T),()=>document.removeEventListener(Op,T)},[]),a.jsx(ke.div,{...c,ref:x,style:{pointerEvents:_?k?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,E.onPointerDownCapture)})});Ll.displayName=eO;var rO="DismissableLayerBranch",q1=b.forwardRef((t,e)=>{const n=b.useContext(H1),r=b.useRef(null),s=Ve(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(ke.div,{...t,ref:s})});q1.displayName=rO;function sO(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){K1(tO,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iO(t,e=globalThis==null?void 0:globalThis.document){const n=Nn(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&K1(nO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yy(){const t=new CustomEvent(Op);document.dispatchEvent(t)}function K1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?W1(s,i):s.dispatchEvent(i)}var oO=Ll,aO=q1,ot=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},lO="Portal",Rd=b.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=b.useState(!1);ot(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?F1.createPortal(a.jsx(ke.div,{...r,ref:e}),o):null});Rd.displayName=lO;function cO(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var la=t=>{const{present:e,children:n}=t,r=uO(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Ve(r.ref,dO(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};la.displayName="Presence";function uO(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=cO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=pc(r.current);i.current=l==="mounted"?u:"none"},[l]),ot(()=>{const u=r.current,d=s.current;if(d!==t){const g=i.current,m=pc(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ot(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=m=>{const h=pc(r.current).includes(m.animationName);if(m.target===e&&h&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},g=m=>{m.target===e&&(i.current=pc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function pc(t){return(t==null?void 0:t.animationName)||"none"}function dO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var hO=Wm[" useInsertionEffect ".trim().toString()]||ot;function Bu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=fO({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const p=d.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=b.useCallback(d=>{var p;if(l){const g=pO(d)?d(t):d;g!==t&&((p=o.current)==null||p.call(o,g))}else i(d)},[l,t,i,o]);return[c,u]}function fO({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return hO(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function pO(t){return typeof t=="function"}var G1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mO="VisuallyHidden",Md=b.forwardRef((t,e)=>a.jsx(ke.span,{...t,ref:e,style:{...G1,...t.style}}));Md.displayName=mO;var gO=Md,Ig="ToastProvider",[Dg,vO,yO]=V1("Toast"),[J1,X5]=Fi("Toast",[yO]),[wO,Id]=J1(Ig),Q1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=b.useState(null),[u,d]=b.useState(0),p=b.useRef(!1),g=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ig}\`. Expected non-empty \`string\`.`),a.jsx(Dg.Provider,{scope:e,children:a.jsx(wO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};Q1.displayName=Ig;var Y1="ToastViewport",xO=["F8"],Ap="toast.viewportPause",Rp="toast.viewportResume",X1=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=xO,label:s="Notifications ({hotkey})",...i}=t,o=Id(Y1,n),l=vO(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),p=b.useRef(null),g=Ve(e,p,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const y=w=>{var _;r.length!==0&&r.every(k=>w[k]||w.code===k)&&((_=p.current)==null||_.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),b.useEffect(()=>{const y=c.current,w=p.current;if(x&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Ap);w.dispatchEvent(N),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Rp);w.dispatchEvent(N),o.isClosePausedRef.current=!1}},k=N=>{!y.contains(N.relatedTarget)&&_()},E=()=>{y.contains(document.activeElement)||_()};return y.addEventListener("focusin",v),y.addEventListener("focusout",k),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[x,o.isClosePausedRef]);const h=b.useCallback(({tabbingDirection:y})=>{const v=l().map(_=>{const k=_.ref.current,E=[k,...RO(k)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return b.useEffect(()=>{const y=p.current;if(y){const w=v=>{var E,N,T;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const O=document.activeElement,F=v.shiftKey;if(v.target===y&&F){(E=u.current)==null||E.focus();return}const M=h({tabbingDirection:F?"backwards":"forwards"}),H=M.findIndex(D=>D===O);qh(M.slice(H+1))?v.preventDefault():F?(N=u.current)==null||N.focus():(T=d.current)==null||T.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,h]),a.jsxs(aO,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(Mp,{ref:u,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"forwards"});qh(y)}}),a.jsx(Dg.Slot,{scope:n,children:a.jsx(ke.ol,{tabIndex:-1,...i,ref:g})}),x&&a.jsx(Mp,{ref:d,onFocusFromOutsideViewport:()=>{const y=h({tabbingDirection:"backwards"});qh(y)}})]})});X1.displayName=Y1;var Z1="ToastFocusProxy",Mp=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Id(Z1,n);return a.jsx(Md,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Mp.displayName=Z1;var $l="Toast",bO="toast.swipeStart",_O="toast.swipeMove",SO="toast.swipeCancel",jO="toast.swipeEnd",eS=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=Bu({prop:r,defaultProp:s??!0,onChange:i,caller:$l});return a.jsx(la,{present:n||l,children:a.jsx(CO,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Nn(t.onPause),onResume:Nn(t.onResume),onSwipeStart:Se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});eS.displayName=$l;var[kO,EO]=J1($l,{onClose(){}}),CO=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:m,...x}=t,h=Id($l,n),[y,w]=b.useState(null),v=Ve(e,D=>w(D)),_=b.useRef(null),k=b.useRef(null),E=s||h.duration,N=b.useRef(0),T=b.useRef(E),O=b.useRef(0),{onToastAdd:F,onToastRemove:R}=h,K=Nn(()=>{var G;(y==null?void 0:y.contains(document.activeElement))&&((G=h.viewport)==null||G.focus()),o()}),M=b.useCallback(D=>{!D||D===1/0||(window.clearTimeout(O.current),N.current=new Date().getTime(),O.current=window.setTimeout(K,D))},[K]);b.useEffect(()=>{const D=h.viewport;if(D){const G=()=>{M(T.current),u==null||u()},J=()=>{const ne=new Date().getTime()-N.current;T.current=T.current-ne,window.clearTimeout(O.current),c==null||c()};return D.addEventListener(Ap,J),D.addEventListener(Rp,G),()=>{D.removeEventListener(Ap,J),D.removeEventListener(Rp,G)}}},[h.viewport,E,c,u,M]),b.useEffect(()=>{i&&!h.isClosePausedRef.current&&M(E)},[i,E,h.isClosePausedRef,M]),b.useEffect(()=>(F(),()=>R()),[F,R]);const H=b.useMemo(()=>y?aS(y):null,[y]);return h.viewport?a.jsxs(a.Fragment,{children:[H&&a.jsx(NO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),a.jsx(kO,{scope:n,onClose:K,children:$i.createPortal(a.jsx(Dg.ItemSlot,{scope:n,children:a.jsx(oO,{asChild:!0,onEscapeKeyDown:Se(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||K(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Se(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:Se(t.onPointerDown,D=>{D.button===0&&(_.current={x:D.clientX,y:D.clientY})}),onPointerMove:Se(t.onPointerMove,D=>{if(!_.current)return;const G=D.clientX-_.current.x,J=D.clientY-_.current.y,ne=!!k.current,I=["left","right"].includes(h.swipeDirection),U=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,ee=I?U(0,G):0,he=I?0:U(0,J),ie=D.pointerType==="touch"?10:2,f={x:ee,y:he},j={originalEvent:D,delta:f};ne?(k.current=f,mc(_O,p,j,{discrete:!1})):Xy(f,h.swipeDirection,ie)?(k.current=f,mc(bO,d,j,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(G)>ie||Math.abs(J)>ie)&&(_.current=null)}),onPointerUp:Se(t.onPointerUp,D=>{const G=k.current,J=D.target;if(J.hasPointerCapture(D.pointerId)&&J.releasePointerCapture(D.pointerId),k.current=null,_.current=null,G){const ne=D.currentTarget,I={originalEvent:D,delta:G};Xy(G,h.swipeDirection,h.swipeThreshold)?mc(jO,m,I,{discrete:!0}):mc(SO,g,I,{discrete:!0}),ne.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),NO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Id($l,e),[i,o]=b.useState(!1),[l,c]=b.useState(!1);return OO(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Rd,{asChild:!0,children:a.jsx(Md,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},PO="ToastTitle",tS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ke.div,{...r,ref:e})});tS.displayName=PO;var TO="ToastDescription",nS=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ke.div,{...r,ref:e})});nS.displayName=TO;var rS="ToastAction",sS=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(oS,{altText:n,asChild:!0,children:a.jsx(Lg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),null)});sS.displayName=rS;var iS="ToastClose",Lg=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=EO(iS,n);return a.jsx(oS,{asChild:!0,children:a.jsx(ke.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,s.onClose)})})});Lg.displayName=iS;var oS=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function aS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),AO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aS(r))}}),e}function mc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?W1(s,i):s.dispatchEvent(i)}var Xy=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function OO(t=()=>{}){const e=Nn(t);ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function AO(t){return t.nodeType===t.ELEMENT_NODE}function RO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var MO=Q1,lS=X1,cS=eS,uS=tS,dS=nS,hS=sS,fS=Lg;function pS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=pS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=pS(t))&&(r&&(r+=" "),r+=e);return r}const Zy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ew=mS,Fl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ew(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const g=Zy(d)||Zy(p);return s[u][g]}),l=n&&Object.entries(n).reduce((u,d)=>{let[p,g]=d;return g===void 0||(u[p]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:g,...m}=d;return Object.entries(m).every(x=>{let[h,y]=x;return Array.isArray(y)?y.includes({...i,...l}[h]):{...i,...l}[h]===y})?[...u,p,g]:u},[]);return ew(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...DO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gS("lucide",s),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(LO,{ref:i,iconNode:e,className:gS(`lucide-${IO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=de("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=de("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=de("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=de("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=de("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=de("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=de("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=de("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=de("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ug="-",tA=t=>{const e=rA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Ug);return l[0]===""&&l.length!==1&&l.shift(),ES(l,e)||nA(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},ES=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ES(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ug);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},ow=/^\[(.+)\]$/,nA=t=>{if(ow.test(t)){const e=ow.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},rA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return iA(Object.entries(t.classGroups),n).forEach(([i,o])=>{$p(o,r,i,e)}),r},$p=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:aw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(sA(s)){$p(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{$p(o,aw(e,i),n,r)})})},aw=(t,e)=>{let n=t;return e.split(Ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sA=t=>t.isThemeGetter,iA=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,oA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},CS="!",aA=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,p;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===s&&(r||l.slice(y,y+i)===e)){c.push(l.slice(d,y)),d=y+i;continue}if(w==="/"){p=y;continue}}w==="["?u++:w==="]"&&u--}const g=c.length===0?l:l.substring(d),m=g.startsWith(CS),x=m?g.substring(1):g,h=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:o}):o},lA=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cA=t=>({cache:oA(t.cacheSize),parseClassName:aA(t),...tA(t)}),uA=/\s+/,dA=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(uA);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}=n(u);let x=!!m,h=r(x?g.substring(0,m):g);if(!h){if(!x){l=u+(l.length>0?" "+l:l);continue}if(h=r(g),!h){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=lA(d).join(":"),w=p?y+CS:y,v=w+h;if(i.includes(v))continue;i.push(v);const _=s(h,x);for(let k=0;k<_.length;++k){const E=_[k];i.push(w+E)}l=u+(l.length>0?" "+l:l)}return l};function hA(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NS(e))&&(r&&(r+=" "),r+=n);return r}const NS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NS(t[r]))&&(n&&(n+=" "),n+=e);return n};function fA(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,p)=>p(d),t());return n=cA(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=dA(c,n);return s(c,d),d}return function(){return i(hA.apply(null,arguments))}}const Ue=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PS=/^\[(?:([a-z-]+):)?(.+)\]$/i,pA=/^\d+\/\d+$/,mA=new Set(["px","full","screen"]),gA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>jo(t)||mA.has(t)||pA.test(t),Zr=t=>ca(t,"length",NA),jo=t=>!!t&&!Number.isNaN(Number(t)),Kh=t=>ca(t,"number",jo),ka=t=>!!t&&Number.isInteger(Number(t)),bA=t=>t.endsWith("%")&&jo(t.slice(0,-1)),be=t=>PS.test(t),es=t=>gA.test(t),_A=new Set(["length","size","percentage"]),SA=t=>ca(t,_A,TS),jA=t=>ca(t,"position",TS),kA=new Set(["image","url"]),EA=t=>ca(t,kA,TA),CA=t=>ca(t,"",PA),Ea=()=>!0,ca=(t,e,n)=>{const r=PS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},NA=t=>vA.test(t)&&!yA.test(t),TS=()=>!1,PA=t=>wA.test(t),TA=t=>xA.test(t),OA=()=>{const t=Ue("colors"),e=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),l=Ue("borderWidth"),c=Ue("contrast"),u=Ue("grayscale"),d=Ue("hueRotate"),p=Ue("invert"),g=Ue("gap"),m=Ue("gradientColorStops"),x=Ue("gradientColorStopPositions"),h=Ue("inset"),y=Ue("margin"),w=Ue("opacity"),v=Ue("padding"),_=Ue("saturate"),k=Ue("scale"),E=Ue("sepia"),N=Ue("skew"),T=Ue("space"),O=Ue("translate"),F=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",be,e],M=()=>[be,e],H=()=>["",_r,Zr],D=()=>["auto",jo,be],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",be],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[jo,be];return{cacheSize:500,separator:":",theme:{colors:[Ea],spacing:[_r,Zr],blur:["none","",es,be],brightness:he(),borderColor:[t],borderRadius:["none","","full",es,be],borderSpacing:M(),borderWidth:H(),contrast:he(),grayscale:U(),hueRotate:he(),invert:U(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[bA,Zr],inset:K(),margin:K(),opacity:he(),padding:M(),saturate:he(),scale:he(),sepia:U(),skew:he(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),be]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ka,be]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",ka,be]}],"grid-cols":[{"grid-cols":[Ea]}],"col-start-end":[{col:["auto",{span:["full",ka,be]},be]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[Ea]}],"row-start-end":[{row:["auto",{span:[ka,be]},be]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kh]}],"font-family":[{font:[Ea]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",jo,Kh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Zr]}],"underline-offset":[{"underline-offset":["auto",_r,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),jA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[_r,be]}],"outline-w":[{outline:[_r,Zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[_r,Zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,CA]}],"shadow-color":[{shadow:[Ea]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ka,be]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,Zr,Kh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AA=fA(OA);function me(...t){return AA(mS(t))}const RA=MO,OS=b.forwardRef(({className:t,...e},n)=>a.jsx(lS,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));OS.displayName=lS.displayName;const MA=Fl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AS=b.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(cS,{ref:r,className:me(MA({variant:e}),t),...n}));AS.displayName=cS.displayName;const IA=b.forwardRef(({className:t,...e},n)=>a.jsx(hS,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));IA.displayName=hS.displayName;const RS=b.forwardRef(({className:t,...e},n)=>a.jsx(fS,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Fg,{className:"h-4 w-4"})}));RS.displayName=fS.displayName;const MS=b.forwardRef(({className:t,...e},n)=>a.jsx(uS,{ref:n,className:me("text-sm font-semibold",t),...e}));MS.displayName=uS.displayName;const IS=b.forwardRef(({className:t,...e},n)=>a.jsx(dS,{ref:n,className:me("text-sm opacity-90",t),...e}));IS.displayName=dS.displayName;function DA(){const{toasts:t}=et();return a.jsxs(RA,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(AS,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(MS,{children:n}),r&&a.jsx(IS,{children:r})]}),s,a.jsx(RS,{})]},e)}),a.jsx(OS,{})]})}var lw=["light","dark"],LA="(prefers-color-scheme: dark)",$A=b.createContext(void 0),FA={setTheme:t=>{},themes:[]},UA=()=>{var t;return(t=b.useContext($A))!=null?t:FA};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?lw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(x,h=!1,y=!0)=>{let w=o?o[x]:x,v=h?x+"|| ''":`'${w}'`,_="";return s&&y&&!h&&lw.includes(x)&&(_+=`d.style.colorScheme = '${x}';`),n==="class"?h||w?_+=`c.add(${v})`:_+="null":w&&(_+=`d[s](n,${v})`),_},m=t?`!function(){${d}${g(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${LA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${u?"":"else{"+g(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${p}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var BA=t=>{switch(t){case"success":return WA;case"info":return qA;case"warning":return HA;case"error":return KA;default:return null}},zA=Array(12).fill(0),VA=({visible:t,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},X.createElement("div",{className:"sonner-spinner"},zA.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),WA=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HA=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qA=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KA=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GA=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JA=()=>{let[t,e]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Fp=1,QA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Fp++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],X.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(XA(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:p})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:p})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Fp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ht=new QA,YA=(t,e)=>{let n=(e==null?void 0:e.id)||Fp++;return Ht.addToast({title:t,...e,id:n}),n},XA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ZA=YA,e2=()=>Ht.toasts,t2=()=>Ht.getActiveToasts();Object.assign(ZA,{success:Ht.success,info:Ht.info,warning:Ht.warning,error:Ht.error,custom:Ht.custom,message:Ht.message,promise:Ht.promise,dismiss:Ht.dismiss,loading:Ht.loading},{getHistory:e2,getToasts:t2});function n2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}n2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gc(t){return t.label!==void 0}var r2=3,s2="32px",i2="16px",cw=4e3,o2=356,a2=14,l2=20,c2=200;function Mn(...t){return t.filter(Boolean).join(" ")}function u2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var d2=t=>{var e,n,r,s,i,o,l,c,u,d,p;let{invert:g,toast:m,unstyled:x,interacting:h,setHeights:y,visibleToasts:w,heights:v,index:_,toasts:k,expanded:E,removeToast:N,defaultRichColors:T,closeButton:O,style:F,cancelButtonStyle:R,actionButtonStyle:K,className:M="",descriptionClassName:H="",duration:D,position:G,gap:J,loadingIcon:ne,expandByDefault:I,classNames:U,icons:ee,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:ie}=t,[f,j]=X.useState(null),[S,P]=X.useState(null),[C,A]=X.useState(!1),[$,L]=X.useState(!1),[V,te]=X.useState(!1),[ce,qe]=X.useState(!1),[Tt,zt]=X.useState(!1),[De,dt]=X.useState(0),[Vt,Kr]=X.useState(0),nr=X.useRef(m.duration||D||cw),Gr=X.useRef(null),Xt=X.useRef(null),Gl=_===0,ph=_+1<=w,Wt=m.type,Vi=m.dismissible!==!1,oN=m.className||"",aN=m.descriptionClassName||"",Jl=X.useMemo(()=>v.findIndex(ye=>ye.toastId===m.id)||0,[v,m.id]),lN=X.useMemo(()=>{var ye;return(ye=m.closeButton)!=null?ye:O},[m.closeButton,O]),Mv=X.useMemo(()=>m.duration||D||cw,[m.duration,D]),mh=X.useRef(0),Wi=X.useRef(0),Iv=X.useRef(0),Hi=X.useRef(null),[cN,uN]=G.split("-"),Dv=X.useMemo(()=>v.reduce((ye,Re,We)=>We>=Jl?ye:ye+Re.height,0),[v,Jl]),Lv=JA(),dN=m.invert||g,gh=Wt==="loading";Wi.current=X.useMemo(()=>Jl*J+Dv,[Jl,Dv]),X.useEffect(()=>{nr.current=Mv},[Mv]),X.useEffect(()=>{A(!0)},[]),X.useEffect(()=>{let ye=Xt.current;if(ye){let Re=ye.getBoundingClientRect().height;return Kr(Re),y(We=>[{toastId:m.id,height:Re,position:m.position},...We]),()=>y(We=>We.filter(Tn=>Tn.toastId!==m.id))}},[y,m.id]),X.useLayoutEffect(()=>{if(!C)return;let ye=Xt.current,Re=ye.style.height;ye.style.height="auto";let We=ye.getBoundingClientRect().height;ye.style.height=Re,Kr(We),y(Tn=>Tn.find(On=>On.toastId===m.id)?Tn.map(On=>On.toastId===m.id?{...On,height:We}:On):[{toastId:m.id,height:We,position:m.position},...Tn])},[C,m.title,m.description,y,m.id]);let Jr=X.useCallback(()=>{L(!0),dt(Wi.current),y(ye=>ye.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{N(m)},c2)},[m,N,y,Wi]);X.useEffect(()=>{if(m.promise&&Wt==="loading"||m.duration===1/0||m.type==="loading")return;let ye;return E||h||ie&&Lv?(()=>{if(Iv.current<mh.current){let Re=new Date().getTime()-mh.current;nr.current=nr.current-Re}Iv.current=new Date().getTime()})():nr.current!==1/0&&(mh.current=new Date().getTime(),ye=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),Jr()},nr.current)),()=>clearTimeout(ye)},[E,h,m,Wt,ie,Lv,Jr]),X.useEffect(()=>{m.delete&&Jr()},[Jr,m.delete]);function hN(){var ye,Re,We;return ee!=null&&ee.loading?X.createElement("div",{className:Mn(U==null?void 0:U.loader,(ye=m==null?void 0:m.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Wt==="loading"},ee.loading):ne?X.createElement("div",{className:Mn(U==null?void 0:U.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":Wt==="loading"},ne):X.createElement(VA,{className:Mn(U==null?void 0:U.loader,(We=m==null?void 0:m.classNames)==null?void 0:We.loader),visible:Wt==="loading"})}return X.createElement("li",{tabIndex:0,ref:Xt,className:Mn(M,oN,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Wt],(n=m==null?void 0:m.classNames)==null?void 0:n[Wt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:T,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":C,"data-promise":!!m.promise,"data-swiped":Tt,"data-removed":$,"data-visible":ph,"data-y-position":cN,"data-x-position":uN,"data-index":_,"data-front":Gl,"data-swiping":V,"data-dismissible":Vi,"data-type":Wt,"data-invert":dN,"data-swipe-out":ce,"data-swipe-direction":S,"data-expanded":!!(E||I&&C),style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${$?De:Wi.current}px`,"--initial-height":I?"auto":`${Vt}px`,...F,...m.style},onDragEnd:()=>{te(!1),j(null),Hi.current=null},onPointerDown:ye=>{gh||!Vi||(Gr.current=new Date,dt(Wi.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(te(!0),Hi.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Re,We,Tn;if(ce||!Vi)return;Hi.current=null;let On=Number(((ye=Xt.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qr=Number(((Re=Xt.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ws=new Date().getTime()-((We=Gr.current)==null?void 0:We.getTime()),An=f==="x"?On:Qr,Yr=Math.abs(An)/Ws;if(Math.abs(An)>=l2||Yr>.11){dt(Wi.current),(Tn=m.onDismiss)==null||Tn.call(m,m),P(f==="x"?On>0?"right":"left":Qr>0?"down":"up"),Jr(),qe(!0),zt(!1);return}te(!1),j(null)},onPointerMove:ye=>{var Re,We,Tn,On;if(!Hi.current||!Vi||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Qr=ye.clientY-Hi.current.y,Ws=ye.clientX-Hi.current.x,An=(We=t.swipeDirections)!=null?We:u2(G);!f&&(Math.abs(Ws)>1||Math.abs(Qr)>1)&&j(Math.abs(Ws)>Math.abs(Qr)?"x":"y");let Yr={x:0,y:0};f==="y"?(An.includes("top")||An.includes("bottom"))&&(An.includes("top")&&Qr<0||An.includes("bottom")&&Qr>0)&&(Yr.y=Qr):f==="x"&&(An.includes("left")||An.includes("right"))&&(An.includes("left")&&Ws<0||An.includes("right")&&Ws>0)&&(Yr.x=Ws),(Math.abs(Yr.x)>0||Math.abs(Yr.y)>0)&&zt(!0),(Tn=Xt.current)==null||Tn.style.setProperty("--swipe-amount-x",`${Yr.x}px`),(On=Xt.current)==null||On.style.setProperty("--swipe-amount-y",`${Yr.y}px`)}},lN&&!m.jsx?X.createElement("button",{"aria-label":he,"data-disabled":gh,"data-close-button":!0,onClick:gh||!Vi?()=>{}:()=>{var ye;Jr(),(ye=m.onDismiss)==null||ye.call(m,m)},className:Mn(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:GA):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:X.createElement(X.Fragment,null,Wt||m.icon||m.promise?X.createElement("div",{"data-icon":"",className:Mn(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||hN():null,m.type!=="loading"?m.icon||(ee==null?void 0:ee[Wt])||BA(Wt):null):null,X.createElement("div",{"data-content":"",className:Mn(U==null?void 0:U.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},X.createElement("div",{"data-title":"",className:Mn(U==null?void 0:U.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?X.createElement("div",{"data-description":"",className:Mn(H,aN,U==null?void 0:U.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&gc(m.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ye=>{var Re,We;gc(m.cancel)&&Vi&&((We=(Re=m.cancel).onClick)==null||We.call(Re,ye),Jr())},className:Mn(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&gc(m.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||K,onClick:ye=>{var Re,We;gc(m.action)&&((We=(Re=m.action).onClick)==null||We.call(Re,ye),!ye.defaultPrevented&&Jr())},className:Mn(U==null?void 0:U.actionButton,(p=m==null?void 0:m.classNames)==null?void 0:p.actionButton)},m.action.label):null))};function uw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function h2(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?i2:s2;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var f2=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:p,duration:g,style:m,visibleToasts:x=r2,toastOptions:h,dir:y=uw(),gap:w=a2,loadingIcon:v,icons:_,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:E}=t,[N,T]=X.useState([]),O=X.useMemo(()=>Array.from(new Set([r].concat(N.filter(ie=>ie.position).map(ie=>ie.position)))),[N,r]),[F,R]=X.useState([]),[K,M]=X.useState(!1),[H,D]=X.useState(!1),[G,J]=X.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=X.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=X.useRef(null),ee=X.useRef(!1),he=X.useCallback(ie=>{T(f=>{var j;return(j=f.find(S=>S.id===ie.id))!=null&&j.delete||Ht.dismiss(ie.id),f.filter(({id:S})=>S!==ie.id)})},[]);return X.useEffect(()=>Ht.subscribe(ie=>{if(ie.dismiss){T(f=>f.map(j=>j.id===ie.id?{...j,delete:!0}:j));return}setTimeout(()=>{F1.flushSync(()=>{T(f=>{let j=f.findIndex(S=>S.id===ie.id);return j!==-1?[...f.slice(0,j),{...f[j],...ie},...f.slice(j+1)]:[ie,...f]})})})}),[]),X.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:f})=>{J(f?"dark":"light")})}catch{ie.addListener(({matches:j})=>{try{J(j?"dark":"light")}catch(S){console.error(S)}})}},[d]),X.useEffect(()=>{N.length<=1&&M(!1)},[N]),X.useEffect(()=>{let ie=f=>{var j,S;s.every(P=>f[P]||f.code===P)&&(M(!0),(j=ne.current)==null||j.focus()),f.code==="Escape"&&(document.activeElement===ne.current||(S=ne.current)!=null&&S.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),X.useEffect(()=>{if(ne.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ee.current=!1)}},[ne.current]),X.createElement("section",{ref:e,"aria-label":`${k} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((ie,f)=>{var j;let[S,P]=ie.split("-");return N.length?X.createElement("ol",{key:ie,dir:y==="auto"?uw():y,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":S,"data-lifted":K&&N.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((j=F[0])==null?void 0:j.height)||0}px`,"--width":`${o2}px`,"--gap":`${w}px`,...m,...h2(c,u)},onBlur:C=>{ee.current&&!C.currentTarget.contains(C.relatedTarget)&&(ee.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:C=>{C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,U.current=C.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{H||M(!1)},onDragEnd:()=>M(!1),onPointerDown:C=>{C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(C=>!C.position&&f===0||C.position===ie).map((C,A)=>{var $,L;return X.createElement(d2,{key:C.id,icons:_,index:A,toast:C,defaultRichColors:p,duration:($=h==null?void 0:h.duration)!=null?$:g,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:n,visibleToasts:x,closeButton:(L=h==null?void 0:h.closeButton)!=null?L:o,interacting:H,position:ie,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:he,toasts:N.filter(V=>V.position==C.position),heights:F.filter(V=>V.position==C.position),setHeights:R,expandByDefault:i,gap:w,loadingIcon:v,expanded:K,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const p2=({...t})=>{const{theme:e="system"}=UA();return a.jsx(f2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var m2=Wm[" useId ".trim().toString()]||(()=>{}),g2=0;function ko(t){const[e,n]=b.useState(m2());return ot(()=>{n(r=>r??String(g2++))},[t]),e?`radix-${e}`:""}const v2=["top","right","bottom","left"],Rs=Math.min,nn=Math.max,qu=Math.round,vc=Math.floor,yr=t=>({x:t,y:t}),y2={left:"right",right:"left",bottom:"top",top:"bottom"},w2={start:"end",end:"start"};function Up(t,e,n){return nn(t,Rs(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Vr(t){return t.split("-")[0]}function ua(t){return t.split("-")[1]}function Bg(t){return t==="x"?"y":"x"}function zg(t){return t==="y"?"height":"width"}const x2=new Set(["top","bottom"]);function mr(t){return x2.has(Vr(t))?"y":"x"}function Vg(t){return Bg(mr(t))}function b2(t,e,n){n===void 0&&(n=!1);const r=ua(t),s=Vg(t),i=zg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ku(o)),[o,Ku(o)]}function _2(t){const e=Ku(t);return[Bp(t),e,Bp(e)]}function Bp(t){return t.replace(/start|end/g,e=>w2[e])}const dw=["left","right"],hw=["right","left"],S2=["top","bottom"],j2=["bottom","top"];function k2(t,e,n){switch(t){case"top":case"bottom":return n?e?hw:dw:e?dw:hw;case"left":case"right":return e?S2:j2;default:return[]}}function E2(t,e,n,r){const s=ua(t);let i=k2(Vr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bp)))),i}function Ku(t){return t.replace(/left|right|bottom|top/g,e=>y2[e])}function C2(t){return{top:0,right:0,bottom:0,left:0,...t}}function DS(t){return typeof t!="number"?C2(t):{top:t,right:t,bottom:t,left:t}}function Gu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function fw(t,e,n){let{reference:r,floating:s}=t;const i=mr(e),o=Vg(e),l=zg(o),c=Vr(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,g=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:p};break;case"left":m={x:r.x-s.width,y:p};break;default:m={x:r.x,y:r.y}}switch(ua(e)){case"start":m[o]-=g*(n&&u?-1:1);break;case"end":m[o]+=g*(n&&u?-1:1);break}return m}const N2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=fw(u,r,c),g=r,m={},x=0;for(let h=0;h<l.length;h++){const{name:y,fn:w}=l[h],{x:v,y:_,data:k,reset:E}=await w({x:d,y:p,initialPlacement:r,placement:g,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,p=_??p,m={...m,[y]:{...m[y],...k}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:p}=fw(u,g,c)),h=-1)}return{x:d,y:p,placement:g,strategy:s,middlewareData:m}};async function wl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=zr(e,t),x=DS(m),y=l[g?p==="floating"?"reference":"floating":p],w=Gu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Gu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:c}):v);return{top:(w.top-E.top+x.top)/k.y,bottom:(E.bottom-w.bottom+x.bottom)/k.y,left:(w.left-E.left+x.left)/k.x,right:(E.right-w.right+x.right)/k.x}}const P2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=zr(t,e)||{};if(u==null)return{};const p=DS(d),g={x:n,y:r},m=Vg(s),x=zg(m),h=await o.getDimensions(u),y=m==="y",w=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",k=i.reference[x]+i.reference[m]-g[m]-i.floating[x],E=g[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=N?N[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(N)))&&(T=l.floating[_]||i.floating[x]);const O=k/2-E/2,F=T/2-h[x]/2-1,R=Rs(p[w],F),K=Rs(p[v],F),M=R,H=T-h[x]-K,D=T/2-h[x]/2+O,G=Up(M,D,H),J=!c.arrow&&ua(s)!=null&&D!==G&&i.reference[x]/2-(D<M?R:K)-h[x]/2<0,ne=J?D<M?D-M:D-H:0;return{[m]:g[m]+ne,data:{[m]:G,centerOffset:D-G-ne,...J&&{alignmentOffset:ne}},reset:J}}}),T2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...y}=zr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Vr(s),v=mr(l),_=Vr(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=g||(_||!h?[Ku(l)]:_2(l)),N=x!=="none";!g&&N&&E.push(...E2(l,h,x,k));const T=[l,...E],O=await wl(e,y),F=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&F.push(O[w]),p){const D=b2(s,o,k);F.push(O[D[0]],O[D[1]])}if(R=[...R,{placement:s,overflows:F}],!F.every(D=>D<=0)){var K,M;const D=(((K=i.flip)==null?void 0:K.index)||0)+1,G=T[D];if(G&&(!(p==="alignment"?v!==mr(G):!1)||R.every(I=>I.overflows[0]>0&&mr(I.placement)===v)))return{data:{index:D,overflows:R},reset:{placement:G}};let J=(M=R.filter(ne=>ne.overflows[0]<=0).sort((ne,I)=>ne.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(m){case"bestFit":{var H;const ne=(H=R.filter(I=>{if(N){const U=mr(I.placement);return U===v||U==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(U=>U>0).reduce((U,ee)=>U+ee,0)]).sort((I,U)=>I[1]-U[1])[0])==null?void 0:H[0];ne&&(J=ne);break}case"initialPlacement":J=l;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function pw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mw(t){return v2.some(e=>t[e]>=0)}const O2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zr(t,e);switch(r){case"referenceHidden":{const i=await wl(e,{...s,elementContext:"reference"}),o=pw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mw(o)}}}case"escaped":{const i=await wl(e,{...s,altBoundary:!0}),o=pw(i,n.floating);return{data:{escapedOffsets:o,escaped:mw(o)}}}default:return{}}}}},LS=new Set(["left","top"]);async function A2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vr(n),l=ua(n),c=mr(n)==="y",u=LS.has(o)?-1:1,d=i&&c?-1:1,p=zr(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const R2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await A2(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},M2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...c}=zr(t,e),u={x:n,y:r},d=await wl(e,c),p=mr(Vr(s)),g=Bg(p);let m=u[g],x=u[p];if(i){const y=g==="y"?"top":"left",w=g==="y"?"bottom":"right",v=m+d[y],_=m-d[w];m=Up(v,m,_)}if(o){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=x+d[y],_=x-d[w];x=Up(v,x,_)}const h=l.fn({...e,[g]:m,[p]:x});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[g]:i,[p]:o}}}}}},I2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zr(t,e),d={x:n,y:r},p=mr(s),g=Bg(p);let m=d[g],x=d[p];const h=zr(l,e),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const _=g==="y"?"height":"width",k=i.reference[g]-i.floating[_]+y.mainAxis,E=i.reference[g]+i.reference[_]-y.mainAxis;m<k?m=k:m>E&&(m=E)}if(u){var w,v;const _=g==="y"?"width":"height",k=LS.has(Vr(s)),E=i.reference[p]-i.floating[_]+(k&&((w=o.offset)==null?void 0:w[p])||0)+(k?0:y.crossAxis),N=i.reference[p]+i.reference[_]+(k?0:((v=o.offset)==null?void 0:v[p])||0)-(k?y.crossAxis:0);x<E?x=E:x>N&&(x=N)}return{[g]:m,[p]:x}}}},D2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=zr(t,e),d=await wl(e,u),p=Vr(s),g=ua(s),m=mr(s)==="y",{width:x,height:h}=i.floating;let y,w;p==="top"||p==="bottom"?(y=p,w=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=p,y=g==="end"?"top":"bottom");const v=h-d.top-d.bottom,_=x-d.left-d.right,k=Rs(h-d[y],v),E=Rs(x-d[w],_),N=!e.middlewareData.shift;let T=k,O=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),N&&!g){const R=nn(d.left,0),K=nn(d.right,0),M=nn(d.top,0),H=nn(d.bottom,0);m?O=x-2*(R!==0||K!==0?R+K:nn(d.left,d.right)):T=h-2*(M!==0||H!==0?M+H:nn(d.top,d.bottom))}await c({...e,availableWidth:O,availableHeight:T});const F=await o.getDimensions(l.floating);return x!==F.width||h!==F.height?{reset:{rects:!0}}:{}}}};function Ld(){return typeof window<"u"}function da(t){return $S(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function br(t){var e;return(e=($S(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $S(t){return Ld()?t instanceof Node||t instanceof cn(t).Node:!1}function Xn(t){return Ld()?t instanceof Element||t instanceof cn(t).Element:!1}function xr(t){return Ld()?t instanceof HTMLElement||t instanceof cn(t).HTMLElement:!1}function gw(t){return!Ld()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}const L2=new Set(["inline","contents"]);function Ul(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!L2.has(s)}const $2=new Set(["table","td","th"]);function F2(t){return $2.has(da(t))}const U2=[":popover-open",":modal"];function $d(t){return U2.some(e=>{try{return t.matches(e)}catch{return!1}})}const B2=["transform","translate","scale","rotate","perspective"],z2=["transform","translate","scale","rotate","perspective","filter"],V2=["paint","layout","strict","content"];function Wg(t){const e=Hg(),n=Xn(t)?Zn(t):t;return B2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||z2.some(r=>(n.willChange||"").includes(r))||V2.some(r=>(n.contain||"").includes(r))}function W2(t){let e=Ms(t);for(;xr(e)&&!Jo(e);){if(Wg(e))return e;if($d(e))return null;e=Ms(e)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const H2=new Set(["html","body","#document"]);function Jo(t){return H2.has(da(t))}function Zn(t){return cn(t).getComputedStyle(t)}function Fd(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ms(t){if(da(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gw(t)&&t.host||br(t);return gw(e)?e.host:e}function FS(t){const e=Ms(t);return Jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&Ul(e)?e:FS(e)}function xl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=FS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=cn(s);if(i){const l=zp(o);return e.concat(o,o.visualViewport||[],Ul(s)?s:[],l&&n?xl(l):[])}return e.concat(s,xl(s,[],n))}function zp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function US(t){const e=Zn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=qu(n)!==i||qu(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function qg(t){return Xn(t)?t:t.contextElement}function Eo(t){const e=qg(t);if(!xr(e))return yr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=US(e);let o=(i?qu(n.width):n.width)/r,l=(i?qu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const q2=yr(0);function BS(t){const e=cn(t);return!Hg()||!e.visualViewport?q2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cn(t)?!1:e}function Ni(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qg(t);let o=yr(1);e&&(r?Xn(r)&&(o=Eo(r)):o=Eo(t));const l=K2(i,n,r)?BS(i):yr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const g=cn(i),m=r&&Xn(r)?cn(r):r;let x=g,h=zp(x);for(;h&&r&&m!==x;){const y=Eo(h),w=h.getBoundingClientRect(),v=Zn(h),_=w.left+(h.clientLeft+parseFloat(v.paddingLeft))*y.x,k=w.top+(h.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,p*=y.y,c+=_,u+=k,x=cn(h),h=zp(x)}}return Gu({width:d,height:p,x:c,y:u})}function Kg(t,e){const n=Fd(t).scrollLeft;return e?e.left+n:Ni(br(t)).left+n}function zS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Kg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function G2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=br(r),l=e?$d(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=yr(1);const d=yr(0),p=xr(r);if((p||!p&&!i)&&((da(r)!=="body"||Ul(o))&&(c=Fd(r)),xr(r))){const m=Ni(r);u=Eo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const g=o&&!p&&!i?zS(o,c,!0):yr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function J2(t){return Array.from(t.getClientRects())}function Q2(t){const e=br(t),n=Fd(t),r=t.ownerDocument.body,s=nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Kg(t);const l=-n.scrollTop;return Zn(r).direction==="rtl"&&(o+=nn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function Y2(t,e){const n=cn(t),r=br(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Hg();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const X2=new Set(["absolute","fixed"]);function Z2(t,e){const n=Ni(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=xr(t)?Eo(t):yr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function vw(t,e,n){let r;if(e==="viewport")r=Y2(t,n);else if(e==="document")r=Q2(br(t));else if(Xn(e))r=Z2(e,n);else{const s=BS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gu(r)}function VS(t,e){const n=Ms(t);return n===e||!Xn(n)||Jo(n)?!1:Zn(n).position==="fixed"||VS(n,e)}function eR(t,e){const n=e.get(t);if(n)return n;let r=xl(t,[],!1).filter(l=>Xn(l)&&da(l)!=="body"),s=null;const i=Zn(t).position==="fixed";let o=i?Ms(t):t;for(;Xn(o)&&!Jo(o);){const l=Zn(o),c=Wg(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&X2.has(s.position)||Ul(o)&&!c&&VS(t,o))?r=r.filter(d=>d!==o):s=l,o=Ms(o)}return e.set(t,r),r}function tR(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?$d(e)?[]:eR(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const p=vw(e,d,s);return u.top=nn(p.top,u.top),u.right=Rs(p.right,u.right),u.bottom=Rs(p.bottom,u.bottom),u.left=nn(p.left,u.left),u},vw(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nR(t){const{width:e,height:n}=US(t);return{width:e,height:n}}function rR(t,e,n){const r=xr(e),s=br(e),i=n==="fixed",o=Ni(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=yr(0);function u(){c.x=Kg(s)}if(r||!r&&!i)if((da(e)!=="body"||Ul(s))&&(l=Fd(e)),r){const m=Ni(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?zS(s,l):yr(0),p=o.left+l.scrollLeft-c.x-d.x,g=o.top+l.scrollTop-c.y-d.y;return{x:p,y:g,width:o.width,height:o.height}}function Gh(t){return Zn(t).position==="static"}function yw(t,e){if(!xr(t)||Zn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return br(t)===n&&(n=n.ownerDocument.body),n}function WS(t,e){const n=cn(t);if($d(t))return n;if(!xr(t)){let s=Ms(t);for(;s&&!Jo(s);){if(Xn(s)&&!Gh(s))return s;s=Ms(s)}return n}let r=yw(t,e);for(;r&&F2(r)&&Gh(r);)r=yw(r,e);return r&&Jo(r)&&Gh(r)&&!Wg(r)?n:r||W2(t)||n}const sR=async function(t){const e=this.getOffsetParent||WS,n=this.getDimensions,r=await n(t.floating);return{reference:rR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iR(t){return Zn(t).direction==="rtl"}const oR={convertOffsetParentRelativeRectToViewportRelativeRect:G2,getDocumentElement:br,getClippingRect:tR,getOffsetParent:WS,getElementRects:sR,getClientRects:J2,getDimensions:nR,getScale:Eo,isElement:Xn,isRTL:iR};function HS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aR(t,e){let n=null,r;const s=br(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:p,width:g,height:m}=u;if(l||e(),!g||!m)return;const x=vc(p),h=vc(s.clientWidth-(d+g)),y=vc(s.clientHeight-(p+m)),w=vc(d),_={rootMargin:-x+"px "+-h+"px "+-y+"px "+-w+"px",threshold:nn(0,Rs(1,c))||1};let k=!0;function E(N){const T=N[0].intersectionRatio;if(T!==c){if(!k)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!HS(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(E,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return o(!0),i}function lR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qg(t),d=s||i?[...u?xl(u):[],...xl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const p=u&&l?aR(u,n):null;let g=-1,m=null;o&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let x,h=c?Ni(t):null;c&&y();function y(){const w=Ni(t);h&&!HS(h,w)&&n(),h=w,x=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),p==null||p(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const cR=R2,uR=M2,dR=T2,hR=D2,fR=O2,ww=P2,pR=I2,mR=(t,e,n)=>{const r=new Map,s={platform:oR,...n},i={...s.platform,_c:r};return N2(t,e,{...s,platform:i})};var gR=typeof document<"u",vR=function(){},lu=gR?b.useLayoutEffect:vR;function Ju(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ju(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ju(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function qS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(t,e){const n=qS(t);return Math.round(e*n)/n}function Jh(t){const e=b.useRef(t);return lu(()=>{e.current=t}),e}function yR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,p]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=b.useState(r);Ju(g,r)||m(r);const[x,h]=b.useState(null),[y,w]=b.useState(null),v=b.useCallback(I=>{I!==N.current&&(N.current=I,h(I))},[]),_=b.useCallback(I=>{I!==T.current&&(T.current=I,w(I))},[]),k=i||x,E=o||y,N=b.useRef(null),T=b.useRef(null),O=b.useRef(d),F=c!=null,R=Jh(c),K=Jh(s),M=Jh(u),H=b.useCallback(()=>{if(!N.current||!T.current)return;const I={placement:e,strategy:n,middleware:g};K.current&&(I.platform=K.current),mR(N.current,T.current,I).then(U=>{const ee={...U,isPositioned:M.current!==!1};D.current&&!Ju(O.current,ee)&&(O.current=ee,$i.flushSync(()=>{p(ee)}))})},[g,e,n,K,M]);lu(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[u]);const D=b.useRef(!1);lu(()=>(D.current=!0,()=>{D.current=!1}),[]),lu(()=>{if(k&&(N.current=k),E&&(T.current=E),k&&E){if(R.current)return R.current(k,E,H);H()}},[k,E,H,R,F]);const G=b.useMemo(()=>({reference:N,floating:T,setReference:v,setFloating:_}),[v,_]),J=b.useMemo(()=>({reference:k,floating:E}),[k,E]),ne=b.useMemo(()=>{const I={position:n,left:0,top:0};if(!J.floating)return I;const U=xw(J.floating,d.x),ee=xw(J.floating,d.y);return l?{...I,transform:"translate("+U+"px, "+ee+"px)",...qS(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:ee}},[n,l,J.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:H,refs:G,elements:J,floatingStyles:ne}),[d,H,G,J,ne])}const wR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ww({element:r.current,padding:s}).fn(n):{}:r?ww({element:r,padding:s}).fn(n):{}}}},xR=(t,e)=>({...cR(t),options:[t,e]}),bR=(t,e)=>({...uR(t),options:[t,e]}),_R=(t,e)=>({...pR(t),options:[t,e]}),SR=(t,e)=>({...dR(t),options:[t,e]}),jR=(t,e)=>({...hR(t),options:[t,e]}),kR=(t,e)=>({...fR(t),options:[t,e]}),ER=(t,e)=>({...wR(t),options:[t,e]});var CR="Arrow",KS=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});KS.displayName=CR;var NR=KS;function PR(t){const[e,n]=b.useState(void 0);return ot(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Gg="Popper",[GS,Ud]=Fi(Gg),[TR,JS]=GS(Gg),QS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return a.jsx(TR,{scope:e,anchor:r,onAnchorChange:s,children:n})};QS.displayName=Gg;var YS="PopperAnchor",XS=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JS(YS,n),o=b.useRef(null),l=Ve(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(ke.div,{...s,ref:l})});XS.displayName=YS;var Jg="PopperContent",[OR,AR]=GS(Jg),ZS=b.forwardRef((t,e)=>{var C,A,$,L,V,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:x,...h}=t,y=JS(Jg,n),[w,v]=b.useState(null),_=Ve(e,ce=>v(ce)),[k,E]=b.useState(null),N=PR(k),T=(N==null?void 0:N.width)??0,O=(N==null?void 0:N.height)??0,F=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(u)?u:[u],M=K.length>0,H={padding:R,boundary:K.filter(MR),altBoundary:M},{refs:D,floatingStyles:G,placement:J,isPositioned:ne,middlewareData:I}=yR({strategy:"fixed",placement:F,whileElementsMounted:(...ce)=>lR(...ce,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[xR({mainAxis:s+O,alignmentAxis:o}),c&&bR({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_R():void 0,...H}),c&&SR({...H}),jR({...H,apply:({elements:ce,rects:qe,availableWidth:Tt,availableHeight:zt})=>{const{width:De,height:dt}=qe.reference,Vt=ce.floating.style;Vt.setProperty("--radix-popper-available-width",`${Tt}px`),Vt.setProperty("--radix-popper-available-height",`${zt}px`),Vt.setProperty("--radix-popper-anchor-width",`${De}px`),Vt.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),k&&ER({element:k,padding:l}),IR({arrowWidth:T,arrowHeight:O}),g&&kR({strategy:"referenceHidden",...H})]}),[U,ee]=nj(J),he=Nn(x);ot(()=>{ne&&(he==null||he())},[ne,he]);const ie=(C=I.arrow)==null?void 0:C.x,f=(A=I.arrow)==null?void 0:A.y,j=(($=I.arrow)==null?void 0:$.centerOffset)!==0,[S,P]=b.useState();return ot(()=>{w&&P(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ne?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:S,"--radix-popper-transform-origin":[(L=I.transformOrigin)==null?void 0:L.x,(V=I.transformOrigin)==null?void 0:V.y].join(" "),...((te=I.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(OR,{scope:n,placedSide:U,onArrowChange:E,arrowX:ie,arrowY:f,shouldHideArrow:j,children:a.jsx(ke.div,{"data-side":U,"data-align":ee,...h,ref:_,style:{...h.style,animation:ne?void 0:"none"}})})})});ZS.displayName=Jg;var ej="PopperArrow",RR={top:"bottom",right:"left",bottom:"top",left:"right"},tj=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=AR(ej,r),o=RR[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(NR,{...s,ref:n,style:{...s.style,display:"block"}})})});tj.displayName=ej;function MR(t){return t!==null}var IR=t=>({name:"transformOrigin",options:t,fn(e){var y,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=nj(n),p={start:"0%",center:"50%",end:"100%"}[d],g=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",h="";return u==="bottom"?(x=o?p:`${g}px`,h=`${-c}px`):u==="top"?(x=o?p:`${g}px`,h=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,h=o?p:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,h=o?p:`${m}px`),{data:{x,y:h}}}});function nj(t){const[e,n="center"]=t.split("-");return[e,n]}var DR=QS,rj=XS,sj=ZS,ij=tj,[Bd,e8]=Fi("Tooltip",[Ud]),Qg=Ud(),oj="TooltipProvider",LR=700,bw="tooltip.open",[$R,aj]=Bd(oj),lj=t=>{const{__scopeTooltip:e,delayDuration:n=LR,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx($R,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};lj.displayName=oj;var cj="Tooltip",[t8,zd]=Bd(cj),Vp="TooltipTrigger",FR=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=zd(Vp,n),i=aj(Vp,n),o=Qg(n),l=b.useRef(null),c=Ve(e,l,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),p=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(rj,{asChild:!0,...o,children:a.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Se(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Se(t.onBlur,s.onClose),onClick:Se(t.onClick,s.onClose)})})});FR.displayName=Vp;var UR="TooltipPortal",[n8,BR]=Bd(UR,{forceMount:void 0}),Qo="TooltipContent",uj=b.forwardRef((t,e)=>{const n=BR(Qo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=zd(Qo,t.__scopeTooltip);return a.jsx(la,{present:r||o.open,children:o.disableHoverableContent?a.jsx(dj,{side:s,...i,ref:e}):a.jsx(zR,{side:s,...i,ref:e})})}),zR=b.forwardRef((t,e)=>{const n=zd(Qo,t.__scopeTooltip),r=aj(Qo,t.__scopeTooltip),s=b.useRef(null),i=Ve(e,s),[o,l]=b.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,g=b.useCallback(()=>{l(null),p(!1)},[p]),m=b.useCallback((x,h)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},v=KR(w,y.getBoundingClientRect()),_=GR(w,v),k=JR(h.getBoundingClientRect()),E=YR([..._,...k]);l(E),p(!0)},[p]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(c&&d){const x=y=>m(y,d),h=y=>m(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",h),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",h)}}},[c,d,m,g]),b.useEffect(()=>{if(o){const x=h=>{const y=h.target,w={x:h.clientX,y:h.clientY},v=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),_=!QR(w,o);v?g():_&&(g(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,g]),a.jsx(dj,{...t,ref:i})}),[VR,WR]=Bd(cj,{isInside:!1}),HR=GT("TooltipContent"),dj=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=zd(Qo,n),u=Qg(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(bw,d),()=>document.removeEventListener(bw,d)),[d]),b.useEffect(()=>{if(c.trigger){const p=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,d]),a.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:a.jsxs(sj,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(HR,{children:r}),a.jsx(VR,{scope:n,isInside:!0,children:a.jsx(gO,{id:c.contentId,role:"tooltip",children:s||r})})]})})});uj.displayName=Qo;var hj="TooltipArrow",qR=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qg(n);return WR(hj,n).isInside?null:a.jsx(ij,{...s,...r,ref:e})});qR.displayName=hj;function KR(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function JR(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function QR(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,p=c.x,g=c.y;d>r!=g>r&&n<(p-u)*(r-d)/(g-d)+u&&(s=!s)}return s}function YR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),XR(e)}function XR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ZR=lj,fj=uj;const eM=ZR,tM=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(fj,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));tM.displayName=fj.displayName;var Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wd=typeof window>"u"||"Deno"in globalThis;function Un(){}function nM(t,e){return typeof t=="function"?t(e):t}function rM(t){return typeof t=="number"&&t>=0&&t!==1/0}function sM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wp(t,e){return typeof t=="function"?t(e):t}function iM(t,e){return typeof t=="function"?t(e):t}function _w(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Yg(o,e.options))return!1}else if(!_l(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Sw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(bl(e.options.mutationKey)!==bl(i))return!1}else if(!_l(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Yg(t,e){return((e==null?void 0:e.queryKeyHashFn)||bl)(t)}function bl(t){return JSON.stringify(t,(e,n)=>Hp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _l(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>_l(t[n],e[n])):!1}function pj(t,e){if(t===e)return t;const n=jw(t)&&jw(e);if(n||Hp(t)&&Hp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const p=n?d:i[d];(!n&&c.has(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=pj(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function jw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hp(t){if(!kw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kw(t){return Object.prototype.toString.call(t)==="[object Object]"}function oM(t){return new Promise(e=>{setTimeout(e,t)})}function aM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pj(t,e):e}function lM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function cM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Xg=Symbol();function mj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var di,fs,Oo,vb,uM=(vb=class extends Vd{constructor(){super();Te(this,di);Te(this,fs);Te(this,Oo);we(this,Oo,e=>{if(!Wd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,fs)||this.setEventListener(B(this,Oo))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,fs))==null||e.call(this),we(this,fs,void 0))}setEventListener(e){var n;we(this,Oo,e),(n=B(this,fs))==null||n.call(this),we(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,di)!==e&&(we(this,di,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,di)=="boolean"?B(this,di):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},di=new WeakMap,fs=new WeakMap,Oo=new WeakMap,vb),gj=new uM,Ao,ps,Ro,yb,dM=(yb=class extends Vd{constructor(){super();Te(this,Ao,!0);Te(this,ps);Te(this,Ro);we(this,Ro,e=>{if(!Wd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ps)||this.setEventListener(B(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ps))==null||e.call(this),we(this,ps,void 0))}setEventListener(e){var n;we(this,Ro,e),(n=B(this,ps))==null||n.call(this),we(this,ps,e(this.setOnline.bind(this)))}setOnline(e){B(this,Ao)!==e&&(we(this,Ao,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Ao)}},Ao=new WeakMap,ps=new WeakMap,Ro=new WeakMap,yb),Qu=new dM;function hM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function fM(t){return Math.min(1e3*2**t,3e4)}function vj(t){return(t??"online")==="online"?Qu.isOnline():!0}var yj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Qh(t){return t instanceof yj}function wj(t){let e=!1,n=0,r=!1,s;const i=hM(),o=h=>{var y;r||(g(new yj(h)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>gj.isFocused()&&(t.networkMode==="always"||Qu.isOnline())&&t.canRun(),d=()=>vj(t.networkMode)&&t.canRun(),p=h=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,h),s==null||s(),i.resolve(h))},g=h=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,h),s==null||s(),i.reject(h))},m=()=>new Promise(h=>{var y;s=w=>{(r||u())&&h(w)},(y=t.onPause)==null||y.call(t)}).then(()=>{var h;s=void 0,r||(h=t.onContinue)==null||h.call(t)}),x=()=>{if(r)return;let h;const y=n===0?t.initialPromise:void 0;try{h=y??t.fn()}catch(w){h=Promise.reject(w)}Promise.resolve(h).then(p).catch(w=>{var N;if(r)return;const v=t.retry??(Wd?0:3),_=t.retryDelay??fM,k=typeof _=="function"?_(n,w):_,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!E){g(w);return}n++,(N=t.onFail)==null||N.call(t,n,w),oM(k).then(()=>u()?void 0:m()).then(()=>{e?g(w):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),i)}}var pM=t=>setTimeout(t,0);function mM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=pM;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var It=mM(),hi,wb,xj=(wb=class{constructor(){Te(this,hi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rM(this.gcTime)&&we(this,hi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wd?1/0:5*60*1e3))}clearGcTimeout(){B(this,hi)&&(clearTimeout(B(this,hi)),we(this,hi,void 0))}},hi=new WeakMap,wb),Mo,fi,gn,pi,kt,Tl,mi,zn,Sr,xb,gM=(xb=class extends xj{constructor(e){super();Te(this,zn);Te(this,Mo);Te(this,fi);Te(this,gn);Te(this,pi);Te(this,kt);Te(this,Tl);Te(this,mi);we(this,mi,!1),we(this,Tl,e.defaultOptions),this.setOptions(e.options),this.observers=[],we(this,pi,e.client),we(this,gn,B(this,pi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,we(this,Mo,yM(this.options)),this.state=e.state??B(this,Mo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,kt))==null?void 0:e.promise}setOptions(e){this.options={...B(this,Tl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,gn).remove(this)}setData(e,n){const r=aM(this.state.data,e,this.options);return _t(this,zn,Sr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){_t(this,zn,Sr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=B(this,kt))==null?void 0:r.promise;return(s=B(this,kt))==null||s.cancel(e),n?n.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Mo))}isActive(){return this.observers.some(e=>iM(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!sM(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,kt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,kt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,gn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,kt)&&(B(this,mi)?B(this,kt).cancel({revert:!0}):B(this,kt).cancelRetry()),this.scheduleGc()),B(this,gn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,zn,Sr).call(this,{type:"invalidate"})}fetch(e,n){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,kt))return B(this,kt).continueRetry(),B(this,kt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(m=>m.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(we(this,mi,!0),r.signal)})},i=()=>{const g=mj(this.options,n),x=(()=>{const h={client:B(this,pi),queryKey:this.queryKey,meta:this.meta};return s(h),h})();return we(this,mi,!1),this.options.persister?this.options.persister(g,x,this):g(x)},l=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,pi),state:this.state,fetchFn:i};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),we(this,fi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&_t(this,zn,Sr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=g=>{var m,x,h,y;Qh(g)&&g.silent||_t(this,zn,Sr).call(this,{type:"error",error:g}),Qh(g)||((x=(m=B(this,gn).config).onError)==null||x.call(m,g,this),(y=(h=B(this,gn).config).onSettled)==null||y.call(h,this.state.data,g,this)),this.scheduleGc()};return we(this,kt,wj({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var m,x,h,y;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){c(w);return}(x=(m=B(this,gn).config).onSuccess)==null||x.call(m,g,this),(y=(h=B(this,gn).config).onSettled)==null||y.call(h,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,m)=>{_t(this,zn,Sr).call(this,{type:"failed",failureCount:g,error:m})},onPause:()=>{_t(this,zn,Sr).call(this,{type:"pause"})},onContinue:()=>{_t(this,zn,Sr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,kt).start()}},Mo=new WeakMap,fi=new WeakMap,gn=new WeakMap,pi=new WeakMap,kt=new WeakMap,Tl=new WeakMap,mi=new WeakMap,zn=new WeakSet,Sr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vM(r.data,this.options),fetchMeta:e.meta??null};case"success":return we(this,fi,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Qh(s)&&s.revert&&B(this,fi)?{...B(this,fi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),It.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,gn).notify({query:this,type:"updated",action:e})})},xb);function vM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lr,bb,wM=(bb=class extends Vd{constructor(e={}){super();Te(this,lr);this.config=e,we(this,lr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Yg(s,n);let o=this.get(i);return o||(o=new gM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,lr).has(e.queryHash)||(B(this,lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,lr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,lr).get(e)}getAll(){return[...B(this,lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_w(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_w(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lr=new WeakMap,bb),cr,At,gi,ur,ss,_b,xM=(_b=class extends xj{constructor(e){super();Te(this,ur);Te(this,cr);Te(this,At);Te(this,gi);this.mutationId=e.mutationId,we(this,At,e.mutationCache),we(this,cr,[]),this.state=e.state||bM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,cr).includes(e)||(B(this,cr).push(e),this.clearGcTimeout(),B(this,At).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){we(this,cr,B(this,cr).filter(n=>n!==e)),this.scheduleGc(),B(this,At).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,cr).length||(this.state.status==="pending"?this.scheduleGc():B(this,At).remove(this))}continue(){var e;return((e=B(this,gi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,u,d,p,g,m,x,h,y,w,v,_,k,E,N,T,O;const n=()=>{_t(this,ur,ss).call(this,{type:"continue"})};we(this,gi,wj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,R)=>{_t(this,ur,ss).call(this,{type:"failed",failureCount:F,error:R})},onPause:()=>{_t(this,ur,ss).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,At).canRun(this)}));const r=this.state.status==="pending",s=!B(this,gi).canStart();try{if(r)n();else{_t(this,ur,ss).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=B(this,At).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));R!==this.state.context&&_t(this,ur,ss).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const F=await B(this,gi).start();return await((d=(u=B(this,At).config).onSuccess)==null?void 0:d.call(u,F,e,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,F,e,this.state.context)),await((x=(m=B(this,At).config).onSettled)==null?void 0:x.call(m,F,null,this.state.variables,this.state.context,this)),await((y=(h=this.options).onSettled)==null?void 0:y.call(h,F,null,e,this.state.context)),_t(this,ur,ss).call(this,{type:"success",data:F}),F}catch(F){try{throw await((v=(w=B(this,At).config).onError)==null?void 0:v.call(w,F,e,this.state.context,this)),await((k=(_=this.options).onError)==null?void 0:k.call(_,F,e,this.state.context)),await((N=(E=B(this,At).config).onSettled)==null?void 0:N.call(E,void 0,F,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,F,e,this.state.context)),F}finally{_t(this,ur,ss).call(this,{type:"error",error:F})}}finally{B(this,At).runNext(this)}}},cr=new WeakMap,At=new WeakMap,gi=new WeakMap,ur=new WeakSet,ss=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),It.batch(()=>{B(this,cr).forEach(r=>{r.onMutationUpdate(e)}),B(this,At).notify({mutation:this,type:"updated",action:e})})},_b);function bM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Vn,Ol,Sb,_M=(Sb=class extends Vd{constructor(e={}){super();Te(this,Pr);Te(this,Vn);Te(this,Ol);this.config=e,we(this,Pr,new Set),we(this,Vn,new Map),we(this,Ol,0)}build(e,n,r){const s=new xM({mutationCache:this,mutationId:++Ql(this,Ol)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,Pr).add(e);const n=yc(e);if(typeof n=="string"){const r=B(this,Vn).get(n);r?r.push(e):B(this,Vn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Pr).delete(e)){const n=yc(e);if(typeof n=="string"){const r=B(this,Vn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,Vn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yc(e);if(typeof n=="string"){const r=B(this,Vn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=yc(e);if(typeof n=="string"){const s=(r=B(this,Vn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{B(this,Pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Pr).clear(),B(this,Vn).clear()})}getAll(){return Array.from(B(this,Pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Sw(n,r))}findAll(e={}){return this.getAll().filter(n=>Sw(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return It.batch(()=>Promise.all(e.map(n=>n.continue().catch(Un))))}},Pr=new WeakMap,Vn=new WeakMap,Ol=new WeakMap,Sb);function yc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ew(t){return{onFetch:(e,n)=>{var d,p,g,m,x;const r=e.options,s=(g=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},w=mj(e.options,e.fetchOptions),v=async(_,k,E)=>{if(h)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const K={client:e.client,queryKey:e.queryKey,pageParam:k,direction:E?"backward":"forward",meta:e.options.meta};return y(K),K})(),O=await w(T),{maxPages:F}=e.options,R=E?cM:lM;return{pages:R(_.pages,O,F),pageParams:R(_.pageParams,k,F)}};if(s&&i.length){const _=s==="backward",k=_?SM:Cw,E={pages:i,pageParams:o},N=k(r,E);l=await v(E,N,_)}else{const _=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:Cw(r,l);if(c>0&&k==null)break;l=await v(l,k),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var h,y;return(y=(h=e.options).persister)==null?void 0:y.call(h,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Cw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function SM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,ms,gs,Io,Do,vs,Lo,$o,jb,jM=(jb=class{constructor(t={}){Te(this,Xe);Te(this,ms);Te(this,gs);Te(this,Io);Te(this,Do);Te(this,vs);Te(this,Lo);Te(this,$o);we(this,Xe,t.queryCache||new wM),we(this,ms,t.mutationCache||new _M),we(this,gs,t.defaultOptions||{}),we(this,Io,new Map),we(this,Do,new Map),we(this,vs,0)}mount(){Ql(this,vs)._++,B(this,vs)===1&&(we(this,Lo,gj.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Xe).onFocus())})),we(this,$o,Qu.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,Xe).onOnline())})))}unmount(){var t,e;Ql(this,vs)._--,B(this,vs)===0&&((t=B(this,Lo))==null||t.call(this),we(this,Lo,void 0),(e=B(this,$o))==null||e.call(this),we(this,$o,void 0))}isFetching(t){return B(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=nM(e,i);if(o!==void 0)return B(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>B(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,Xe);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,Xe);return It.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=It.batch(()=>B(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(t,e={}){return It.batch(()=>(B(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=It.batch(()=>B(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Un)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Un)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,Xe).build(this,e);return n.isStaleByTime(Wp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Un).catch(Un)}fetchInfiniteQuery(t){return t.behavior=Ew(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Un).catch(Un)}ensureInfiniteQueryData(t){return t.behavior=Ew(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qu.isOnline()?B(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Xe)}getMutationCache(){return B(this,ms)}getDefaultOptions(){return B(this,gs)}setDefaultOptions(t){we(this,gs,t)}setQueryDefaults(t,e){B(this,Io).set(bl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Io).values()],n={};return e.forEach(r=>{_l(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Do).set(bl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Do).values()],n={};return e.forEach(r=>{_l(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Yg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,Xe).clear(),B(this,ms).clear()}},Xe=new WeakMap,ms=new WeakMap,gs=new WeakMap,Io=new WeakMap,Do=new WeakMap,vs=new WeakMap,Lo=new WeakMap,$o=new WeakMap,jb),kM=b.createContext(void 0),EM=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(kM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const Nw="popstate";function CM(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=Ui(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),qp("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Yu(i))}function r(s,i){Zg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return PM(e,n,r,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NM(){return Math.random().toString(36).substr(2,8)}function Pw(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,n,r){return n===void 0&&(n=null),Sl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ui(e):e,{state:n,key:e&&e.key||r||NM()})}function Yu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ui(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=xs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=xs.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:h.location,delta:w})}function g(y,w){l=xs.Push;let v=qp(h.location,y,w);n&&n(v,y),u=d()+1;let _=Pw(v,u),k=h.createHref(v);try{o.pushState(_,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&c&&c({action:l,location:h.location,delta:1})}function m(y,w){l=xs.Replace;let v=qp(h.location,y,w);n&&n(v,y),u=d();let _=Pw(v,u),k=h.createHref(v);o.replaceState(_,"",k),i&&c&&c({action:l,location:h.location,delta:0})}function x(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:Yu(y);return v=v.replace(/ $/,"%20"),Qe(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let h={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Nw,p),c=y,()=>{s.removeEventListener(Nw,p),c=null}},createHref(y){return e(s,y)},createURL:x,encodeLocation(y){let w=x(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:m,go(y){return o.go(y)}};return h}var Tw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tw||(Tw={}));function TM(t,e,n){return n===void 0&&(n="/"),OM(t,e,n,!1)}function OM(t,e,n,r){let s=typeof e=="string"?Ui(e):e,i=Yo(s.pathname||"/",n);if(i==null)return null;let o=bj(t);AM(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=VM(i);l=BM(o[c],u,r)}return l}function bj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ps([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bj(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:FM(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of _j(i.path))s(i,o,c)}),e}function _j(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_j(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function AM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RM=/^:[\w-]+$/,MM=3,IM=2,DM=1,LM=10,$M=-2,Ow=t=>t==="*";function FM(t,e){let n=t.split("/"),r=n.length;return n.some(Ow)&&(r+=$M),e&&(r+=IM),n.filter(s=>!Ow(s)).reduce((s,i)=>s+(RM.test(i)?MM:i===""?DM:LM),r)}function UM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",p=Xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=Xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ps([i,p.pathname]),pathnameBase:KM(Ps([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ps([i,p.pathnameBase]))}return o}function Xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:g,isOptional:m}=d;if(g==="*"){let h=l[p]||"";o=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}const x=l[p];return m&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function zM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function VM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ui(t):t;return{pathname:n?n.startsWith("/")?n:HM(n,e):e,search:GM(r),hash:JM(s)}}function HM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ev(t,e){let n=qM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ui(t):(s=Sl({},t),Qe(!s.pathname||!s.pathname.includes("?"),Yh("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),Yh("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),Yh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=WM(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),KM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sj=["post","put","patch","delete"];new Set(Sj);const YM=["get",...Sj];new Set(YM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}const Hd=b.createContext(null),jj=b.createContext(null),Hr=b.createContext(null),qd=b.createContext(null),qr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),kj=b.createContext(null);function XM(t,e){let{relative:n}=e===void 0?{}:e;ha()||Qe(!1);let{basename:r,navigator:s}=b.useContext(Hr),{hash:i,pathname:o,search:l}=Kd(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ps([r,o])),s.createHref({pathname:c,search:l,hash:i})}function ha(){return b.useContext(qd)!=null}function Yt(){return ha()||Qe(!1),b.useContext(qd).location}function Ej(t){b.useContext(Hr).static||b.useLayoutEffect(t)}function tt(){let{isDataRoute:t}=b.useContext(qr);return t?fI():ZM()}function ZM(){ha()||Qe(!1);let t=b.useContext(Hd),{basename:e,future:n,navigator:r}=b.useContext(Hr),{matches:s}=b.useContext(qr),{pathname:i}=Yt(),o=JSON.stringify(ev(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return Ej(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=tv(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ps([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,i,t])}const eI=b.createContext(null);function tI(t){let e=b.useContext(qr).outlet;return e&&b.createElement(eI.Provider,{value:t},e)}function Kd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Hr),{matches:s}=b.useContext(qr),{pathname:i}=Yt(),o=JSON.stringify(ev(s,r.v7_relativeSplatPath));return b.useMemo(()=>tv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function nI(t,e){return rI(t,e)}function rI(t,e,n,r){ha()||Qe(!1);let{navigator:s}=b.useContext(Hr),{matches:i}=b.useContext(qr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yt(),d;if(e){var p;let y=typeof e=="string"?Ui(e):e;c==="/"||(p=y.pathname)!=null&&p.startsWith(c)||Qe(!1),d=y}else d=u;let g=d.pathname||"/",m=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=TM(t,{pathname:m}),h=lI(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ps([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ps([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&h?b.createElement(qd.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xs.Pop}},h):h}function sI(){let t=hI(),e=QM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const iI=b.createElement(sI,null);class oI extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(qr.Provider,{value:this.props.routeContext},b.createElement(kj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aI(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Hd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(qr.Provider,{value:e},r)}function lI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:m}=n,x=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let m,x=!1,h=null,y=null;n&&(m=l&&p.route.id?l[p.route.id]:void 0,h=p.route.errorElement||iI,c&&(u<0&&g===0?(x=!0,y=null):u===g&&(x=!0,y=p.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),v=()=>{let _;return m?_=h:x?_=y:p.route.Component?_=b.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,b.createElement(aI,{match:p,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?b.createElement(oI,{location:n.location,revalidation:n.revalidation,component:h,error:m,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Cj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cj||{}),Zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zu||{});function cI(t){let e=b.useContext(Hd);return e||Qe(!1),e}function uI(t){let e=b.useContext(jj);return e||Qe(!1),e}function dI(t){let e=b.useContext(qr);return e||Qe(!1),e}function Nj(t){let e=dI(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function hI(){var t;let e=b.useContext(kj),n=uI(Zu.UseRouteError),r=Nj(Zu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fI(){let{router:t}=cI(Cj.UseNavigateStable),e=Nj(Zu.UseNavigateStable),n=b.useRef(!1);return Ej(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,jl({fromRouteId:e},i)))},[t,e])}function pI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xh(t){let{to:e,replace:n,state:r,relative:s}=t;ha()||Qe(!1);let{future:i,static:o}=b.useContext(Hr),{matches:l}=b.useContext(qr),{pathname:c}=Yt(),u=tt(),d=tv(e,ev(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function Pj(t){return tI(t.context)}function _e(t){Qe(!1)}function mI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xs.Pop,navigator:i,static:o=!1,future:l}=t;ha()&&Qe(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:jl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ui(r));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:x="default"}=r,h=b.useMemo(()=>{let y=Yo(d,c);return y==null?null:{location:{pathname:y,search:p,hash:g,state:m,key:x},navigationType:s}},[c,d,p,g,m,x,s]);return h==null?null:b.createElement(Hr.Provider,{value:u},b.createElement(qd.Provider,{children:n,value:h}))}function Tj(t){let{children:e,location:n}=t;return nI(Kp(e),n)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Kp(r.props.children,i));return}r.type!==_e&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function Oj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function gI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vI(t,e){return t.button===0&&(!e||e==="_self")&&!gI(t)}function Gp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function yI(t,e){let n=Gp(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const wI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bI="6";try{window.__reactRouterVersion=bI}catch{}const _I=b.createContext({isTransitioning:!1}),SI="startTransition",Aw=Wm[SI];function jI(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=CM({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(p=>{u&&Aw?Aw(()=>c(p)):c(p)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>pI(r),[r]),b.createElement(mI,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const kI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cu=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=e,g=Oj(e,wI),{basename:m}=b.useContext(Hr),x,h=!1;if(typeof u=="string"&&EI.test(u)&&(x=u,kI))try{let _=new URL(window.location.href),k=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=Yo(k.pathname,m);k.origin===_.origin&&E!=null?u=E+k.search+k.hash:h=!0}catch{}let y=XM(u,{relative:s}),w=NI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:p});function v(_){r&&r(_),_.defaultPrevented||w(_)}return b.createElement("a",ed({},g,{href:x||y,onClick:h||i?r:v,ref:n,target:c}))}),ir=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,p=Oj(e,xI),g=Kd(c,{relative:p.relative}),m=Yt(),x=b.useContext(jj),{navigator:h,basename:y}=b.useContext(Hr),w=x!=null&&TI(g)&&u===!0,v=h.encodeLocation?h.encodeLocation(g).pathname:g.pathname,_=m.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(_=_.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase()),k&&y&&(k=Yo(k,y)||k);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=_===v||!o&&_.startsWith(v)&&_.charAt(E)==="/",T=k!=null&&(k===v||!o&&k.startsWith(v)&&k.charAt(v.length)==="/"),O={isActive:N,isPending:T,isTransitioning:w},F=N?r:void 0,R;typeof i=="function"?R=i(O):R=[i,N?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(O):l;return b.createElement(cu,ed({},p,{"aria-current":F,className:R,ref:n,style:K,to:c,viewTransition:u}),typeof d=="function"?d(O):d)});var Jp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jp||(Jp={}));var Rw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rw||(Rw={}));function CI(t){let e=b.useContext(Hd);return e||Qe(!1),e}function NI(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=tt(),u=Yt(),d=Kd(t,{relative:o});return b.useCallback(p=>{if(vI(p,n)){p.preventDefault();let g=r!==void 0?r:Yu(u)===Yu(d);c(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function PI(t){let e=b.useRef(Gp(t)),n=b.useRef(!1),r=Yt(),s=b.useMemo(()=>yI(r.search,n.current?null:e.current),[r.search]),i=tt(),o=b.useCallback((l,c)=>{const u=Gp(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function TI(t,e){e===void 0&&(e={});let n=b.useContext(_I);n==null&&Qe(!1);let{basename:r}=CI(Jp.useViewTransitionState),s=Kd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Yo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xu(s.pathname,o)!=null||Xu(s.pathname,i)!=null}const OI=()=>{const{pathname:t}=Yt();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null};var Qp=function(t,e){return Qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Qp(t,e)};function Aj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bn=function(){return bn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bn.apply(this,arguments)};function Us(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Rj(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Mj(t,e){return function(n,r){e(n,r,t)}}function Ij(t,e,n,r,s,i){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p,g=!1,m=n.length-1;m>=0;m--){var x={};for(var h in r)x[h]=h==="access"?{}:r[h];for(var h in r.access)x.access[h]=r.access[h];x.addInitializer=function(w){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(w||null))};var y=(0,n[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(p=o(y.get))&&(d.get=p),(p=o(y.set))&&(d.set=p),(p=o(y.init))&&s.unshift(p)}else(p=o(y))&&(l==="field"?s.unshift(p):d[c]=p)}u&&Object.defineProperty(u,r.name,d),g=!0}function Dj(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function Lj(t){return typeof t=="symbol"?t:"".concat(t)}function $j(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Fj(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function se(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function Uj(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Gd=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Bj(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Gd(e,t,n)}function td(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function zj(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nv(arguments[e]));return t}function Vj(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)r[s]=i[o];return r}function rv(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function Wj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(x){return Promise.resolve(x).then(m,p)}}function l(m,x){r[m]&&(s[m]=function(h){return new Promise(function(y,w){i.push([m,h,y,w])>1||c(m,h)})},x&&(s[m]=x(s[m])))}function c(m,x){try{u(r[m](x))}catch(h){g(i[0][3],h)}}function u(m){m.value instanceof Xo?Promise.resolve(m.value.v).then(d,p):g(i[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function g(m,x){m(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Hj(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:Xo(t[s](o)),done:!1}:i?i(o):o}:i}}function qj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof td=="function"?td(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function Kj(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var AI=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Yp=function(t){return Yp=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Yp(t)};function Gj(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Yp(t),r=0;r<n.length;r++)n[r]!=="default"&&Gd(e,t,n[r]);return AI(e,t),e}function Jj(t){return t&&t.__esModule?t:{default:t}}function Qj(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Yj(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function Xj(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Zj(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var RI=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function ek(t){function e(i){t.error=t.hasError?new RI(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function tk(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const MI={__extends:Aj,__assign:bn,__rest:Us,__decorate:Rj,__param:Mj,__esDecorate:Ij,__runInitializers:Dj,__propKey:Lj,__setFunctionName:$j,__metadata:Fj,__awaiter:se,__generator:Uj,__createBinding:Gd,__exportStar:Bj,__values:td,__read:nv,__spread:zj,__spreadArrays:Vj,__spreadArray:rv,__await:Xo,__asyncGenerator:Wj,__asyncDelegator:Hj,__asyncValues:qj,__makeTemplateObject:Kj,__importStar:Gj,__importDefault:Jj,__classPrivateFieldGet:Qj,__classPrivateFieldSet:Yj,__classPrivateFieldIn:Xj,__addDisposableResource:Zj,__disposeResources:ek,__rewriteRelativeImportExtension:tk},II=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zj,get __assign(){return bn},__asyncDelegator:Hj,__asyncGenerator:Wj,__asyncValues:qj,__await:Xo,__awaiter:se,__classPrivateFieldGet:Qj,__classPrivateFieldIn:Xj,__classPrivateFieldSet:Yj,__createBinding:Gd,__decorate:Rj,__disposeResources:ek,__esDecorate:Ij,__exportStar:Bj,__extends:Aj,__generator:Uj,__importDefault:Jj,__importStar:Gj,__makeTemplateObject:Kj,__metadata:Fj,__param:Mj,__propKey:Lj,__read:nv,__rest:Us,__rewriteRelativeImportExtension:tk,__runInitializers:Dj,__setFunctionName:$j,__spread:zj,__spreadArray:rv,__spreadArrays:Vj,__values:td,default:MI},Symbol.toStringTag,{value:"Module"})),DI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class sv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class LI extends sv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mw extends sv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Iw extends sv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xp||(Xp={}));class $I{constructor(e,{headers:n={},customFetch:r,region:s=Xp.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=DI(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return se(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:p}=r;let g={},{region:m}=r;m||(m=this.region);const x=new URL(`${this.url}/${n}`);m&&m!=="any"&&(g["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let h;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",h=u):typeof u=="string"?(g["Content-Type"]="text/plain",h=u):typeof FormData<"u"&&u instanceof FormData?h=u:(g["Content-Type"]="application/json",h=JSON.stringify(u)):h=u;let y=d;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:h,signal:y}).catch(E=>{throw new LI(E)}),v=w.headers.get("x-relay-error");if(v&&v==="true")throw new Mw(w);if(!w.ok)throw new Iw(w);let _=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return _==="application/json"?k=yield w.json():_==="application/octet-stream"||_==="application/pdf"?k=yield w.blob():_==="text/event-stream"?k=w:_==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof Iw||l instanceof Mw?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Dt={};const fa=fN(II);var wc={},xc={},bc={},_c={},Sc={},jc={},Dw;function nk(){if(Dw)return jc;Dw=1,Object.defineProperty(jc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jc.default=t,jc}var Lw;function rk(){if(Lw)return Sc;Lw=1,Object.defineProperty(Sc,"__esModule",{value:!0});const e=fa.__importDefault(nk());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,p,g;let m=null,x=null,h=null,y=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=E:x=JSON.parse(E))}const _=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(m={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,h=null,y=406,w="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await c.text();try{m=JSON.parse(_),Array.isArray(m)&&c.status===404&&(x=[],m=null,y=200,w="OK")}catch{c.status===404&&_===""?(y=204,w="No Content"):m={message:_}}if(m&&this.isMaybeSingle&&(!((g=m==null?void 0:m.details)===null||g===void 0)&&g.includes("0 rows"))&&(m=null,y=200,w="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:x,count:h,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,p,g,m,x;let h="";const y=c==null?void 0:c.cause;if(y){const w=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",v=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";h=`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,h+=`

Caused by: ${(g=y==null?void 0:y.name)!==null&&g!==void 0?g:"Error"}: ${w}`,v&&(h+=` (${v})`),y!=null&&y.stack&&(h+=`
${y.stack}`)}else h=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Sc.default=n,Sc}var $w;function sk(){if($w)return _c;$w=1,Object.defineProperty(_c,"__esModule",{value:!0});const e=fa.__importDefault(rk());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const p=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return _c.default=n,_c}var Fw;function iv(){if(Fw)return bc;Fw=1,Object.defineProperty(bc,"__esModule",{value:!0});const e=fa.__importDefault(sk()),n=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return bc.default=r,bc}var Uw;function ik(){if(Uw)return xc;Uw=1,Object.defineProperty(xc,"__esModule",{value:!0});const e=fa.__importDefault(iv());class n{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return xc.default=n,xc}var Bw;function FI(){if(Bw)return wc;Bw=1,Object.defineProperty(wc,"__esModule",{value:!0});const t=fa,e=t.__importDefault(ik()),n=t.__importDefault(iv());class r{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let p;const g=new URL(`${this.url}/rpc/${i}`);let m;l||c?(p=l?"HEAD":"GET",Object.entries(o).filter(([h,y])=>y!==void 0).map(([h,y])=>[h,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([h,y])=>{g.searchParams.append(h,y)})):(p="POST",m=o);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:p,url:g,headers:x,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return wc.default=r,wc}Object.defineProperty(Dt,"__esModule",{value:!0});var ok=Dt.PostgrestError=gk=Dt.PostgrestBuilder=pk=Dt.PostgrestTransformBuilder=hk=Dt.PostgrestFilterBuilder=uk=Dt.PostgrestQueryBuilder=lk=Dt.PostgrestClient=void 0;const pa=fa,ak=pa.__importDefault(FI());var lk=Dt.PostgrestClient=ak.default;const ck=pa.__importDefault(ik());var uk=Dt.PostgrestQueryBuilder=ck.default;const dk=pa.__importDefault(iv());var hk=Dt.PostgrestFilterBuilder=dk.default;const fk=pa.__importDefault(sk());var pk=Dt.PostgrestTransformBuilder=fk.default;const mk=pa.__importDefault(rk());var gk=Dt.PostgrestBuilder=mk.default;const vk=pa.__importDefault(nk());ok=Dt.PostgrestError=vk.default;var yk=Dt.default={PostgrestClient:ak.default,PostgrestQueryBuilder:ck.default,PostgrestFilterBuilder:dk.default,PostgrestTransformBuilder:fk.default,PostgrestBuilder:mk.default,PostgrestError:vk.default};const UI=kb({__proto__:null,get PostgrestBuilder(){return gk},get PostgrestClient(){return lk},get PostgrestError(){return ok},get PostgrestFilterBuilder(){return hk},get PostgrestQueryBuilder(){return uk},get PostgrestTransformBuilder(){return pk},default:yk},[Dt]),{PostgrestClient:BI,PostgrestQueryBuilder:r8,PostgrestFilterBuilder:s8,PostgrestTransformBuilder:i8,PostgrestBuilder:o8,PostgrestError:a8}=yk||UI;class zI{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const VI="2.84.0",WI=`realtime-js/${VI}`,wk="1.0.0",HI="2.0.0",zw=wk,Zp=1e4,qI=1e3,KI=100;var ni;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ni||(ni={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var Hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hn||(Hn={}));var em;(function(t){t.websocket="websocket"})(em||(em={}));var ri;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ri||(ri={}));class GI{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,s,i;const o=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let m=new DataView(g),x=0;m.setUint8(x++,this.KINDS.userBroadcastPush),m.setUint8(x++,c.length),m.setUint8(x++,l.length),m.setUint8(x++,o.length),m.setUint8(x++,u.length),m.setUint8(x++,this.BINARY_ENCODING),Array.from(c,y=>m.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>m.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>m.setUint8(x++,y.charCodeAt(0))),Array.from(u,y=>m.setUint8(x++,y.charCodeAt(0)));var h=new Uint8Array(g.byteLength+d.byteLength);return h.set(new Uint8Array(g),0),h.set(new Uint8Array(d),g.byteLength),h.buffer}_encodeJsonUserBroadcastPush(e){var n,r,s,i;const o=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(r=e.join_ref)!==null&&r!==void 0?r:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},g=new TextEncoder().encode(JSON.stringify(d)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length,x=new ArrayBuffer(this.HEADER_LENGTH+m);let h=new DataView(x),y=0;h.setUint8(y++,this.KINDS.userBroadcastPush),h.setUint8(y++,c.length),h.setUint8(y++,l.length),h.setUint8(y++,o.length),h.setUint8(y++,u.length),h.setUint8(y++,this.JSON_ENCODING),Array.from(c,v=>h.setUint8(y++,v.charCodeAt(0))),Array.from(l,v=>h.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>h.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>h.setUint8(y++,v.charCodeAt(0)));var w=new Uint8Array(x.byteLength+g.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(g),x.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const p=r.decode(e.slice(c,c+o));c=c+o;const g=e.slice(c,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,x={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(x.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Le||(Le={}));const Vw=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=JI(o,t,e,s),i),{}):{}},JI=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?bk(i,o):tm(o)},bk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZI(e,n)}switch(t){case Le.bool:return QI(e);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return YI(e);case Le.json:case Le.jsonb:return XI(e);case Le.timestamp:return eD(e);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return tm(e);default:return tm(e)}},tm=t=>t,QI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ZI=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bk(e,l))}return t},eD=t=>typeof t=="string"?t.replace(" ","T"):t,_k=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Zh{constructor(e,n,r={},s=Zp){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ww;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ww||(Ww={}));class Qa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qa.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Qa.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qa.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const g=d.map(y=>y.presence_ref),m=p.map(y=>y.presence_ref),x=d.filter(y=>m.indexOf(y.presence_ref)<0),h=p.filter(y=>g.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),h.length>0&&(c[u]=h)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const p=e[l].map(m=>m.presence_ref),g=d.filter(m=>p.indexOf(m.presence_ref)<0);e[l].unshift(...g)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hw||(Hw={}));var Ya;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ya||(Ya={}));var kr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class ov{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zh(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new xk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Qa(this),this.broadcastEndpointURL=_k(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ya.PRESENCE]&&this.bindings[Ya.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(kr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket.setAuth(),m===void 0){e==null||e(kr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(x=h==null?void 0:h.length)!==null&&x!==void 0?x:0,w=[];for(let v=0;v<y;v++){const _=h[v],{filter:{event:k,schema:E,table:N,filter:T}}=_,O=m&&m[v];if(O&&O.event===k&&O.schema===E&&O.table===N&&O.filter===T)w.push(Object.assign(Object.assign({},_),{id:O.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(kr.SUBSCRIBED);return}}).receive("error",m=>{this.state=at.errored,e==null||e(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===at.joined&&e===Ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Zh(this,Hn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zh(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>KI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Hn;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,h,y;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(h=m.filter)===null||h===void 0?void 0:h.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,h,y,w,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,E=(x=m.filter)===null||x===void 0?void 0:x.event;return k&&((h=n.ids)===null||h===void 0?void 0:h.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(v=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:h,table:y,commit_timestamp:w,type:v,errors:_}=x;g=Object.assign(Object.assign({},{schema:h,table:y,commit_timestamp:w,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(x))}m.callback(g,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ov.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hn.close,{},e)}_onError(e){this._on(Hn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vw(e.columns,e.old_record)),n}}const ef=()=>{},kc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tD=[1e3,2e3,5e3,1e4],nD=1e4,rD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sD{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zp,this.transport=null,this.heartbeatIntervalMs=kc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ef,this.ref=0,this.reconnectTimer=null,this.vsn=zw,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new GI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${em.websocket}`,this.httpEndpoint=_k(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zI.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return ri.Connecting;case ni.open:return ri.Open;case ni.closing:return ri.Closing;default:return ri.Closed}}isConnected(){return this.connectionState()===ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ov(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},kc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ni.open||this.conn.readyState===ni.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:WI};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Hn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,d,p,g,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Zp,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:kc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ef,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:zw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>tD[x-1]||nD,this.vsn){case wk:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,h)=>h(JSON.stringify(x)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(x,h)=>h(JSON.parse(x));break;case HI:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class av extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iD extends av{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nm extends av{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const lv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oD=()=>Response,rm=t=>{if(Array.isArray(t))return t.map(n=>rm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=rm(r)}),e},aD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},lD=(t,e,n)=>se(void 0,void 0,void 0,function*(){const r=yield oD();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new iD(tf(s),i,o))}).catch(s=>{e(new nm(tf(s),s))}):e(new nm(tf(t),t))}),cD=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(aD(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Bl(t,e,n,r,s,i){return se(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,cD(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>lD(c,l,r))})})}function kl(t,e,n,r){return se(this,void 0,void 0,function*(){return Bl(t,"GET",e,n,r)})}function Bn(t,e,n,r,s){return se(this,void 0,void 0,function*(){return Bl(t,"POST",e,r,s,n)})}function sm(t,e,n,r,s){return se(this,void 0,void 0,function*(){return Bl(t,"PUT",e,r,s,n)})}function uD(t,e,n,r){return se(this,void 0,void 0,function*(){return Bl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function cv(t,e,n,r,s){return se(this,void 0,void 0,function*(){return Bl(t,"DELETE",e,r,s,n)})}class dD{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var Sk;class hD{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Sk]="BlobDownloadBuilder",this.promise=null}asStream(){return new dD(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}Sk=Symbol.toStringTag;const fD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pD{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=lv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qw),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield(e=="PUT"?sm:Bn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}upload(e,n,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:qw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield sm(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return se(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Bn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new av("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(e,n,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return se(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}copy(e,n,r){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield Bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Bn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return se(this,void 0,void 0,function*(){try{const s=yield Bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>kl(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new hD(c,this.shouldThrowOnError)}info(e){return se(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield kl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rm(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(e){return se(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield uD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof nm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return se(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}list(e,n,r){return se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fD),n),{prefix:e||""});return{data:yield Bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}listV2(e,n){return se(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const jk="2.84.0",kk={"X-Client-Info":`storage-js/${jk}`};class mD{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kk),n),this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return se(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield kl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createBucket(e){return se(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return se(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class gD{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kk),n),this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBuckets(e){return se(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield kl(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield cv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}const uv={"X-Client-Info":`storage-js/${jk}`,"Content-Type":"application/json"};class Ek extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class nf extends Ek{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vD extends Ek{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Kw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kw||(Kw={}));const dv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wD=(t,e,n)=>se(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new nf(Gw(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new nf(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new nf(l,s,o))}}else e(new vD(Gw(t),t))}),xD=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(yD(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function bD(t,e,n,r,s,i){return se(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,xD(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>wD(c,l,r))})})}function sn(t,e,n,r,s){return se(this,void 0,void 0,function*(){return bD(t,"POST",e,r,s,n)})}class _D{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),n),this.fetch=dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return se(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return se(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}listIndexes(e){return se(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return se(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}}class SD{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),n),this.fetch=dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return se(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getVectors(e){return se(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}listVectors(e){return se(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield sn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}queryVectors(e){return se(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return se(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class jD{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uv),n),this.fetch=dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return se(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}getBucket(e){return se(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}listBuckets(){return se(this,arguments,void 0,function*(e={}){try{return{data:yield sn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return se(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class kD extends jD{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new ED(this.url,this.headers,e,this.fetch)}}class ED extends _D{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return se(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return se(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return se(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return se(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new CD(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class CD extends SD{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return se(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return se(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return se(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return se(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return se(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ND extends mD{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new pD(this.url,this.headers,e,this.fetch)}get vectors(){return new kD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gD(this.url+"/iceberg",this.headers,this.fetch)}}const PD="2.84.0";let Ia="";typeof Deno<"u"?Ia="deno":typeof document<"u"?Ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ia="react-native":Ia="node";const TD={"X-Client-Info":`supabase-js-${Ia}/${PD}`},OD={headers:TD},AD={schema:"public"},RD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MD={},ID=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DD=()=>Headers,LD=(t,e,n)=>{const r=ID(n),s=DD();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function $D(t){return t.endsWith("/")?t:t+"/"}function FD(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:p}=e,g={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function UD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($D(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ck="2.84.0",no=30*1e3,im=3,rf=im*no,BD="http://localhost:9999",zD="supabase.auth.token",VD={"X-Client-Info":`gotrue-js/${Ck}`},om="X-Supabase-Api-Version",Nk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HD=10*60*1e3;class El extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qD extends El{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function KD(t){return oe(t)&&t.name==="AuthApiError"}class si extends El{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bs extends El{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class en extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GD(t){return oe(t)&&t.name==="AuthSessionMissingError"}class Ki extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ec extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cc extends Bs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JD(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Jw extends Bs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class am extends Bs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function sf(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Qw extends Bs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class lm extends Bs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Yw=` 	
\r=`.split(""),QD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Yw.length;e+=1)t[Yw[e].charCodeAt(0)]=-2;for(let e=0;e<nd.length;e+=1)t[nd[e].charCodeAt(0)]=e;return t})();function Xw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(nd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(nd[r]),e.queuedBits-=6}}function Pk(t,e,n){const r=QD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zw(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{ZD(o,r,n)};for(let o=0;o<t.length;o+=1)Pk(t.charCodeAt(o),s,i);return e.join("")}function YD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}YD(r,e)}}function ZD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Co(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Pk(t.charCodeAt(s),n,r);return new Uint8Array(e)}function eL(t){const e=[];return XD(t,n=>e.push(n)),new Uint8Array(e)}function ci(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Xw(s,n,r)),Xw(null,n,r),e.join("")}function tL(t){return Math.round(Date.now()/1e3)+t}function nL(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},Tk=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function rL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ok=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ro=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ts=async(t,e)=>{await t.removeItem(e)};class Jd{constructor(){this.promise=new Jd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jd.promiseConstructor=Promise;function of(t){const e=t.split(".");if(e.length!==3)throw new lm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!WD.test(e[r]))throw new lm("JWT not in base64url format");return{header:JSON.parse(Zw(e[0])),payload:JSON.parse(Zw(e[1])),signature:Co(e[2]),raw:{header:e[0],payload:e[1]}}}async function iL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function oL(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function aL(t){return("0"+t.toString(16)).substr(-2)}function lL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,aL).join("")}async function cL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await cL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gi(t,e,n=!1){const r=lL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ro(t,`${e}-code-verifier`,s);const i=await uL(r);return[i,r===i?"plain":"s256"]}const dL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hL(t){const e=t.headers.get(om);if(!e||!e.match(dL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ji(t){if(!mL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function af(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gL(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function e0(t){return JSON.parse(JSON.stringify(t))}const Zs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vL=[502,503,504];async function t0(t){var e;if(!sL(t))throw new am(Zs(t),0);if(vL.includes(t.status))throw new am(Zs(t),t.status);let n;try{n=await t.json()}catch(i){throw new si(Zs(i),i)}let r;const s=hL(t);if(s&&s.getTime()>=Nk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qw(Zs(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qw(Zs(n),t.status,n.weak_password.reasons);throw new qD(Zs(n),t.status||500,r)}const yL=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fe(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[om]||(i[om]=Nk["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await wL(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function wL(t,e,n,r,s,i){const o=yL(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new am(Zs(c),0)}if(l.ok||await t0(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await t0(c)}}function Dn(t){var e;let n=null;_L(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function n0(t){const e=Dn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xL(t){return{data:t,error:null}}function bL(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Us(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function r0(t){return t}function _L(t){return t.access_token&&t.refresh_token&&t.expires_in}const lf=["global","local","others"];class SL{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ok(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=lf[0]){if(lf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lf.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Us(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:r0});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const h=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=h}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ji(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ji(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ji(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ji(e.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ji(e.userId),Ji(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:r0});if(d.error)throw d.error;const p=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const h=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=h}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(oe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function s0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Qi={debug:!!(globalThis&&Tk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ak extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jL extends Ak{}async function kL(t,e,n){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function EL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rk(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function CL(t){return parseInt(t,16)}function NL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function PL(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:p,version:g}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Rk(t.address),x=d?`${d}://${r}`:r,h=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${m}

${h}`;let w=`URI: ${p}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}w+=v}return`${y}
${w}`}class st extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class rd extends st{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function TL({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Mk(o)){if(i.rp.id!==o)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function OL({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new st({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Mk(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class AL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const RL=new AL;function ML(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Us(t,["challenge","user","excludeCredentials"]),i=Co(e).buffer,o=Object.assign(Object.assign({},n),{id:Co(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Co(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function IL(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Us(t,["challenge","allowCredentials"]),s=Co(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Co(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function DL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ci(new Uint8Array(t.response.attestationObject)),clientDataJSON:ci(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LL(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ci(new Uint8Array(s.authenticatorData)),clientDataJSON:ci(new Uint8Array(s.clientDataJSON)),signature:ci(new Uint8Array(s.signature)),userHandle:s.userHandle?ci(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mk(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function i0(){var t,e;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $L(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rd("Browser returned unexpected credential type",e)}:{data:null,error:new rd("Empty credential response",e)}}catch(e){return{data:null,error:TL({error:e,options:t})}}}async function FL(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rd("Browser returned unexpected credential type",e)}:{data:null,error:new rd("Empty credential response",e)}}catch(e){return{data:null,error:OL({error:e,options:t})}}}const UL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sd(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(e(o)){const l=r[i];e(l)?r[i]=sd(l,o):r[i]=sd(o)}else r[i]=o}return r}function zL(t,e){return sd(UL,t,e||{})}function VL(t,e){return sd(BL,t,e||{})}class WL{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=s??RL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=zL(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:p}=await $L({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const u=VL(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:p}=await FL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new El("rpId is required for WebAuthn authentication")};try{if(!i0())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new El("rpId is required for WebAuthn registration")};try{if(!i0())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new si("Unexpected error in register",o)}}}}EL();const HL={url:BD,storageKey:zD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function o0(t,e,n){return await n()}const Yi={};class Cl{get jwks(){var e,n;return(n=(e=Yi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Yi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},HL),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Cl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Cl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&gt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ok(i.fetch),this.lock=i.lock||o0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:gt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=kL:this.lock=o0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Tk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=s0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=s0(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ck}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(gt()&&(n=rL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),gt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),JD(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new si("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dn}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Gi(this.storage,this.storageKey)),i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:x},xform:Dn})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Dn})}else throw new Ec("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:n0})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:n0})}else throw new Ec("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ki;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,o,l,c,u,d,p,g;let m,x;if("message"in e)m=e.message,x=e.signature;else{const{chain:h,wallet:y,statement:w,options:v}=e;let _;if(gt())if(typeof y=="object")_=y;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),E=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Rk(E[0]);let T=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const F=await _.request({method:"eth_chainId"});T=CL(F)}const O={domain:k.host,address:N,statement:w,uri:k.href,version:"1",chainId:T,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=PL(O),x=await _.request({method:"personal_sign",params:[NL(m),N]})}try{const{data:h,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dn});if(y)throw y;if(!h||!h.session||!h.user){const w=new Ki;return this._returnResult({data:{user:null,session:null},error:w})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign({},h),error:y})}catch(h){if(oe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithSolana(e){var n,r,s,i,o,l,c,u,d,p,g,m;let x,h;if("message"in e)x=e.message,h=e.signature;else{const{chain:y,wallet:w,statement:v,options:_}=e;let k;if(gt())if(typeof w=="object")k=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const E=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let T;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")T=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)T=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),h=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");h=N}}try{const{data:y,error:w}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ci(h)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Dn});if(w)throw w;if(!y||!y.session||!y.user){const v=new Ki;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(oe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await qs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Dn});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ki;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ki;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gi(this.storage,this.storageKey));const{error:p}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ec("You must provide either an email or phone number.")}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gi(this.storage,this.storageKey));const u=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:xL});return!((i=u.data)===null||i===void 0)&&i.url&&gt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(oe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new en;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ec("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await qs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=af()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=gL(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:hs})})}catch(n){if(oe(n))return GD(n)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new en;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Gi(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:hs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new en;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=of(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new en;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!gt())throw new Cc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Jw("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Cc("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let g=d+p;c&&(g=parseInt(c));const m=g-d;m*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const x=g-p;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:h,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(KD(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=nL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gi(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:p,error:g}=i;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,p=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dn}),{data:g,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Ki}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:m}))}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oL(async s=>(s>0&&await iL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Dn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&sf(i)&&Date.now()+o-r<no})}catch(r){if(this._debug(n,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),gt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await qs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ro(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:af()}else if(s&&!s.user&&!s.user){const o=await qs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ts(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,s)):s.user=af()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rf;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${rf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),sf(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Jd;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new en;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),oe(i)){const o={data:null,error:i};return sf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ro(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=e0(s);await ro(this.storage,this.storageKey,i)}else{const s=e0(n);await ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await ts(this.storage,this.storageKey+"-code-verifier"),await ts(this.storage,this.storageKey+"-user"),this.userStorage&&await ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${no}ms, refresh threshold is ${im} ticks`),s<=im&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ak)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?DL(e.webauthn.credential_response):LL(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ML(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:IL(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=of(r.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new en})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new en});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new en});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new en})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new en})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+HD>s)return r;const{data:i,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=of(r);n!=null&&n.allowExpired||fL(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=pL(s.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,eL(`${l}.${c}`)))throw new lm("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}Cl.nextInstanceID={};const qL=Cl;class KL extends qL{constructor(e){super(e)}}class GL{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=UD(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:AD,realtime:MD,auth:Object.assign(Object.assign({},RD),{storageKey:c}),global:OD},d=FD(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=LD(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new BI(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ND(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $I(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},p,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KL({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),p),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sD(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JL=(t,e,n)=>new GL(t,e,n);function QL(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}QL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YL="https://vrftngtqlhcjkugvcjav.supabase.co",XL="sb_publishable_q8Yr9weoN2K3_J9lps7DVQ_JTfVacfO",W=JL(YL,XL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),mn=({children:t,allowedRoles:e})=>{const[n,r]=b.useState(null),[s,i]=b.useState(null),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,p]=b.useState(null),g=Yt();b.useEffect(()=>{(async()=>{const{data:{session:w},error:v}=await W.auth.getSession();if(v){console.error("Error getting session:",v),l(!1);return}r(w),i((w==null?void 0:w.user)??null),w!=null&&w.user&&await Promise.all([m(w.user.id),x(w.user.id)]),l(!1)})();const{data:{subscription:y}}=W.auth.onAuthStateChange((w,v)=>{r(v),i((v==null?void 0:v.user)??null),v!=null&&v.user?(m(v.user.id),x(v.user.id)):(u(null),p(null))});return()=>y.unsubscribe()},[]);const m=async h=>{try{const{data:y,error:w}=await W.from("user_roles").select("role").eq("user_id",h).single();if(w)throw w;y&&u(y.role)}catch(y){console.error("Error fetching user role:",y)}},x=async h=>{try{const{data:y,error:w}=await W.from("profiles").select("*").eq("id",h).single();if(w)throw w;y&&p(y)}catch(y){console.error("Error fetching user profile:",y)}};return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n?d&&(!d.full_name||!d.phone||!d.location)&&g.pathname!=="/complete-profile"?a.jsx(Xh,{to:"/complete-profile",state:{from:g},replace:!0}):e&&c&&!e.includes(c)?a.jsx(Xh,{to:"/unauthorized",replace:!0}):a.jsx(a.Fragment,{children:t}):a.jsx(Xh,{to:"/login",state:{from:g},replace:!0})},ZL=[{to:"/dashboard",icon:xS,label:"Home"},{to:"/appointments",icon:vl,label:"Appointments"},{to:"/chat",icon:Vu,label:"Chat"},{to:"/medical-records",icon:Yn,label:"Medical Records"}],e$=()=>a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-background border-t border-border shadow-t-lg z-50",children:a.jsx("div",{className:"flex justify-around items-center h-full",children:ZL.map(t=>a.jsxs(ir,{to:t.to,className:({isActive:e})=>`flex flex-col items-center justify-center text-xs w-full h-full transition-colors duration-200 ${e?"text-primary":"text-muted-foreground hover:text-primary"}`,children:[a.jsx(t.icon,{className:"h-6 w-6 mb-1"}),a.jsx("span",{children:t.label})]},t.label))})}),t$=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("main",{className:"pb-20",children:a.jsx(Pj,{})}),a.jsx(e$,{})]}),Ik=b.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>a.jsx(ir,{ref:i,to:r,className:({isActive:o,isPending:l})=>me(t,o&&e,l&&n),...s}));Ik.displayName="NavLink";const n$=Fl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?qT:"button";return a.jsx(o,{className:me(n$({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";var cf="focusScope.autoFocusOnMount",uf="focusScope.autoFocusOnUnmount",a0={bubbles:!1,cancelable:!0},r$="FocusScope",hv=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=b.useState(null),u=Nn(s),d=Nn(i),p=b.useRef(null),g=Ve(e,h=>c(h)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let h=function(_){if(m.paused||!l)return;const k=_.target;l.contains(k)?p.current=k:is(p.current,{select:!0})},y=function(_){if(m.paused||!l)return;const k=_.relatedTarget;k!==null&&(l.contains(k)||is(p.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&is(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const v=new MutationObserver(w);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,m.paused]),b.useEffect(()=>{if(l){c0.add(m);const h=document.activeElement;if(!l.contains(h)){const w=new CustomEvent(cf,a0);l.addEventListener(cf,u),l.dispatchEvent(w),w.defaultPrevented||(s$(c$(Dk(l)),{select:!0}),document.activeElement===h&&is(l))}return()=>{l.removeEventListener(cf,u),setTimeout(()=>{const w=new CustomEvent(uf,a0);l.addEventListener(uf,d),l.dispatchEvent(w),w.defaultPrevented||is(h??document.body,{select:!0}),l.removeEventListener(uf,d),c0.remove(m)},0)}}},[l,u,d,m]);const x=b.useCallback(h=>{if(!n&&!r||m.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,w=document.activeElement;if(y&&w){const v=h.currentTarget,[_,k]=i$(v);_&&k?!h.shiftKey&&w===k?(h.preventDefault(),n&&is(_,{select:!0})):h.shiftKey&&w===_&&(h.preventDefault(),n&&is(k,{select:!0})):w===v&&h.preventDefault()}},[n,r,m.paused]);return a.jsx(ke.div,{tabIndex:-1,...o,ref:g,onKeyDown:x})});hv.displayName=r$;function s$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(is(r,{select:e}),document.activeElement!==n)return}function i$(t){const e=Dk(t),n=l0(e,t),r=l0(e.reverse(),t);return[n,r]}function Dk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l0(t,e){for(const n of t)if(!o$(n,{upTo:e}))return n}function o$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function a$(t){return t instanceof HTMLInputElement&&"select"in t}function is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&a$(t)&&e&&t.select()}}var c0=l$();function l$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=u0(t,e),t.unshift(e)},remove(e){var n;t=u0(t,e),(n=t[0])==null||n.resume()}}}function u0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function c$(t){return t.filter(e=>e.tagName!=="A")}var df=0;function Lk(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??d0()),document.body.insertAdjacentElement("beforeend",t[1]??d0()),df++,()=>{df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),df--}},[])}function d0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var uu="right-scroll-bar-position",du="width-before-scroll-bar",u$="with-scroll-bars-hidden",d$="--removed-body-scroll-bar-size";function hf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function h$(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var f$=typeof window<"u"?b.useLayoutEffect:b.useEffect,h0=new WeakMap;function p$(t,e){var n=h$(null,function(r){return t.forEach(function(s){return hf(s,r)})});return f$(function(){var r=h0.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||hf(l,null)}),i.forEach(function(l){s.has(l)||hf(l,o)})}h0.set(n,t)},[t]),n}function m$(t){return t}function g$(t,e){e===void 0&&(e=m$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function v$(t){t===void 0&&(t={});var e=g$(null);return e.options=bn({async:!0,ssr:!1},t),e}var $k=function(t){var e=t.sideCar,n=Us(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,bn({},n))};$k.isSideCarExport=!0;function y$(t,e){return t.useMedium(e),$k}var Fk=v$(),ff=function(){},Qd=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:ff,onWheelCapture:ff,onTouchMoveCapture:ff}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,g=t.sideCar,m=t.noRelative,x=t.noIsolation,h=t.inert,y=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,_=t.gapMode,k=Us(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,N=p$([n,e]),T=bn(bn({},k),s);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:Fk,removeScrollBar:u,shards:p,noRelative:m,noIsolation:x,inert:h,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?b.cloneElement(b.Children.only(l),bn(bn({},T),{ref:N})):b.createElement(v,bn({},T,{className:c,ref:N}),l))});Qd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qd.classNames={fullWidth:du,zeroRight:uu};var w$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=w$();return e&&t.setAttribute("nonce",e),t}function b$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var S$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=x$())&&(b$(e,n),_$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},j$=function(){var t=S$();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Uk=function(){var t=j$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},k$={left:0,top:0,right:0,gap:0},pf=function(t){return parseInt(t||"",10)||0},E$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[pf(n),pf(r),pf(s)]},C$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return k$;var e=E$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},N$=Uk(),No="data-scroll-locked",P$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(u$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(du,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uu," .").concat(uu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(du," .").concat(du,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(No,`] {
    `).concat(d$,": ").concat(l,`px;
  }
`)},f0=function(){var t=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(t)?t:0},T$=function(){b.useEffect(function(){return document.body.setAttribute(No,(f0()+1).toString()),function(){var t=f0()-1;t<=0?document.body.removeAttribute(No):document.body.setAttribute(No,t.toString())}},[])},O$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;T$();var i=b.useMemo(function(){return C$(s)},[s]);return b.createElement(N$,{styles:P$(i,!e,s,n?"":"!important")})},cm=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return cm=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{cm=!1}var Xi=cm?{passive:!1}:!1,A$=function(t){return t.tagName==="TEXTAREA"},Bk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!A$(t)&&n[e]==="visible")},R$=function(t){return Bk(t,"overflowY")},M$=function(t){return Bk(t,"overflowX")},p0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zk(t,r);if(s){var i=Vk(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},I$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},D$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zk=function(t,e){return t==="v"?R$(e):M$(e)},Vk=function(t,e){return t==="v"?I$(e):D$(e)},L$=function(t,e){return t==="h"&&e==="rtl"?-1:1},$$=function(t,e,n,r,s){var i=L$(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,d=o>0,p=0,g=0;do{if(!l)break;var m=Vk(t,l),x=m[0],h=m[1],y=m[2],w=h-y-i*x;(x||w)&&zk(t,l)&&(p+=w,g+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},Pc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m0=function(t){return[t.deltaX,t.deltaY]},g0=function(t){return t&&"current"in t?t.current:t},F$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},B$=0,Zi=[];function z$(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(B$++)[0],i=b.useState(Uk)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var h=rv([t.lockRef.current],(t.shards||[]).map(g0),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!o.current.allowPinchZoom;var w=Pc(h),v=n.current,_="deltaX"in h?h.deltaX:v[0]-w[0],k="deltaY"in h?h.deltaY:v[1]-w[1],E,N=h.target,T=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in h&&T==="h"&&N.type==="range")return!1;var O=p0(T,N);if(!O)return!0;if(O?E=T:(E=T==="v"?"h":"v",O=p0(T,N)),!O)return!1;if(!r.current&&"changedTouches"in h&&(_||k)&&(r.current=E),!E)return!0;var F=r.current||E;return $$(F,y,h,F==="h"?_:k,!0)},[]),c=b.useCallback(function(h){var y=h;if(!(!Zi.length||Zi[Zi.length-1]!==i)){var w="deltaY"in y?m0(y):Pc(y),v=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&F$(E.delta,w)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var _=(o.current.shards||[]).map(g0).filter(Boolean).filter(function(E){return E.contains(y.target)}),k=_.length>0?l(y,_[0]):!o.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),u=b.useCallback(function(h,y,w,v){var _={name:h,delta:y,target:w,should:v,shadowParent:V$(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(k){return k!==_})},1)},[]),d=b.useCallback(function(h){n.current=Pc(h),r.current=void 0},[]),p=b.useCallback(function(h){u(h.type,m0(h),h.target,l(h,t.lockRef.current))},[]),g=b.useCallback(function(h){u(h.type,Pc(h),h.target,l(h,t.lockRef.current))},[]);b.useEffect(function(){return Zi.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Xi),document.addEventListener("touchmove",c,Xi),document.addEventListener("touchstart",d,Xi),function(){Zi=Zi.filter(function(h){return h!==i}),document.removeEventListener("wheel",c,Xi),document.removeEventListener("touchmove",c,Xi),document.removeEventListener("touchstart",d,Xi)}},[]);var m=t.removeScrollBar,x=t.inert;return b.createElement(b.Fragment,null,x?b.createElement(i,{styles:U$(s)}):null,m?b.createElement(O$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function V$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const W$=y$(Fk,z$);var fv=b.forwardRef(function(t,e){return b.createElement(Qd,bn({},t,{ref:e,sideCar:W$}))});fv.classNames=Qd.classNames;var H$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},eo=new WeakMap,Tc=new WeakMap,Oc={},mf=0,Wk=function(t){return t&&(t.host||Wk(t.parentNode))},q$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Wk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},K$=function(t,e,n,r){var s=q$(e,Array.isArray(t)?t:[t]);Oc[n]||(Oc[n]=new WeakMap);var i=Oc[n],o=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))d(g);else try{var m=g.getAttribute(r),x=m!==null&&m!=="false",h=(eo.get(g)||0)+1,y=(i.get(g)||0)+1;eo.set(g,h),i.set(g,y),o.push(g),h===1&&x&&Tc.set(g,!0),y===1&&g.setAttribute(n,"true"),x||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return d(e),l.clear(),mf++,function(){o.forEach(function(p){var g=eo.get(p)-1,m=i.get(p)-1;eo.set(p,g),i.set(p,m),g||(Tc.has(p)||p.removeAttribute(r),Tc.delete(p)),m||p.removeAttribute(n)}),mf--,mf||(eo=new WeakMap,eo=new WeakMap,Tc=new WeakMap,Oc={})}},Hk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=H$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),K$(r,s,n,"aria-hidden")):function(){return null}},Yd="Dialog",[qk,l8]=Fi(Yd),[G$,tr]=qk(Yd),Kk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=b.useRef(null),c=b.useRef(null),[u,d]=Bu({prop:r,defaultProp:s??!1,onChange:i,caller:Yd});return a.jsx(G$,{scope:e,triggerRef:l,contentRef:c,contentId:ko(),titleId:ko(),descriptionId:ko(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};Kk.displayName=Yd;var Gk="DialogTrigger",Jk=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(Gk,n),i=Ve(e,s.triggerRef);return a.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gv(s.open),...r,ref:i,onClick:Se(t.onClick,s.onOpenToggle)})});Jk.displayName=Gk;var pv="DialogPortal",[J$,Qk]=qk(pv,{forceMount:void 0}),Yk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=tr(pv,e);return a.jsx(J$,{scope:e,forceMount:n,children:b.Children.map(r,o=>a.jsx(la,{present:n||i.open,children:a.jsx(Rd,{asChild:!0,container:s,children:o})}))})};Yk.displayName=pv;var id="DialogOverlay",Xk=b.forwardRef((t,e)=>{const n=Qk(id,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(id,t.__scopeDialog);return i.modal?a.jsx(la,{present:r||i.open,children:a.jsx(Y$,{...s,ref:e})}):null});Xk.displayName=id;var Q$=qo("DialogOverlay.RemoveScroll"),Y$=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(id,n);return a.jsx(fv,{as:Q$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ke.div,{"data-state":gv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Pi="DialogContent",Zk=b.forwardRef((t,e)=>{const n=Qk(Pi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=tr(Pi,t.__scopeDialog);return a.jsx(la,{present:r||i.open,children:i.modal?a.jsx(X$,{...s,ref:e}):a.jsx(Z$,{...s,ref:e})})});Zk.displayName=Pi;var X$=b.forwardRef((t,e)=>{const n=tr(Pi,t.__scopeDialog),r=b.useRef(null),s=Ve(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return Hk(i)},[]),a.jsx(eE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,i=>i.preventDefault())})}),Z$=b.forwardRef((t,e)=>{const n=tr(Pi,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return a.jsx(eE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),eE=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=tr(Pi,n),c=b.useRef(null),u=Ve(e,c);return Lk(),a.jsxs(a.Fragment,{children:[a.jsx(hv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ll,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(e4,{titleId:l.titleId}),a.jsx(n4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mv="DialogTitle",tE=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(mv,n);return a.jsx(ke.h2,{id:s.titleId,...r,ref:e})});tE.displayName=mv;var nE="DialogDescription",rE=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(nE,n);return a.jsx(ke.p,{id:s.descriptionId,...r,ref:e})});rE.displayName=nE;var sE="DialogClose",iE=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=tr(sE,n);return a.jsx(ke.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>s.onOpenChange(!1))})});iE.displayName=sE;function gv(t){return t?"open":"closed"}var oE="DialogTitleWarning",[c8,aE]=WT(oE,{contentName:Pi,titleName:mv,docsSlug:"dialog"}),e4=({titleId:t})=>{const e=aE(oE),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},t4="DialogDescriptionWarning",n4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aE(t4).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},lE=Kk,cE=Jk,uE=Yk,Xd=Xk,Zd=Zk,eh=tE,th=rE,vv=iE;const r4=lE,s4=cE,gf=vv,i4=uE,dE=b.forwardRef(({className:t,...e},n)=>a.jsx(Xd,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));dE.displayName=Xd.displayName;const o4=Fl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hE=b.forwardRef(({side:t="right",className:e,children:n,...r},s)=>a.jsxs(i4,{children:[a.jsx(dE,{}),a.jsxs(Zd,{ref:s,className:me(o4({side:t}),e),...r,children:[n,a.jsxs(vv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Fg,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hE.displayName=Zd.displayName;const a4=b.forwardRef(({className:t,...e},n)=>a.jsx(eh,{ref:n,className:me("text-lg font-semibold text-foreground",t),...e}));a4.displayName=eh.displayName;const l4=b.forwardRef(({className:t,...e},n)=>a.jsx(th,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));l4.displayName=th.displayName;const v0=[{to:"/",text:"Home"},{to:"/find-kiosk",text:"Find Kiosk"},{to:"/triage",text:"Consultation"}],c4=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(!0),s=tt();b.useEffect(()=>{(async()=>{const{data:{session:c}}=await W.auth.getSession();e((c==null?void 0:c.user)??null),r(!1)})();const{data:{subscription:l}}=W.auth.onAuthStateChange((c,u)=>{e((u==null?void 0:u.user)??null)});return()=>l.unsubscribe()},[]);const i=async()=>{await W.auth.signOut(),s("/")};return n?a.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsx("div",{className:"container flex h-16 items-center justify-between"})}):a.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs(cu,{to:"/",className:"flex items-center gap-2",children:[a.jsx(wr,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-xl font-bold",children:"HealthKiosk NG"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[v0.map(o=>a.jsx(Ik,{to:o.to,children:o.text},o.to)),t?a.jsx(Z,{onClick:i,variant:"outline",size:"sm",children:"Logout"}):a.jsxs(a.Fragment,{children:[a.jsx(Z,{onClick:()=>s("/login"),variant:"ghost",size:"sm",children:"Sign In"}),a.jsx(Z,{onClick:()=>s("/register"),size:"sm",children:"Get Started"})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsxs(r4,{children:[a.jsx(s4,{asChild:!0,children:a.jsxs(Z,{variant:"outline",size:"icon",children:[a.jsx(qO,{className:"h-6 w-6"}),a.jsx("span",{className:"sr-only",children:"Open navigation menu"})]})}),a.jsx(hE,{side:"right",children:a.jsxs("div",{className:"grid gap-4 py-6",children:[a.jsxs(cu,{to:"/",className:"flex items-center gap-2 mb-4",children:[a.jsx(wr,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-xl font-bold",children:"HealthKiosk NG"})]}),v0.map(o=>a.jsx(gf,{asChild:!0,children:a.jsx(cu,{to:o.to,className:"text-lg font-medium text-muted-foreground hover:text-foreground",children:o.text})},o.to)),a.jsx("div",{className:"mt-6 border-t pt-6",children:t?a.jsx(Z,{onClick:i,className:"w-full",children:"Logout"}):a.jsxs("div",{className:"grid gap-2",children:[a.jsx(gf,{asChild:!0,children:a.jsx(Z,{onClick:()=>s("/login"),variant:"outline",className:"w-full",children:"Sign In"})}),a.jsx(gf,{asChild:!0,children:a.jsx(Z,{onClick:()=>s("/register"),className:"w-full",children:"Get Started"})})]})})]})})]})})]})})},u4=()=>a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(c4,{}),a.jsx("main",{className:"flex-1",children:a.jsx(Pj,{})})]}),Y=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Y.displayName="Card";const ve=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",t),...e}));ve.displayName="CardHeader";const xe=b.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",t),...e}));xe.displayName="CardTitle";const Ft=b.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Ft.displayName="CardDescription";const Q=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:me("p-6 pt-0",t),...e}));Q.displayName="CardContent";const d4=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",t),...e}));d4.displayName="CardFooter";const h4=()=>{const t=tt();return b.useEffect(()=>{(async()=>{const{data:n,error:r}=await W.auth.getSession();if(r){console.error("Error checking session:",r.message);return}n.session&&t("/dashboard")})()},[t]),a.jsxs("div",{children:[a.jsx("section",{className:"relative bg-gradient-to-r from-primary to-secondary text-white py-20 px-4",children:a.jsxs("div",{className:"container mx-auto text-center max-w-4xl",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Health Kiosk NG  Digital Access to Essential Health Support"}),a.jsx("p",{className:"text-lg md:text-xl mb-8 opacity-95 max-w-3xl mx-auto",children:"A secure digital platform helping individuals access basic health information and services."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(Z,{size:"lg",onClick:()=>t("/register"),className:"bg-white text-primary hover:bg-white/90 font-semibold text-lg py-6 px-8 shadow-lg",children:"Get Started"}),a.jsx(Z,{size:"lg",onClick:()=>t("/login"),className:"bg-secondary hover:bg-secondary/90 text-white font-semibold text-lg py-6 px-8 shadow-lg",children:"Access Health Services"})]})]})}),a.jsx("section",{className:"py-16 px-4 bg-white",children:a.jsxs("div",{className:"container mx-auto max-w-5xl",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-10 text-foreground",children:"What We Do"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[a.jsx(Y,{className:"bg-card border-border hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-8",children:[a.jsx(zu,{className:"h-12 w-12 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold text-foreground text-xl mb-2",children:"Health Information Access"}),a.jsx("p",{className:"text-muted-foreground",children:"Access a wide range of health topics and information to stay informed about your well-being."})]})}),a.jsx(Y,{className:"bg-card border-border hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-8",children:[a.jsx(Yn,{className:"h-12 w-12 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold text-foreground text-xl mb-2",children:"Digital Health Requests"}),a.jsx("p",{className:"text-muted-foreground",children:"Request appointments, prescriptions, and lab tests through our secure digital platform."})]})}),a.jsx(Y,{className:"bg-card border-border hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-8",children:[a.jsx(sw,{className:"h-12 w-12 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold text-foreground text-xl mb-2",children:"Secure Data Handling"}),a.jsx("p",{className:"text-muted-foreground",children:"Your health information is kept secure and private with our robust data protection measures."})]})})]})]})}),a.jsx("section",{className:"bg-muted/40 py-6 px-4",children:a.jsx("div",{className:"container mx-auto max-w-5xl",children:a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-8 gap-y-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yl,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Secure Platform"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sw,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Privacy-Focused"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold",children:"Disclaimer:"}),a.jsx("span",{children:"Not a Substitute for Professional Medical Advice"})]})]})})}),a.jsx("footer",{className:"py-8 px-4 bg-gray-800 text-white",children:a.jsxs("div",{className:"container mx-auto text-center text-sm",children:[a.jsxs("p",{children:[" ",new Date().getFullYear()," Health Kiosk NG. All rights reserved."]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("a",{href:"/privacy-policy",className:"hover:underline mx-2",children:"Privacy Policy"}),a.jsx("a",{href:"/disclaimer",className:"hover:underline mx-2",children:"Health Disclaimer"}),a.jsx("a",{href:"/contact",className:"hover:underline mx-2",children:"Contact Us"})]})]})})]})},ue=b.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ue.displayName="Input";const nh=b.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));nh.displayName="Textarea";var f4="Label",fE=b.forwardRef((t,e)=>a.jsx(ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fE.displayName=f4;var pE=fE;const p4=Fl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=b.forwardRef(({className:t,...e},n)=>a.jsx(pE,{ref:n,className:me(p4(),t),...e}));le.displayName=pE.displayName;const m4=()=>{const t=tt(),{toast:e}=et(),[n,r]=b.useState(1),[s,i]=b.useState({name:"",age:"",symptoms:"",duration:"",severity:""}),o=()=>{const l=s.severity;e({title:"Assessment Complete",description:"Analyzing your symptoms..."}),setTimeout(()=>{t("/chat",{state:{triageData:s,showUrgentCareToast:l==="high"}})},1500)};return a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI Health Assessment"}),a.jsx("p",{className:"text-muted-foreground",children:"Tell us about your symptoms and we'll help you understand what's happening"})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsxs(xe,{children:["Step ",n," of 3"]}),a.jsxs(Ft,{children:[n===1&&"Basic Information",n===2&&"Symptom Details",n===3&&"Severity Assessment"]})]}),a.jsxs(Q,{className:"space-y-6",children:[n===1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"name",children:"Full Name"}),a.jsx(ue,{id:"name",value:s.name,onChange:l=>i({...s,name:l.target.value}),placeholder:"Enter your name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"age",children:"Age"}),a.jsx(ue,{id:"age",type:"number",value:s.age,onChange:l=>i({...s,age:l.target.value}),placeholder:"Enter your age"})]})]}),n===2&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"symptoms",children:"What symptoms are you experiencing?"}),a.jsx(nh,{id:"symptoms",value:s.symptoms,onChange:l=>i({...s,symptoms:l.target.value}),placeholder:"Describe your symptoms in detail...",rows:5})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"duration",children:"How long have you had these symptoms?"}),a.jsx(ue,{id:"duration",value:s.duration,onChange:l=>i({...s,duration:l.target.value}),placeholder:"e.g., 2 days, 1 week"})]})]}),n===3&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(le,{children:"How would you rate the severity?"}),a.jsx("div",{className:"grid gap-3",children:[{value:"low",label:"Mild",desc:"Minor discomfort",icon:vn,color:"border-green-500"},{value:"medium",label:"Moderate",desc:"Noticeable discomfort",icon:Ip,color:"border-yellow-500"},{value:"high",label:"Severe",desc:"Significant pain/concern",icon:Ip,color:"border-red-500"}].map(l=>a.jsx(Y,{className:`cursor-pointer transition-all ${s.severity===l.value?`${l.color} border-2 bg-muted`:"hover:border-primary"}`,onClick:()=>i({...s,severity:l.value}),children:a.jsxs(Q,{className:"flex items-center gap-3 p-4",children:[a.jsx(l.icon,{className:"h-5 w-5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:l.label}),a.jsx("p",{className:"text-sm text-muted-foreground",children:l.desc})]})]})},l.value))})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[n>1&&a.jsx(Z,{variant:"outline",onClick:()=>r(n-1),children:"Back"}),n<3?a.jsxs(Z,{onClick:()=>r(n+1),className:"ml-auto gap-2",children:["Next ",a.jsx(tw,{className:"h-4 w-4"})]}):a.jsxs(Z,{onClick:o,className:"ml-auto gap-2",children:["Complete Assessment ",a.jsx(tw,{className:"h-4 w-4"})]})]})]})]})]})},g4=()=>{var R,K;const t=tt(),e=Yt(),{toast:n}=et(),r=(R=e.state)==null?void 0:R.triageData,s=(K=e.state)==null?void 0:K.showUrgentCareToast,[i,o]=b.useState([{id:"1",text:"Hello! I'm your AI health assistant. I'm here to help you understand your symptoms and connect you with the right care. How are you feeling today? Please describe your symptoms.",sender:"ai",timestamp:new Date}]),[l,c]=b.useState([]),[u,d]=b.useState(""),[p,g]=b.useState(!1),[m,x]=b.useState(!1),[h,y]=b.useState(""),[w,v]=b.useState(null),[_,k]=b.useState(null),E=b.useRef(null);b.useEffect(()=>{s&&n({id:"urgent-care-toast",title:"Urgent Care Recommended",description:"We recommend immediate consultation with a doctor.",variant:"destructive"})},[s,n]),b.useEffect(()=>{var M;(M=E.current)==null||M.scrollIntoView({behavior:"smooth"})},[i]),b.useEffect(()=>{(async()=>{const{data:{session:H}}=await W.auth.getSession();H!=null&&H.user&&k(H.user.id)})()},[]),b.useEffect(()=>{(async()=>{if(r&&_){const{data:H}=await W.from("patients").select("id").eq("user_id",_).single(),{data:D,error:G}=await W.from("consultations").insert({symptoms:r.symptoms,severity:r.severity,status:"pending",patient_id:H==null?void 0:H.id}).select().single();!G&&D&&v(D.id)}})()},[r,_]),b.useEffect(()=>{if(!w)return;const M=W.channel(`chat-${w}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`consultation_id=eq.${w}`},H=>{const D=H.new;if(D.sender_type==="doctor"){const G={id:D.id,text:D.message,sender:"doctor",timestamp:new Date(D.created_at)};o(J=>[...J,G])}}).subscribe();return()=>{W.removeChannel(M)}},[w,W]);const N=async()=>{if(!u.trim()||p)return;const M={id:Date.now().toString(),text:u,sender:"patient",timestamp:new Date};o(G=>[...G,M]);const H=[...l,{role:"user",content:u}];c(H);const D=u;d(""),g(!0),w&&_&&await W.from("chat_messages").insert({consultation_id:w,sender_id:_,sender_type:"patient",message:D});try{console.log("Sending to AI triage:",{message:D});const{data:G,error:J}=await W.functions.invoke("ai-triage",{body:{message:D,conversationHistory:H}});if(console.log("AI triage response:",G,J),J)throw console.error("Supabase function error:",J),J;if(G.error)throw new Error(G.error);const ne={id:(Date.now()+1).toString(),text:G.response,sender:"ai",timestamp:new Date};o(I=>[...I,ne]),c(I=>[...I,{role:"assistant",content:G.response}]),(G.connectToDoctor||G.severity==="high"||D.toLowerCase().includes("doctor")||D.toLowerCase().includes("speak to")||D.toLowerCase().includes("connect me"))&&await T(D,G.severity||"medium")}catch(G){console.error("Error:",G),n({id:"error-toast",title:"Error",description:G instanceof Error?G.message:"Failed to get response. Please try again.",variant:"destructive"});const J={id:(Date.now()+1).toString(),text:"I apologize, I'm having trouble processing your request. Would you like me to connect you to a doctor directly?",sender:"ai",timestamp:new Date};o(ne=>[...ne,J])}finally{g(!1)}},T=async(M,H)=>{if(w)try{const{data:D,error:G}=await W.functions.invoke("ai-doctor-handoff",{body:{consultationId:w,symptoms:M,severity:H}});if(console.log("Doctor handoff response:",D,G),G)throw G;if(D!=null&&D.doctorAssigned){x(!0),y(D.doctorName||"Available");const J={id:(Date.now()+2).toString(),text:`Great news! I've connected you with Dr. ${D.doctorName||"Available"}. They will review your symptoms and join this chat shortly. You can also start a video call when you're ready.`,sender:"ai",timestamp:new Date};o(ne=>[...ne,J]),n({id:"doctor-connected-toast",title:"Doctor Connected",description:`You've been connected to Dr. ${D.doctorName||"Available"}`})}else{const J={id:(Date.now()+2).toString(),text:"I'm currently looking for an available doctor to assist you. Please wait a moment or you can try booking an appointment for a specific time.",sender:"ai",timestamp:new Date};o(ne=>[...ne,J])}}catch(D){console.error("Doctor handoff error:",D)}},O=()=>{n({id:"connecting-doctor-toast",title:"Connecting to doctor...",description:"You will be transferred to a video call shortly."}),setTimeout(()=>{t("/video",{state:{consultationId:w,doctorName:h}})},1500)},F=async()=>{const M={id:Date.now().toString(),text:"I would like to speak with a doctor please.",sender:"patient",timestamp:new Date};o(H=>[...H,M]),g(!0),await T("Patient requested doctor consultation","medium"),g(!1)};return a.jsx("div",{id:"chat-page",className:"min-h-screen bg-muted/40 p-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(Y,{id:"chat-card",className:"h-[80vh] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-primary to-secondary text-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-3",children:m?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsxs("h2",{id:"doctor-name-header",className:"text-lg font-semibold",children:["Dr. ",h]}),a.jsx("p",{id:"doctor-status-header",className:"text-sm opacity-90",children:"Connected"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsx("h2",{id:"ai-assistant-header",className:"text-lg font-semibold",children:"AI Health Assistant"}),a.jsx("p",{id:"ai-assistant-status",className:"text-sm opacity-90",children:"Online"})]})]})}),a.jsxs("div",{className:"flex gap-2",children:[!m&&a.jsxs(Z,{id:"request-doctor-button",size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/30 hover:bg-white/20",onClick:F,children:[a.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Request Doctor"]}),m&&a.jsxs(Z,{id:"video-call-button",size:"sm",variant:"outline",className:"bg-white text-primary hover:bg-white/90",onClick:O,children:[a.jsx(Go,{className:"h-4 w-4 mr-2"}),"Video Call"]})]})]})}),a.jsxs(Q,{id:"message-list",className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(M=>a.jsx("div",{id:`message-container-${M.id}`,className:`flex ${M.sender==="patient"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex gap-3 max-w-[80%] ${M.sender==="patient"?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{id:`message-avatar-${M.id}`,className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${M.sender==="patient"?"bg-primary":M.sender==="doctor"?"bg-secondary":"bg-muted"}`,children:M.sender==="patient"?a.jsx(kS,{className:"h-4 w-4 text-white"}):M.sender==="doctor"?a.jsx(wr,{className:"h-4 w-4 text-white"}):a.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{id:`message-content-${M.id}`,className:`rounded-lg p-3 ${M.sender==="patient"?"bg-primary text-white":M.sender==="doctor"?"bg-secondary text-white":"bg-muted"}`,children:[a.jsx("p",{id:`message-text-${M.id}`,className:"text-sm whitespace-pre-wrap",children:M.text}),a.jsx("p",{id:`message-timestamp-${M.id}`,className:`text-xs mt-1 ${M.sender==="patient"||M.sender==="doctor"?"text-white/70":"text-muted-foreground"}`,children:M.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},M.id)),p&&a.jsx("div",{id:"loading-indicator",className:"flex justify-start",children:a.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:a.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx("div",{className:"bg-muted rounded-lg p-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),a.jsx("div",{ref:E})]}),a.jsx("div",{id:"chat-input-container",className:"p-4 border-t",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ue,{id:"chat-input",value:u,onChange:M=>d(M.target.value),onKeyPress:M=>M.key==="Enter"&&N(),placeholder:m?"Message the doctor...":"Describe your symptoms...",disabled:p}),a.jsx(Z,{id:"send-button",onClick:N,disabled:p,children:a.jsx(_S,{className:"h-4 w-4"})})]})})]})})})};function y0(t,[e,n]){return Math.min(n,Math.max(e,t))}var v4=b.createContext(void 0);function y4(t){const e=b.useContext(v4);return t||e||"ltr"}function w4(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var x4=[" ","Enter","ArrowUp","ArrowDown"],b4=[" ","Enter"],Ti="Select",[rh,sh,_4]=V1(Ti),[ma,u8]=Fi(Ti,[_4,Ud]),ih=Ud(),[S4,zs]=ma(Ti),[j4,k4]=ma(Ti),mE=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:p,disabled:g,required:m,form:x}=t,h=ih(e),[y,w]=b.useState(null),[v,_]=b.useState(null),[k,E]=b.useState(!1),N=y4(u),[T,O]=Bu({prop:r,defaultProp:s??!1,onChange:i,caller:Ti}),[F,R]=Bu({prop:o,defaultProp:l,onChange:c,caller:Ti}),K=b.useRef(null),M=y?x||!!y.closest("form"):!0,[H,D]=b.useState(new Set),G=Array.from(H).map(J=>J.props.value).join(";");return a.jsx(DR,{...h,children:a.jsxs(S4,{required:m,scope:e,trigger:y,onTriggerChange:w,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:ko(),value:F,onValueChange:R,open:T,onOpenChange:O,dir:N,triggerPointerDownPosRef:K,disabled:g,children:[a.jsx(rh.Provider,{scope:e,children:a.jsx(j4,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(J=>{D(ne=>new Set(ne).add(J))},[]),onNativeOptionRemove:b.useCallback(J=>{D(ne=>{const I=new Set(ne);return I.delete(J),I})},[]),children:n})}),M?a.jsxs(FE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:p,value:F,onChange:J=>R(J.target.value),disabled:g,form:x,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(H)]},G):null]})})};mE.displayName=Ti;var gE="SelectTrigger",vE=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ih(n),o=zs(gE,n),l=o.disabled||r,c=Ve(e,o.onTriggerChange),u=sh(n),d=b.useRef("touch"),[p,g,m]=BE(h=>{const y=u().filter(_=>!_.disabled),w=y.find(_=>_.value===o.value),v=zE(y,h,w);v!==void 0&&o.onValueChange(v.value)}),x=h=>{l||(o.onOpenChange(!0),m()),h&&(o.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return a.jsx(rj,{asChild:!0,...i,children:a.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UE(o.value)?"":void 0,...s,ref:c,onClick:Se(s.onClick,h=>{h.currentTarget.focus(),d.current!=="mouse"&&x(h)}),onPointerDown:Se(s.onPointerDown,h=>{d.current=h.pointerType;const y=h.target;y.hasPointerCapture(h.pointerId)&&y.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:Se(s.onKeyDown,h=>{const y=p.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&g(h.key),!(y&&h.key===" ")&&x4.includes(h.key)&&(x(),h.preventDefault())})})})});vE.displayName=gE;var yE="SelectValue",wE=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=zs(yE,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,p=Ve(e,c.onValueNodeChange);return ot(()=>{u(d)},[u,d]),a.jsx(ke.span,{...l,ref:p,style:{pointerEvents:"none"},children:UE(c.value)?a.jsx(a.Fragment,{children:o}):i})});wE.displayName=yE;var E4="SelectIcon",xE=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});xE.displayName=E4;var C4="SelectPortal",bE=t=>a.jsx(Rd,{asChild:!0,...t});bE.displayName=C4;var Oi="SelectContent",_E=b.forwardRef((t,e)=>{const n=zs(Oi,t.__scopeSelect),[r,s]=b.useState();if(ot(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$i.createPortal(a.jsx(SE,{scope:t.__scopeSelect,children:a.jsx(rh.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(jE,{...t,ref:e})});_E.displayName=Oi;var Ln=10,[SE,Vs]=ma(Oi),N4="SelectContentImpl",P4=qo("SelectContent.RemoveScroll"),jE=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:x,hideWhenDetached:h,avoidCollisions:y,...w}=t,v=zs(Oi,n),[_,k]=b.useState(null),[E,N]=b.useState(null),T=Ve(e,C=>k(C)),[O,F]=b.useState(null),[R,K]=b.useState(null),M=sh(n),[H,D]=b.useState(!1),G=b.useRef(!1);b.useEffect(()=>{if(_)return Hk(_)},[_]),Lk();const J=b.useCallback(C=>{const[A,...$]=M().map(te=>te.ref.current),[L]=$.slice(-1),V=document.activeElement;for(const te of C)if(te===V||(te==null||te.scrollIntoView({block:"nearest"}),te===A&&E&&(E.scrollTop=0),te===L&&E&&(E.scrollTop=E.scrollHeight),te==null||te.focus(),document.activeElement!==V))return},[M,E]),ne=b.useCallback(()=>J([O,_]),[J,O,_]);b.useEffect(()=>{H&&ne()},[H,ne]);const{onOpenChange:I,triggerPointerDownPosRef:U}=v;b.useEffect(()=>{if(_){let C={x:0,y:0};const A=L=>{var V,te;C={x:Math.abs(Math.round(L.pageX)-(((V=U.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(L.pageY)-(((te=U.current)==null?void 0:te.y)??0))}},$=L=>{C.x<=10&&C.y<=10?L.preventDefault():_.contains(L.target)||I(!1),document.removeEventListener("pointermove",A),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",A),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",$,{capture:!0})}}},[_,I,U]),b.useEffect(()=>{const C=()=>I(!1);return window.addEventListener("blur",C),window.addEventListener("resize",C),()=>{window.removeEventListener("blur",C),window.removeEventListener("resize",C)}},[I]);const[ee,he]=BE(C=>{const A=M().filter(V=>!V.disabled),$=A.find(V=>V.ref.current===document.activeElement),L=zE(A,C,$);L&&setTimeout(()=>L.ref.current.focus())}),ie=b.useCallback((C,A,$)=>{const L=!G.current&&!$;(v.value!==void 0&&v.value===A||L)&&(F(C),L&&(G.current=!0))},[v.value]),f=b.useCallback(()=>_==null?void 0:_.focus(),[_]),j=b.useCallback((C,A,$)=>{const L=!G.current&&!$;(v.value!==void 0&&v.value===A||L)&&K(C)},[v.value]),S=r==="popper"?um:kE,P=S===um?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:g,collisionPadding:m,sticky:x,hideWhenDetached:h,avoidCollisions:y}:{};return a.jsx(SE,{scope:n,content:_,viewport:E,onViewportChange:N,itemRefCallback:ie,selectedItem:O,onItemLeave:f,itemTextRefCallback:j,focusSelectedItem:ne,selectedItemText:R,position:r,isPositioned:H,searchRef:ee,children:a.jsx(fv,{as:P4,allowPinchZoom:!0,children:a.jsx(hv,{asChild:!0,trapped:v.open,onMountAutoFocus:C=>{C.preventDefault()},onUnmountAutoFocus:Se(s,C=>{var A;(A=v.trigger)==null||A.focus({preventScroll:!0}),C.preventDefault()}),children:a.jsx(Ll,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:C=>C.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(S,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:C=>C.preventDefault(),...w,...P,onPlaced:()=>D(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Se(w.onKeyDown,C=>{const A=C.ctrlKey||C.altKey||C.metaKey;if(C.key==="Tab"&&C.preventDefault(),!A&&C.key.length===1&&he(C.key),["ArrowUp","ArrowDown","Home","End"].includes(C.key)){let L=M().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(C.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(C.key)){const V=C.target,te=L.indexOf(V);L=L.slice(te+1)}setTimeout(()=>J(L)),C.preventDefault()}})})})})})})});jE.displayName=N4;var T4="SelectItemAlignedPosition",kE=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=zs(Oi,n),o=Vs(Oi,n),[l,c]=b.useState(null),[u,d]=b.useState(null),p=Ve(e,T=>d(T)),g=sh(n),m=b.useRef(!1),x=b.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:w,focusSelectedItem:v}=o,_=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&h&&y&&w){const T=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),F=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const V=R.left-O.left,te=F.left-V,ce=T.left-te,qe=T.width+ce,Tt=Math.max(qe,O.width),zt=window.innerWidth-Ln,De=y0(te,[Ln,Math.max(Ln,zt-Tt)]);l.style.minWidth=qe+"px",l.style.left=De+"px"}else{const V=O.right-R.right,te=window.innerWidth-F.right-V,ce=window.innerWidth-T.right-te,qe=T.width+ce,Tt=Math.max(qe,O.width),zt=window.innerWidth-Ln,De=y0(te,[Ln,Math.max(Ln,zt-Tt)]);l.style.minWidth=qe+"px",l.style.right=De+"px"}const K=g(),M=window.innerHeight-Ln*2,H=h.scrollHeight,D=window.getComputedStyle(u),G=parseInt(D.borderTopWidth,10),J=parseInt(D.paddingTop,10),ne=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),U=G+J+H+I+ne,ee=Math.min(y.offsetHeight*5,U),he=window.getComputedStyle(h),ie=parseInt(he.paddingTop,10),f=parseInt(he.paddingBottom,10),j=T.top+T.height/2-Ln,S=M-j,P=y.offsetHeight/2,C=y.offsetTop+P,A=G+J+C,$=U-A;if(A<=j){const V=K.length>0&&y===K[K.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-h.offsetTop-h.offsetHeight,ce=Math.max(S,P+(V?f:0)+te+ne),qe=A+ce;l.style.height=qe+"px"}else{const V=K.length>0&&y===K[0].ref.current;l.style.top="0px";const ce=Math.max(j,G+h.offsetTop+(V?ie:0)+P)+$;l.style.height=ce+"px",h.scrollTop=A-j+h.offsetTop}l.style.margin=`${Ln}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,i.trigger,i.valueNode,l,u,h,y,w,i.dir,r]);ot(()=>_(),[_]);const[k,E]=b.useState();ot(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=b.useCallback(T=>{T&&x.current===!0&&(_(),v==null||v(),x.current=!1)},[_,v]);return a.jsx(A4,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(ke.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kE.displayName=T4;var O4="SelectPopperPosition",um=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ln,...i}=t,o=ih(n);return a.jsx(sj,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});um.displayName=O4;var[A4,yv]=ma(Oi,{}),dm="SelectViewport",EE=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Vs(dm,n),o=yv(dm,n),l=Ve(e,i.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(rh.Slot,{scope:n,children:a.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-Ln*2,h=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),w=Math.max(h,y);if(w<x){const v=w+m,_=Math.min(x,v),k=v-_;p.style.height=_+"px",p.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EE.displayName=dm;var CE="SelectGroup",[R4,M4]=ma(CE),I4=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ko();return a.jsx(R4,{scope:n,id:s,children:a.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});I4.displayName=CE;var NE="SelectLabel",PE=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=M4(NE,n);return a.jsx(ke.div,{id:s.id,...r,ref:e})});PE.displayName=NE;var od="SelectItem",[D4,TE]=ma(od),OE=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=zs(od,n),c=Vs(od,n),u=l.value===r,[d,p]=b.useState(i??""),[g,m]=b.useState(!1),x=Ve(e,v=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,v,r,s)}),h=ko(),y=b.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(D4,{scope:n,value:r,disabled:s,textId:h,isSelected:u,onItemTextChange:b.useCallback(v=>{p(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(rh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ke.div,{role:"option","aria-labelledby":h,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Se(o.onFocus,()=>m(!0)),onBlur:Se(o.onBlur,()=>m(!1)),onClick:Se(o.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Se(o.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Se(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Se(o.onPointerMove,v=>{var _;y.current=v.pointerType,s?(_=c.onItemLeave)==null||_.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(o.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Se(o.onKeyDown,v=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(b4.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});OE.displayName=od;var Da="SelectItemText",AE=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=zs(Da,n),l=Vs(Da,n),c=TE(Da,n),u=k4(Da,n),[d,p]=b.useState(null),g=Ve(e,w=>p(w),c.onItemTextChange,w=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=u;return ot(()=>(h(x),()=>y(x)),[h,y,x]),a.jsxs(a.Fragment,{children:[a.jsx(ke.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$i.createPortal(i.children,o.valueNode):null]})});AE.displayName=Da;var RE="SelectItemIndicator",ME=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TE(RE,n).isSelected?a.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});ME.displayName=RE;var hm="SelectScrollUpButton",IE=b.forwardRef((t,e)=>{const n=Vs(hm,t.__scopeSelect),r=yv(hm,t.__scopeSelect),[s,i]=b.useState(!1),o=Ve(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(LE,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});IE.displayName=hm;var fm="SelectScrollDownButton",DE=b.forwardRef((t,e)=>{const n=Vs(fm,t.__scopeSelect),r=yv(fm,t.__scopeSelect),[s,i]=b.useState(!1),o=Ve(e,r.onScrollButtonChange);return ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(LE,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});DE.displayName=fm;var LE=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Vs("SelectScrollButton",n),o=b.useRef(null),l=sh(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),ot(()=>{var d;const u=l().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Se(s.onPointerLeave,()=>{c()})})}),L4="SelectSeparator",$E=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});$E.displayName=L4;var pm="SelectArrow",$4=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ih(n),i=zs(pm,n),o=Vs(pm,n);return i.open&&o.position==="popper"?a.jsx(ij,{...s,...r,ref:e}):null});$4.displayName=pm;var F4="SelectBubbleInput",FE=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=Ve(r,s),o=w4(e);return b.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const p=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(p)}},[o,e]),a.jsx(ke.select,{...n,style:{...G1,...n.style},ref:i,defaultValue:e})});FE.displayName=F4;function UE(t){return t===""||t===void 0}function BE(t){const e=Nn(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function zE(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=U4(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function U4(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var B4=mE,VE=vE,z4=wE,V4=xE,W4=bE,WE=_E,H4=EE,HE=PE,qE=OE,q4=AE,K4=ME,KE=IE,GE=DE,JE=$E;const Tr=B4,Or=z4,fr=b.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(VE,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(V4,{asChild:!0,children:a.jsx(yS,{className:"h-4 w-4 opacity-50"})})]}));fr.displayName=VE.displayName;const QE=b.forwardRef(({className:t,...e},n)=>a.jsx(KE,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(UO,{className:"h-4 w-4"})}));QE.displayName=KE.displayName;const YE=b.forwardRef(({className:t,...e},n)=>a.jsx(GE,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(yS,{className:"h-4 w-4"})}));YE.displayName=GE.displayName;const pr=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(W4,{children:a.jsxs(WE,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(QE,{}),a.jsx(H4,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(YE,{})]})}));pr.displayName=WE.displayName;const G4=b.forwardRef(({className:t,...e},n)=>a.jsx(HE,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));G4.displayName=HE.displayName;const lt=b.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(qE,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(K4,{children:a.jsx(vS,{className:"h-4 w-4"})})}),a.jsx(q4,{children:e})]}));lt.displayName=qE.displayName;const J4=b.forwardRef(({className:t,...e},n)=>a.jsx(JE,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));J4.displayName=JE.displayName;const Q4=()=>{const{toast:t}=et(),[e,n]=b.useState([]),[r,s]=b.useState([]),[i,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(""),[p,g]=b.useState(""),[m,x]=b.useState(!1),[h,y]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:_,error:k}=await W.rpc("get_doctors");if(k)throw k;Array.isArray(_)&&n(_);const{data:{user:E}}=await W.auth.getUser();if(!E)return;const{data:N,error:T}=await W.from("appointments").select(`
            *,
            doctor:doctors(full_name)
          `).eq("patient_id",E.id).order("appointment_date",{ascending:!1});if(T)throw T;s(N||[])}catch(_){t({title:"Error fetching data",description:_.message,variant:"destructive"})}finally{y(!1)}})()},[t]);const w=async v=>{v.preventDefault(),x(!0);const{data:{user:_}}=await W.auth.getUser();if(!_){t({title:"You must be logged in to book an appointment.",variant:"destructive"}),x(!1);return}try{const{data:k,error:E}=await W.from("appointments").insert({doctor_id:i,patient_id:_.id,appointment_date:l,appointment_time:u,reason:p,status:"scheduled"}).select(`
        *,
        doctor:doctors(full_name)
      `).single();if(E)throw E;t({title:"Appointment Booked!",description:"Your appointment has been successfully scheduled."}),s([k,...r]),o(""),c(""),d(""),g("")}catch(k){t({title:"Booking Failed",description:k.message,variant:"destructive"})}finally{x(!1)}};return a.jsxs("div",{id:"appointments-page",className:"p-8",children:[a.jsx("h1",{id:"appointments-title",className:"text-3xl font-bold mb-8",children:"Appointments"}),a.jsxs(Y,{id:"schedule-appointment-card",className:"mb-8",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Schedule an Appointment"})}),a.jsx(Q,{children:a.jsxs("form",{id:"appointment-booking-form",onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"doctor-select",children:"Select Doctor"}),a.jsxs(Tr,{value:i,onValueChange:o,children:[a.jsx(fr,{id:"doctor-select",children:a.jsx(Or,{placeholder:"Choose a doctor"})}),a.jsx(pr,{children:e.map(v=>a.jsx(lt,{value:v.id,id:`doctor-option-${v.id}`,children:v.full_name},v.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"appointment-date",children:"Date"}),a.jsx(ue,{id:"appointment-date",type:"date",value:l,onChange:v=>c(v.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"appointment-time",children:"Time"}),a.jsx(ue,{id:"appointment-time",type:"time",value:u,onChange:v=>d(v.target.value),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"appointment-reason",children:"Reason for Visit"}),a.jsx(nh,{id:"appointment-reason",placeholder:"Briefly describe the reason for your appointment",value:p,onChange:v=>g(v.target.value),required:!0})]}),a.jsx(Z,{id:"book-appointment-button",type:"submit",className:"w-full",disabled:m,children:m?"Booking...":"Book Appointment"})]})})]}),a.jsxs(Y,{id:"appointment-history-card",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Your Appointments"})}),a.jsx(Q,{children:h?a.jsx("p",{id:"loading-appointments-message",children:"Loading appointments..."}):r.length>0?a.jsx("ul",{id:"appointment-list",className:"space-y-4",children:r.map(v=>a.jsxs("li",{id:`appointment-item-${v.id}`,className:"p-4 border rounded-lg flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:["Dr. ",v.doctor.full_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(v.appointment_date).toLocaleDateString()," at ",v.appointment_time]}),a.jsxs("p",{className:"text-sm mt-1",children:["Reason: ",v.reason]})]}),a.jsx("span",{id:`appointment-status-${v.id}`,className:`px-2 py-1 text-xs font-semibold rounded-full ${v.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.status})]},v.id))}):a.jsx("p",{id:"no-appointments-message",className:"text-muted-foreground",children:"You have no past or upcoming appointments."})})]})]})},XE=b.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",t),...e})}));XE.displayName="Table";const ZE=b.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:me("[&_tr]:border-b",t),...e}));ZE.displayName="TableHeader";const eC=b.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",t),...e}));eC.displayName="TableBody";const Y4=b.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Y4.displayName="TableFooter";const mm=b.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));mm.displayName="TableRow";const ei=b.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ei.displayName="TableHead";const ti=b.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ti.displayName="TableCell";const X4=b.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",t),...e}));X4.displayName="TableCaption";const Z4=Fl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yt({className:t,variant:e,...n}){return a.jsx("div",{className:me(Z4({variant:e}),t),...n})}const eF=()=>{const[t,e]=b.useState(""),[n,r]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(null),c=tt(),{toast:u}=et();b.useEffect(()=>{d()},[]);const d=async()=>{const{data:{user:x}}=await W.auth.getUser();if(!x){c("/login");return}const{data:h}=await W.from("user_roles").select("role").eq("user_id",x.id).single();if(!h||h.role!=="admin"&&h.role!=="doctor"){u({title:"Access Denied",description:"You don't have permission to view this page.",variant:"destructive"}),c("/");return}l(h.role),p(x.id,h.role)},p=async(x,h)=>{i(!0);try{let y=W.from("patients").select("*");if(h==="doctor"){const{data:_}=await W.from("consultations").select("patient_id").eq("doctor_id",x);if(_){const k=_.map(E=>E.patient_id);y=y.in("id",k)}}const{data:w,error:v}=await y;if(v)throw v;r(w||[])}catch(y){u({title:"Error",description:y.message,variant:"destructive"})}finally{i(!1)}},g=x=>{switch(x){case"Active":return"bg-green-500/10 text-green-500 border-green-500/20";case"Follow-up":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}};if(s)return a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("p",{children:"Loading patients..."})});const m=n.filter(x=>{var h;return(h=x.full_name)==null?void 0:h.toLowerCase().includes(t.toLowerCase())});return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Patient Management"}),a.jsx("p",{className:"text-muted-foreground",children:o==="doctor"?"Your assigned patients":"All registered patients"})]})}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx("div",{className:"flex items-center justify-between gap-4",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Lp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ue,{placeholder:"Search patients by name...",value:t,onChange:x=>e(x.target.value),className:"pl-10"})]})})}),a.jsx(Q,{children:m.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ip,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No patients found"})]}):a.jsxs(XE,{children:[a.jsx(ZE,{children:a.jsxs(mm,{children:[a.jsx(ei,{children:"Name"}),a.jsx(ei,{children:"Age"}),a.jsx(ei,{children:"Phone"}),a.jsx(ei,{children:"Location"}),a.jsx(ei,{children:"Status"}),a.jsx(ei,{children:"Actions"})]})}),a.jsx(eC,{children:m.map(x=>a.jsxs(mm,{children:[a.jsx(ti,{className:"font-medium",children:x.full_name}),a.jsx(ti,{children:x.age||"N/A"}),a.jsx(ti,{children:x.phone}),a.jsx(ti,{children:x.location||"N/A"}),a.jsx(ti,{children:a.jsx(yt,{variant:"outline",className:g(x.status),children:x.status})}),a.jsx(ti,{children:a.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c("/records"),children:"View Records"})})]},x.id))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Total Patients"}),a.jsx(Ft,{children:"Registered in system"})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-4xl font-bold",children:"1,234"})})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Active Cases"}),a.jsx(Ft,{children:"Currently under treatment"})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-4xl font-bold",children:"89"})})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Follow-ups"}),a.jsx(Ft,{children:"Scheduled this week"})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-4xl font-bold",children:"24"})})]})]})]})},tF=()=>{const t=tt(),e=[{id:1,time:"09:00 AM",patient:"Chukwuemeka Obi",type:"Video",status:"upcoming"},{id:2,time:"10:30 AM",patient:"Amina Mohammed",type:"Chat",status:"in-progress"},{id:3,time:"02:00 PM",patient:"Tunde Adeyemi",type:"Video",status:"upcoming"}],n=[{id:1,name:"Blessing Okoro",lastSeen:"2 hours ago",condition:"Migraine"},{id:2,name:"Chioma Nwankwo",lastSeen:"1 day ago",condition:"Hypertension"},{id:3,name:"Ibrahim Musa",lastSeen:"2 days ago",condition:"Diabetes"}],r=[{label:"Today's Patients",value:"12",icon:Hu,color:"text-blue-500"},{label:"Pending Consults",value:"5",icon:As,color:"text-yellow-500"},{label:"Completed Today",value:"7",icon:Dd,color:"text-green-500"},{label:"This Week",value:"45",icon:XO,color:"text-purple-500"}];return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Doctor Portal"}),a.jsx("p",{className:"text-muted-foreground",children:"Welcome back, Dr. Adebayo"})]}),a.jsx(Z,{onClick:()=>t("/patients"),children:"View All Patients"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((s,i)=>a.jsx(Y,{children:a.jsx(Q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:s.value})]}),a.jsx(s.icon,{className:`h-8 w-8 ${s.color}`})]})})},i))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Today's Schedule"}),a.jsx(Ft,{children:"Your appointments for today"})]}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:e.map(s=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center w-16 h-16 bg-primary/10 rounded-lg",children:[a.jsx(As,{className:"h-5 w-5 text-primary mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:s.time.split(" ")[0]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:s.patient}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.type==="Video"?a.jsx(Go,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Vu,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.type," Consultation"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(yt,{variant:s.status==="in-progress"?"default":"outline",children:s.status==="in-progress"?"In Progress":"Upcoming"}),a.jsx(Z,{size:"sm",onClick:()=>t(s.type==="Video"?"/video":"/chat"),children:"Join"})]})]},s.id))})})]}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Quick Actions"})}),a.jsx(Q,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(Z,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>t("/patients"),children:[a.jsx(Hu,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Patients"})]}),a.jsxs(Z,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>t("/appointments"),children:[a.jsx(vl,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Schedule"})]}),a.jsxs(Z,{variant:"outline",className:"h-24 flex-col gap-2",onClick:()=>t("/chat"),children:[a.jsx(Vu,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Messages"})]}),a.jsxs(Z,{variant:"outline",className:"h-24 flex-col gap-2",children:[a.jsx(Yn,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Prescriptions"})]})]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Recent Patients"})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:n.map(s=>a.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.condition}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.lastSeen})]}),a.jsx(Z,{size:"sm",variant:"ghost",children:"View"})]},s.id))})})]}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Pending Reviews"})}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Lab Results"}),a.jsx(yt,{variant:"secondary",children:"3"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Prescriptions"}),a.jsx(yt,{variant:"secondary",children:"5"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Follow-ups"}),a.jsx(yt,{variant:"secondary",children:"2"})]})]})})]})]})]})]})},nF=()=>a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Vendor Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage prescriptions and orders"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Orders"}),a.jsx("h3",{className:"text-2xl font-bold",children:"12"})]}),a.jsx(As,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready for Pickup"}),a.jsx("h3",{className:"text-2xl font-bold",children:"5"})]}),a.jsx(Dp,{className:"h-8 w-8 text-secondary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Out for Delivery"}),a.jsx("h3",{className:"text-2xl font-bold",children:"8"})]}),a.jsx(jS,{className:"h-8 w-8 text-secondary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Revenue"}),a.jsx("h3",{className:"text-2xl font-bold",children:"45,000"})]}),a.jsx(zO,{className:"h-8 w-8 text-primary"})]})})})]}),a.jsxs(Y,{className:"mb-8",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Assigned Prescriptions"})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold",children:["Order #",1e3+t]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Patient: John Doe"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Items: Paracetamol, Antibiotics"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold",children:"5,500"}),a.jsx(yt,{variant:"outline",children:"Pending"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{size:"sm",children:"Confirm Available"}),a.jsx(Z,{size:"sm",variant:"outline",children:"Mark Ready"})]})]})]},t))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(Dp,{className:"h-12 w-12 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Manage Inventory"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and update stock"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(vn,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Order History"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View completed orders"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(SS,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage profile"})]})})]})]})}),rF=()=>a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Delivery Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage deliveries and pickups"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Pickups"}),a.jsx("h3",{className:"text-2xl font-bold",children:"6"})]}),a.jsx(Dp,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Deliveries"}),a.jsx("h3",{className:"text-2xl font-bold",children:"3"})]}),a.jsx(Ko,{className:"h-8 w-8 text-secondary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Today"}),a.jsx("h3",{className:"text-2xl font-bold",children:"15"})]}),a.jsx(vn,{className:"h-8 w-8 text-primary"})]})})}),a.jsx(Y,{children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Earnings"}),a.jsx("h3",{className:"text-2xl font-bold",children:"12,500"})]}),a.jsx(As,{className:"h-8 w-8 text-secondary"})]})})})]}),a.jsxs(Y,{className:"mb-8",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Available Pickups"})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold",children:["Order #",2e3+t]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[a.jsx(Ja,{className:"h-4 w-4"}),a.jsx("span",{children:"Pickup: MedStore Pharmacy, Ikeja"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Ja,{className:"h-4 w-4"}),a.jsx("span",{children:"Deliver to: 15 Allen Avenue, Ikeja"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold",children:"800"}),a.jsx(yt,{variant:"outline",children:"Ready"})]}),a.jsx(Z,{size:"sm",children:"Accept Job"})]})]},t))})})]}),a.jsxs(Y,{className:"mb-8",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Active Deliveries"})}),a.jsx(Q,{children:a.jsx("div",{className:"space-y-4",children:[1,2].map(t=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-secondary/10",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold",children:["Order #",3e3+t]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[a.jsx(Ja,{className:"h-4 w-4"}),a.jsx("span",{children:"Delivering to: 22 Awolowo Road, Ikoyi"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Distance: 3.5 km"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(yt,{children:"In Transit"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Z,{size:"sm",variant:"outline",children:"Navigate"}),a.jsx(Z,{size:"sm",children:"Mark Delivered"})]})]})]},t))})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(vn,{className:"h-12 w-12 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Delivery History"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View past deliveries"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(Ko,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Navigation"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Open maps"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(SS,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage profile"})]})})]})]})}),sF=()=>{const t=tt();return a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"Kiosk Partner Dashboard"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Assist patients with healthcare access"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(Y,{children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(As,{className:"h-10 w-10 text-primary mx-auto mb-2"}),a.jsx("h3",{className:"text-2xl font-bold",children:"24"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Patients Today"})]})}),a.jsx(Y,{children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(Go,{className:"h-10 w-10 text-secondary mx-auto mb-2"}),a.jsx("h3",{className:"text-2xl font-bold",children:"12"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Consultations"})]})}),a.jsx(Y,{children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(yl,{className:"h-10 w-10 text-primary mx-auto mb-2"}),a.jsx("h3",{className:"text-2xl font-bold",children:"8"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Insurance Enrolled"})]})}),a.jsx(Y,{children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(Yn,{className:"h-10 w-10 text-secondary mx-auto mb-2"}),a.jsx("h3",{className:"text-2xl font-bold",children:"156"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Records"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(eA,{className:"h-16 w-16 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Quick Registration"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Register new patient"}),a.jsx(Z,{size:"lg",className:"w-full",onClick:()=>t("/register"),children:"Register Patient"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(Dd,{className:"h-16 w-16 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Record Vitals"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"BP, Temp, SpO"}),a.jsx(Z,{size:"lg",className:"w-full",variant:"secondary",onClick:()=>t("/vitals"),children:"Record Vitals"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(Go,{className:"h-16 w-16 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Start Consultation"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect to doctor"}),a.jsx(Z,{size:"lg",className:"w-full",onClick:()=>t("/triage"),children:"Start Now"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(vl,{className:"h-16 w-16 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Book Doctor"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Schedule appointment"}),a.jsx(Z,{size:"lg",className:"w-full",variant:"secondary",onClick:()=>t("/appointments"),children:"Book Appointment"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(wS,{className:"h-16 w-16 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Insurance Payments"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Micro-contributions"}),a.jsx(Z,{size:"lg",className:"w-full",onClick:()=>t("/insurance"),children:"Manage Insurance"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-all border-2 hover:border-primary",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(Yn,{className:"h-16 w-16 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Patient History"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"View medical records"}),a.jsx(Z,{size:"lg",className:"w-full",variant:"secondary",onClick:()=>t("/records"),children:"View Records"})]})})]})]})})},iF=()=>{const t=[{icon:zu,title:"Preventive Health",color:"text-primary",articles:12},{icon:nw,title:"Mental Health",color:"text-secondary",articles:8},{icon:Dd,title:"Chronic Illness",color:"text-primary",articles:15},{icon:yl,title:"Wellness Tips",color:"text-secondary",articles:20},{icon:bS,title:"Medication Guide",color:"text-primary",articles:10},{icon:Hu,title:"Community Health",color:"text-secondary",articles:6}],e=[{title:"Understanding Hypertension",category:"Chronic Illness",excerpt:"Learn about blood pressure management and lifestyle changes...",readTime:"5 min read"},{title:"Mental Health Awareness",category:"Mental Health",excerpt:"Breaking the stigma around mental health in Nigeria...",readTime:"7 min read"},{title:"Diabetes Prevention",category:"Preventive Health",excerpt:"Simple steps to reduce your risk of type 2 diabetes...",readTime:"6 min read"},{title:"Proper Medication Use",category:"Medication Guide",excerpt:"How to safely take and store your medications...",readTime:"4 min read"}];return a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"Health Education Hub"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Learn about health, wellness, and disease prevention"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-12",children:t.map((n,r)=>{const s=n.icon;return a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-6 text-center",children:[a.jsx(s,{className:`h-12 w-12 ${n.color} mx-auto mb-3`}),a.jsx("h3",{className:"font-semibold text-sm mb-1",children:n.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.articles," articles"]})]})},r)})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Featured Articles"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((n,r)=>a.jsxs(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[a.jsxs(ve,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(yt,{variant:"outline",children:n.category}),a.jsx("span",{className:"text-xs text-muted-foreground",children:n.readTime})]}),a.jsx(xe,{className:"text-xl",children:n.title})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-muted-foreground",children:n.excerpt})})]},r))})]}),a.jsx(Y,{className:"bg-gradient-to-r from-primary to-secondary text-white",children:a.jsxs(Q,{className:"p-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Important Health Messages"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(yl,{className:"h-6 w-6 flex-shrink-0 mt-1"}),a.jsx("span",{children:"Regular health checkups can prevent serious illnesses"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(nw,{className:"h-6 w-6 flex-shrink-0 mt-1"}),a.jsx("span",{children:"Mental health is just as important as physical health"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(zu,{className:"h-6 w-6 flex-shrink-0 mt-1"}),a.jsx("span",{children:"A healthy lifestyle includes balanced diet and exercise"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(Hu,{className:"h-6 w-6 flex-shrink-0 mt-1"}),a.jsx("span",{children:"Community support improves health outcomes"})]})]})]})})]})})},oF=()=>a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"Digital Health Financing"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Affordable healthcare coverage for everyone"})]}),a.jsx(Y,{className:"mb-8 bg-gradient-to-r from-primary to-secondary text-white",children:a.jsx(Q,{className:"p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Coverage Status"}),a.jsx("p",{className:"opacity-90",children:"Not enrolled in any health plan"})]}),a.jsx(yl,{className:"h-16 w-16 opacity-80"})]})})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Micro-Insurance Plans"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Y,{className:"border-2 hover:border-primary transition-colors",children:[a.jsx(ve,{children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(xe,{children:"Weekly Plan"}),a.jsx(yt,{children:"Popular"})]})}),a.jsxs(Q,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold",children:"500"}),a.jsx("span",{className:"text-muted-foreground",children:"/week"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Affordable weekly contributions"})]}),a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"Up to 3 doctor consultations/week"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"50% discount on prescriptions"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"Basic lab tests covered"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"Emergency support"})]})]}),a.jsx(Z,{className:"w-full",size:"lg",children:"Enroll Now"})]})]}),a.jsxs(Y,{className:"border-2 hover:border-secondary transition-colors",children:[a.jsx(ve,{children:a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(xe,{children:"Monthly Plan"}),a.jsx(yt,{variant:"secondary",children:"Best Value"})]})}),a.jsxs(Q,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("span",{className:"text-4xl font-bold",children:"1,800"}),a.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Save 10% with monthly payment"})]}),a.jsxs("ul",{className:"space-y-3 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"Unlimited consultations"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"70% discount on prescriptions"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"All lab tests covered"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(vn,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:"24/7 emergency support"})]})]}),a.jsx(Z,{className:"w-full",variant:"secondary",size:"lg",children:"Enroll Now"})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Link Existing Coverage"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(rw,{className:"h-16 w-16 text-primary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"NHIA Integration"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Link your National Health Insurance"}),a.jsx(Z,{variant:"outline",className:"w-full",children:"Connect NHIA"})]})}),a.jsx(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(iw,{className:"h-16 w-16 text-secondary mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Private HMO"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect your private insurance"}),a.jsx(Z,{variant:"outline",className:"w-full",children:"Connect HMO"})]})})]})]}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Payment Methods"})}),a.jsx(Q,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg",children:[a.jsx(wS,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Card Payment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Debit/Credit cards"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg",children:[a.jsx(iw,{className:"h-8 w-8 text-secondary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Mobile Money"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pay via USSD"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg",children:[a.jsx(rw,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Bank Transfer"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Direct transfer"})]})]})]})})]})]})}),aF=()=>{const t=tt(),{toast:e}=et(),[n,r]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("");b.useEffect(()=>{W.auth.getSession().then(({data:{session:d}})=>{d&&t("/dashboard")})},[t]);const c=async d=>{d.preventDefault(),r(!0);try{const{error:p}=await W.auth.signInWithPassword({email:s,password:o});if(p)throw p;e({title:"Login Successful",description:"Welcome back!"}),t("/dashboard")}catch(p){e({title:"Login Failed",description:p.message,variant:"destructive"})}finally{r(!1)}},u=async()=>{try{const{error:d}=await W.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"}}});if(d)throw d}catch(d){e({title:"Google Login Failed",description:d.message,variant:"destructive"})}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted/20 px-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx(wr,{className:"h-8 w-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold",children:"HealthKiosk NG"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Sign in to continue"})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Welcome Back"}),a.jsx(Ft,{children:"Sign in to your account"})]}),a.jsxs(Q,{children:[a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:s,onChange:d=>i(d.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"password",children:"Password"}),a.jsx(ue,{id:"password",type:"password",required:!0,value:o,onChange:d=>l(d.target.value)})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsxs(Z,{variant:"outline",className:"w-full",onClick:u,children:[a.jsx("svg",{role:"img",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4",children:a.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.85 3.18-1.73 4.1-1.02 1.02-2.62 1.9-5.63 1.9-4.76 0-8.64-3.89-8.64-8.64s3.88-8.64 8.64-8.64c2.69 0 4.33 1.01 5.31 1.94l2.43-2.43C18.4 1.46 15.63 0 12.48 0 5.88 0 0 5.88 0 12.48s5.88 12.48 12.48 12.48c7.14 0 11.95-4.99 11.95-12.15 0-.79-.07-1.54-.19-2.28z"})}),"Sign in with Google"]}),a.jsx("div",{className:"mt-6 text-center text-sm",children:a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Forgot password?"})})]})]}),a.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>t("/register"),className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})})},ad=[{state:"Abia",lgas:["Aba North","Aba South","Arochukwu","Bende","Ikwuano","Isiala Ngwa North","Isiala Ngwa South","Isuikwuato","Obi Ngwa","Ohafia","Osisioma","Ugwunagbo","Ukwa East","Ukwa West","Umuahia North","Umuahia South","Umu Nneochi"]},{state:"Adamawa",lgas:["Demsa","Fufure","Ganye","Gayuk","Gombi","Grie","Hong","Jada","Larmurde","Madagali","Maiha","Mayo Belwa","Michika","Mubi North","Mubi South","Numan","Shelleng","Song","Toungo","Yola North","Yola South"]},{state:"Akwa Ibom",lgas:["Abak","Eastern Obolo","Eket","Esit Eket","Essien Udim","Etim Ekpo","Etinan","Ibeno","Ibesikpo Asutan","Ibiono-Ibom","Ika","Ikono","Ikot Abasi","Ikot Ekpene","Ini","Itu","Mbo","Mkpat-Enin","Nsit-Atai","Nsit-Ibom","Nsit-Ubium","Obot Akara","Okobo","Onna","Oron","Oruk Anam","Udung-Uko","Ukanafun","Uruan","Urue-Offong/Oruko","Uyo"]},{state:"Anambra",lgas:["Aguata","Anambra East","Anambra West","Anaocha","Awka North","Awka South","Ayamelum","Dunukofia","Ekwusigo","Idemili North","Idemili South","Ihiala","Njikoka","Nnewi North","Nnewi South","Ogbaru","Onitsha North","Onitsha South","Orumba North","Orumba South","Oyi"]},{state:"Bauchi",lgas:["Alkaleri","Bauchi","Bogoro","Damban","Darazo","Dass","Gamawa","Ganjuwa","Giade","Itas/Gadau","Jama'are","Katagum","Kirfi","Misau","Ningi","Shira","Tafawa Balewa","Toro","Warji","Zaki"]},{state:"Bayelsa",lgas:["Brass","Ekeremor","Kolokuma/Opokuma","Nembe","Ogbia","Sagbama","Southern Ijaw","Yenagoa"]},{state:"Benue",lgas:["Agatu","Apa","Ado","Buruku","Gboko","Guma","Gwer East","Gwer West","Katsina-Ala","Konshisha","Kwande","Logo","Makurdi","Obi","Ogbadibo","Ohimini","Oju","Okpokwu","Oturkpo","Tarka","Ukum","Ushongo","Vandeikya"]},{state:"Borno",lgas:["Abadam","Askira/Uba","Bama","Bayo","Biu","Chibok","Damboa","Dikwa","Gubio","Guzamala","Gwoza","Hawul","Jere","Kaga","Kala/Balge","Konduga","Kukawa","Kwaya Kusar","Mafa","Magumeri","Maiduguri","Marte","Mobbar","Monguno","Ngala","Nganzai","Shani"]},{state:"Cross River",lgas:["Abi","Akamkpa","Akpabuyo","Bakassi","Bekwarra","Biase","Boki","Calabar Municipal","Calabar South","Etung","Ikom","Obanliku","Obubra","Obudu","Odukpani","Ogoja","Yakuur","Yala"]},{state:"Delta",lgas:["Aniocha North","Aniocha South","Bomadi","Burutu","Ethiope East","Ethiope West","Ika North East","Ika South","Isoko North","Isoko South","Ndokwa East","Ndokwa West","Okpe","Oshimili North","Oshimili South","Patani","Sapele","Udu","Ughelli North","Ughelli South","Ukwuani","Uvwie","Warri North","Warri South","Warri South West"]},{state:"Ebonyi",lgas:["Abakaliki","Afikpo North","Afikpo South","Ebonyi","Ezza North","Ezza South","Ikwo","Ishielu","Ivo","Izzi","Ohaozara","Ohaukwu","Onicha"]},{state:"Edo",lgas:["Akoko-Edo","Egor","Esan Central","Esan North-East","Esan South-East","Esan West","Etsako Central","Etsako East","Etsako West","Igueben","Ikpoba Okha","Orhionmwon","Oredo","Ovia North-East","Ovia South-West","Owan East","Owan West","Uhunmwonde"]},{state:"Ekiti",lgas:["Ado Ekiti","Efon","Ekiti East","Ekiti South-West","Ekiti West","Emure","Gbonyin","Ido Osi","Ijero","Ikere","Ikole","Ilejemeje","Irepodun/Ifelodun","Ise/Orun","Moba","Oye"]},{state:"Enugu",lgas:["Aninri","Awgu","Enugu East","Enugu North","Enugu South","Ezeagu","Igbo Etiti","Igbo Eze North","Igbo Eze South","Isi Uzo","Nkanu East","Nkanu West","Nsukka","Oji River","Udenu","Udi","Uzo Uwani"]},{state:"FCT",lgas:["Abaji","Bwari","Gwagwalada","Kuje","Kwali","Municipal Area Council"]},{state:"Gombe",lgas:["Akko","Balanga","Billiri","Dukku","Funakaye","Gombe","Kaltungo","Kwami","Nafada","Shongom","Yamaltu/Deba"]},{state:"Imo",lgas:["Aboh Mbaise","Ahiazu Mbaise","Ehime Mbano","Ezinihitte","Ideato North","Ideato South","Ihitte/Uboma","Ikeduru","Isiala Mbano","Isu","Mbaitoli","Ngor Okpala","Njaba","Nkwerre","Nwangele","Obowo","Oguta","Ohaji/Egbema","Okigwe","Orlu","Orsu","Oru East","Oru West","Owerri Municipal","Owerri North","Owerri West","Unuimo"]},{state:"Jigawa",lgas:["Auyo","Babura","Biriniwa","Birnin Kudu","Buji","Dutse","Gagarawa","Garki","Gumel","Guri","Gwaram","Gwiwa","Hadejia","Jahun","Kafin Hausa","Kazaure","Kiri Kasama","Kiyawa","Kaugama","Maigatari","Malam Madori","Miga","Ringim","Roni","Sule Tankarkar","Taura","Yankwashi"]},{state:"Kaduna",lgas:["Birnin Gwari","Chikun","Giwa","Igabi","Ikara","Jaba","Jema'a","Kachia","Kaduna North","Kaduna South","Kagarko","Kajuru","Kaura","Kauru","Kubau","Kudan","Lere","Makarfi","Sabon Gari","Sanga","Soba","Zangon Kataf","Zaria"]},{state:"Kano",lgas:["Ajingi","Albasu","Bagwai","Bebeji","Bichi","Bunkure","Dala","Dambatta","Dawakin Kudu","Dawakin Tofa","Doguwa","Fagge","Gabasawa","Garko","Garun Mallam","Gaya","Gezawa","Gwale","Gwarzo","Kabo","Kano Municipal","Karaye","Kibiya","Kiru","Kumbotso","Kunchi","Kura","Madobi","Makoda","Minjibir","Nasarawa","Rano","Rimin Gado","Rogo","Shanono","Sumaila","Takai","Tarauni","Tofa","Tsanyawa","Tudun Wada","Ungogo","Warawa","Wudil"]},{state:"Katsina",lgas:["Bakori","Batagarawa","Batsari","Baure","Bindawa","Charanchi","Dandume","Danja","Dan Musa","Daura","Dutsi","Dutsin Ma","Faskari","Funtua","Ingawa","Jibia","Kafur","Kaita","Kankara","Kankia","Katsina","Kurfi","Kusada","Mai'Adua","Malumfashi","Mani","Mashi","Matazu","Musawa","Rimi","Sabuwa","Safana","Sandamu","Zango"]},{state:"Kebbi",lgas:["Aleiro","Arewa Dandi","Argungu","Augie","Bagudo","Birnin Kebbi","Bunza","Dandi","Fakai","Gwandu","Jega","Kalgo","Koko/Besse","Maiyama","Ngaski","Sakaba","Shanga","Suru","Wasagu/Danko","Yauri","Zuru"]},{state:"Kogi",lgas:["Adavi","Ajaokuta","Ankpa","Bassa","Dekina","Ibaji","Idah","Igalamela Odolu","Ijumu","Kabba/Bunu","Kogi","Lokoja","Mopa Muro","Ofu","Ogori/Magongo","Okehi","Okene","Olamaboro","Omala","Yagba East","Yagba West"]},{state:"Kwara",lgas:["Asa","Baruten","Edu","Ekiti","Ifelodun","Ilorin East","Ilorin South","Ilorin West","Irepodun","Isin","Kaiama","Moro","Offa","Oke Ero","Oyun","Pategi"]},{state:"Lagos",lgas:["Agege","Ajeromi-Ifelodun","Alimosho","Amuwo-Odofin","Apapa","Badagry","Epe","Eti Osa","Ibeju-Lekki","Ifako-Ijaiye","Ikeja","Ikorodu","Kosofe","Lagos Island","Lagos Mainland","Mushin","Ojo","Oshodi-Isolo","Shomolu","Surulere"]},{state:"Nasarawa",lgas:["Akwanga","Awe","Doma","Karu","Keana","Keffi","Kokona","Lafia","Nasarawa","Nasarawa Egon","Obi","Toto","Wamba"]},{state:"Niger",lgas:["Agaie","Agwara","Bida","Borgu","Bosso","Chanchaga","Edati","Gbako","Gurara","Katcha","Kontagora","Lapai","Lavun","Magama","Mariga","Mashegu","Mokwa","Moya","Paikoro","Rafi","Rijau","Shiroro","Suleja","Tafa","Wushishi"]},{state:"Ogun",lgas:["Abeokuta North","Abeokuta South","Ado-Odo/Ota","Egbado North","Egbado South","Ewekoro","Ifo","Ijebu East","Ijebu North","Ijebu North East","Ijebu Ode","Ikenne","Imeko Afon","Ipokia","Obafemi Owode","Odeda","Odogbolu","Ogun Waterside","Remo North","Shagamu"]},{state:"Ondo",lgas:["Akoko North-East","Akoko North-West","Akoko South-West","Akoko South-East","Akure North","Akure South","Ese Odo","Idanre","Ifedore","Ilaje","Ile Oluji/Okeigbo","Irele","Odigbo","Okitipupa","Ondo East","Ondo West","Ose","Owo"]},{state:"Osun",lgas:["Aiyedaade","Aiyedire","Atakunmosa East","Atakunmosa West","Boluwaduro","Boripe","Ede North","Ede South","Ife Central","Ife East","Ife North","Ife South","Egbedore","Ejigbo","Ifedayo","Ifelodun","Ila","Ilesa East","Ilesa West","Irepodun","Irewole","Isokan","Iwo","Obokun","Odo Otin","Ola Oluwa","Olorunda","Oriade","Orolu","Osogbo"]},{state:"Oyo",lgas:["Afijio","Akinyele","Atiba","Atisbo","Egbeda","Ibadan North","Ibadan North-East","Ibadan North-West","Ibadan South-East","Ibadan South-West","Ibarapa Central","Ibarapa East","Ibarapa North","Ido","Irepo","Iseyin","Itesiwaju","Iwajowa","Kajola","Lagelu","Ogbomosho North","Ogbomosho South","Ogo Oluwa","Olorunsogo","Oluyole","Ona Ara","Orelope","Ori Ire","Oyo","Oyo East","Saki East","Saki West","Surulere"]},{state:"Plateau",lgas:["Bokkos","Barkin Ladi","Bassa","Jos East","Jos North","Jos South","Kanam","Kanke","Langtang South","Langtang North","Mangu","Mikang","Pankshin","Qua'an Pan","Riyom","Shendam","Wase"]},{state:"Rivers",lgas:["Port Harcourt","Obio-Akpor","Okrika","OguBolo","Eleme","Tai","Gokana","Khana","Oyigbo","OpoboNkoro","Andoni","Bonny","Degema","Asari-Toru","Akuku-Toru","AbuaOdual","Ahoada West","Ahoada East","OgbaEgbemaNdoni","Emuoha","Ikwerre","Etche","Omuma"]},{state:"Sokoto",lgas:["Binji","Bodinga","Dange Shuni","Gada","Goronyo","Gudu","Gwadabawa","Illela","Isa","Kebbe","Kware","Rabah","Sabon Birni","Shagari","Silame","Sokoto North","Sokoto South","Tambuwal","Tangaza","Tureta","Wamako","Wurno","Yabo"]},{state:"Taraba",lgas:["Ardo Kola","Bali","Donga","Gashaka","Gassol","Ibi","Jalingo","Karim Lamido","Kumi","Lau","Sardauna","Takum","Ussa","Wukari","Yorro","Zing"]},{state:"Yobe",lgas:["Bade","Bursari","Damaturu","Fika","Fune","Geidam","Gujba","Gulani","Jakusko","Karasuwa","Machina","Nangere","Nguru","Potiskum","Tarmuwa","Yunusari","Yusufari"]},{state:"Zamfara",lgas:["Anka","Bakura","Birnin Magaji/Kiyaw","Bukkuyum","Bungudu","Gummi","Gusau","Kaura Namoda","Maradun","Maru","Shinkafi","Talata Mafara","Chafe","Zurmi"]}],lF=()=>{const t=tt(),{toast:e}=et(),[n,r]=b.useState(!1),[s,i]=b.useState("patient"),[o,l]=b.useState([]),[c,u]=b.useState(!1),[d,p]=b.useState(""),[g,m]=b.useState([]),[x,h]=b.useState({email:"",password:"",fullName:"",phone:"",lga:"",specialization:"",licenseNumber:"",pharmacyName:"",vehicleType:"",businessName:""});b.useEffect(()=>{if(d){const _=ad.find(k=>k.state===d);m(_?_.lgas:[]),v("lga","")}else m([])},[d]),b.useEffect(()=>{s==="doctor"&&(async()=>{try{const{data:k,error:E}=await W.rpc("get_doctor_specializations");if(E)throw E;if(k&&Array.isArray(k))l(k.map(N=>({name:N})));else throw new Error("Invalid specialization data received")}catch(k){console.error("Error fetching specializations:",k.message),l([{name:"General Medicine"},{name:"Pediatrics"},{name:"Cardiology"},{name:"Dermatology"},{name:"Neurology"},{name:"Orthopedics"},{name:"Oncology"},{name:"Gastroenterology"},{name:"Psychiatry"},{name:"Family Medicine"}]),e({title:"Could not fetch specializations",description:"Using a default list. Please try again later.",variant:"destructive"})}})()},[s,e]);const y=async _=>{_.preventDefault(),r(!0);const{email:k,password:E,fullName:N,phone:T,lga:O,specialization:F,licenseNumber:R,pharmacyName:K,vehicleType:M,businessName:H}=x,D=d&&O?`${O}, ${d}`:"";if(!k||!E||!N||!T){e({title:"Registration Failed",description:"Please fill in all required fields.",variant:"destructive"}),r(!1);return}try{const{data:{user:G},error:J}=await W.auth.signUp({email:k,password:E});if(J)throw J;if(!G)throw new Error("Registration failed, user not created.");const ne={user_id:G.id,email:k,full_name:N,phone:T,role:s,location:D,specialization:F,license_number:R,pharmacy_name:K,vehicle_type:M,business_name:H},{error:I}=await W.from("profiles").insert([ne]);if(I)throw await W.auth.admin.deleteUser(G.id),I;u(!0),e({title:"Registration Successful",description:"Please check your email to confirm your account."})}catch(G){let J="An unexpected error occurred.";G.message&&(G.message.includes("duplicate key value")?J="A user with this email or phone number already exists.":G.message.includes("check constraint")?J="A field violates a constraint. For example, the phone number might be invalid.":J=`Registration failed: ${G.message}`),e({title:"Registration Failed",description:J,variant:"destructive"})}finally{r(!1)}},w=async()=>{try{const{error:_}=await W.auth.signInWithOAuth({provider:"google",options:{queryParams:{access_type:"offline",prompt:"consent"}}});if(_)throw _}catch(_){e({title:"Google Login Failed",description:_.message,variant:"destructive"})}},v=(_,k)=>{h(E=>({...E,[_]:k}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted/20 px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx(wr,{className:"h-8 w-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold",children:"HealthKiosk NG"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Create your account to get started"})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:c?"Check Your Email":"Register"}),a.jsx(Ft,{children:c?"We've sent a confirmation link to your email.":"Choose your role and fill in your details."})]}),a.jsxs(Q,{children:[c?a.jsxs("div",{className:"space-y-4 text-center",children:[a.jsx("p",{children:"Your registration was successful! Please check your inbox and click the confirmation link to activate your account."}),a.jsx(Z,{onClick:()=>t("/login"),className:"w-full mt-4",children:"Proceed to Login"})]}):a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"role",children:"I am a"}),a.jsxs(Tr,{value:s,onValueChange:i,children:[a.jsx(fr,{children:a.jsx(Or,{})}),a.jsxs(pr,{children:[a.jsx(lt,{value:"patient",children:"Patient"}),a.jsx(lt,{value:"doctor",children:"Doctor"}),a.jsx(lt,{value:"vendor",children:"Pharmacy/Vendor"}),a.jsx(lt,{value:"delivery_rider",children:"Delivery Rider"}),a.jsx(lt,{value:"kiosk_partner",children:"Kiosk Partner"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",type:"email",required:!0,value:x.email,onChange:_=>v("email",_.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"password",children:"Password"}),a.jsx(ue,{id:"password",type:"password",required:!0,value:x.password,onChange:_=>v("password",_.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"fullName",children:s==="vendor"||s==="kiosk_partner"?"Owner Name":"Full Name"}),a.jsx(ue,{id:"fullName",required:!0,value:x.fullName,onChange:_=>v("fullName",_.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ue,{id:"phone",type:"tel",required:!0,value:x.phone,onChange:_=>v("phone",_.target.value)})]}),(s==="patient"||s==="vendor"||s==="kiosk_partner")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"state",children:"State"}),a.jsxs(Tr,{onValueChange:p,required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select a state"})}),a.jsx(pr,{children:ad.map(_=>a.jsx(lt,{value:_.state,children:_.state},_.state))})]})]}),d&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"lga",children:"LGA"}),a.jsxs(Tr,{value:x.lga,onValueChange:_=>v("lga",_),required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select a LGA"})}),a.jsx(pr,{children:g.map(_=>a.jsx(lt,{value:_,children:_},_))})]})]})]}),s==="doctor"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"specialization",children:"Specialization"}),a.jsxs(Tr,{value:x.specialization,onValueChange:_=>v("specialization",_),required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select a specialization"})}),a.jsx(pr,{children:o.map(_=>a.jsx(lt,{value:_.name,children:_.name},_.name))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"licenseNumber",children:"License Number"}),a.jsx(ue,{id:"licenseNumber",required:!0,value:x.licenseNumber,onChange:_=>v("licenseNumber",_.target.value)})]})]}),s==="vendor"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"pharmacyName",children:"Pharmacy Name"}),a.jsx(ue,{id:"pharmacyName",required:!0,value:x.pharmacyName,onChange:_=>v("pharmacyName",_.target.value)})]}),s==="delivery_rider"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"vehicleType",children:"Vehicle Type"}),a.jsxs(Tr,{value:x.vehicleType,onValueChange:_=>v("vehicleType",_),required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select vehicle type"})}),a.jsxs(pr,{children:[a.jsx(lt,{value:"motorcycle",children:"Motorcycle"}),a.jsx(lt,{value:"bicycle",children:"Bicycle"}),a.jsx(lt,{value:"car",children:"Car"}),a.jsx(lt,{value:"van",children:"Van"})]})]})]}),s==="kiosk_partner"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"businessName",children:"Business Name"}),a.jsx(ue,{id:"businessName",required:!0,value:x.businessName,onChange:_=>v("businessName",_.target.value)})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?"Creating Account...":"Register"})]}),!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsxs(Z,{variant:"outline",className:"w-full",onClick:w,children:[a.jsx("svg",{role:"img",viewBox:"0 0 24 24",className:"mr-2 h-4 w-4",children:a.jsx("path",{fill:"currentColor",d:"M12.48 10.92v3.28h7.84c-.24 1.84-.85 3.18-1.73 4.1-1.02 1.02-2.62 1.9-5.63 1.9-4.76 0-8.64-3.89-8.64-8.64s3.88-8.64 8.64-8.64c2.69 0 4.33 1.01 5.31 1.94l2.43-2.43C18.4 1.46 15.63 0 12.48 0 5.88 0 0 5.88 0 12.48s5.88 12.48 12.48 12.48c7.14 0 11.95-4.99 11.95-12.15 0-.79-.07-1.54-.19-2.28z"})}),"Sign up with Google"]})]}),a.jsxs("div",{className:"mt-6 text-center text-sm",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>t("/login"),className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})]})]})})},cF=()=>{const{toast:t}=et(),[e,n]=b.useState(!1),[r,s]=b.useState({patientId:"",bloodPressure:"",temperature:"",spo2:""}),i=async o=>{o.preventDefault(),n(!0);try{const{data:{user:l}}=await W.auth.getUser();if(!l)throw new Error("You must be logged in to record vitals");const{error:c}=await W.from("vitals").insert({patient_id:r.patientId,blood_pressure:r.bloodPressure,temperature:parseFloat(r.temperature),spo2:parseInt(r.spo2),recorded_by:l.id});if(c)throw c;t({title:"Vitals Recorded",description:"Patient vitals have been successfully recorded."}),s({patientId:"",bloodPressure:"",temperature:"",spo2:""})}catch(l){t({title:"Error",description:l.message,variant:"destructive"})}finally{n(!1)}};return a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Record Patient Vitals"}),a.jsx("p",{className:"text-muted-foreground",children:"Measure and record vital signs"})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"Vital Signs"}),a.jsx(Ft,{children:"Enter patient vitals information"})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:i,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"patientId",children:"Patient ID"}),a.jsx(ue,{id:"patientId",placeholder:"Enter patient ID or select patient",required:!0,value:r.patientId,onChange:o=>s({...r,patientId:o.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(le,{htmlFor:"bloodPressure",className:"flex items-center gap-2",children:[a.jsx(zu,{className:"h-4 w-4 text-primary"}),"Blood Pressure (mmHg)"]}),a.jsx(ue,{id:"bloodPressure",placeholder:"e.g., 120/80",required:!0,value:r.bloodPressure,onChange:o=>s({...r,bloodPressure:o.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Systolic/Diastolic"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(le,{htmlFor:"temperature",className:"flex items-center gap-2",children:[a.jsx(QO,{className:"h-4 w-4 text-primary"}),"Temperature (C)"]}),a.jsx(ue,{id:"temperature",type:"number",step:"0.1",placeholder:"e.g., 37.5",required:!0,value:r.temperature,onChange:o=>s({...r,temperature:o.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(le,{htmlFor:"spo2",className:"flex items-center gap-2",children:[a.jsx(Dd,{className:"h-4 w-4 text-primary"}),"SpO (%)"]}),a.jsx(ue,{id:"spo2",type:"number",min:"0",max:"100",placeholder:"e.g., 98",required:!0,value:r.spo2,onChange:o=>s({...r,spo2:o.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Normal range: 95-100%"})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:e,size:"lg",children:e?"Recording...":"Record Vitals"})]})})]}),a.jsxs(Y,{className:"mt-6",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Quick Reference"})}),a.jsxs(Q,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Normal Blood Pressure:"}),a.jsx("span",{className:"font-medium",children:"90/60 - 120/80 mmHg"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Normal Temperature:"}),a.jsx("span",{className:"font-medium",children:"36.1 - 37.2 C"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Normal SpO:"}),a.jsx("span",{className:"font-medium",children:"95 - 100%"})]})]})]})]})})},uF=()=>{const t=tt(),{toast:e}=et(),[n,r]=b.useState(""),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null);b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:y}=await W.from("kiosk_partners").select("*");if(y)throw y;i(h||[])}catch(h){console.error("Error fetching kiosks:",h),i([{id:"1",business_name:"Mama Chidi Pharmacy",location:"15 Market Road, Surulere, Lagos",phone:"+234 803 123 4567",owner_name:"Mrs. Chidi"},{id:"2",business_name:"Ola Chemist",location:"42 Allen Avenue, Ikeja, Lagos",phone:"+234 805 987 6543",owner_name:"Mr. Ola"},{id:"3",business_name:"Unity Health Kiosk",location:"28 Awolowo Road, Ikoyi, Lagos",phone:"+234 807 456 7890",owner_name:"Dr. Unity"}])}finally{l(!1)}},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(h=>{u({lat:h.coords.latitude,lng:h.coords.longitude}),r("Current Location"),e({title:"Location Found",description:"Showing kiosks near your location"})},h=>{console.error("Error getting location:",h),e({title:"Location Error",description:"Could not get your location. Please enter it manually.",variant:"destructive"})}):e({title:"Not Supported",description:"Geolocation is not supported by your browser",variant:"destructive"})},g=h=>{const y=encodeURIComponent(h);window.open(`https://www.google.com/maps/search/?api=1&query=${y}`,"_blank")},m=h=>{h&&(window.location.href=`tel:${h}`)},x=async h=>{const{data:{session:y}}=await W.auth.getSession();if(!y){e({title:"Login Required",description:"Please login to start a consultation"}),t("/login",{state:{from:"/find-kiosk"}});return}t("/triage",{state:{kioskId:h}})};return o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsx("section",{className:"bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Find a HealthKiosk Near You"}),a.jsx("p",{className:"text-muted-foreground",children:"Locate the nearest HealthKiosk partner in your area for in-person consultations"})]}),a.jsx(Y,{className:"mb-6",children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{placeholder:"Enter your location or use GPS",value:n,onChange:h=>r(h.target.value),className:"flex-1"}),a.jsxs(Z,{onClick:p,className:"gap-2",children:[a.jsx(Ko,{className:"h-4 w-4"}),"Use GPS"]})]})})}),a.jsx("div",{className:"space-y-4",children:s.map((h,y)=>a.jsxs(Y,{className:"hover:shadow-lg transition-shadow",children:[a.jsx(ve,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(xe,{className:"text-lg mb-1",children:h.business_name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(Ja,{className:"h-4 w-4"}),a.jsx("span",{children:h.location})]})]}),a.jsx(yt,{variant:"default",children:"Open"})]})}),a.jsxs(Q,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Wu,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:h.phone||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(As,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:"8:00 AM - 8:00 PM"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ko,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{children:[(y*.5+.5).toFixed(1)," km away"]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(Z,{className:"flex-1",onClick:()=>g(h.location),children:[a.jsx(WO,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),a.jsxs(Z,{variant:"outline",className:"flex-1",onClick:()=>m(h.phone),children:[a.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Call Now"]}),a.jsx(Z,{variant:"secondary",className:"flex-1",onClick:()=>x(h.id),children:"Start Consultation"})]})]})]},h.id))})]})})},dF=lE,hF=cE,fF=uE,tC=b.forwardRef(({className:t,...e},n)=>a.jsx(Xd,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tC.displayName=Xd.displayName;const nC=b.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(fF,{children:[a.jsx(tC,{}),a.jsxs(Zd,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(vv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Fg,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nC.displayName=Zd.displayName;const rC=({className:t,...e})=>a.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});rC.displayName="DialogHeader";const sC=b.forwardRef(({className:t,...e},n)=>a.jsx(eh,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));sC.displayName=eh.displayName;const pF=b.forwardRef(({className:t,...e},n)=>a.jsx(th,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));pF.displayName=th.displayName;const mF=()=>{const t=tt(),e=Yt(),{toast:n}=et(),{consultation_id:r,patient_id:s}=e.state||{},[i,o]=b.useState([]),[l,c]=b.useState(!0),[u,d]=b.useState(null),[p,g]=b.useState(!1);b.useEffect(()=>{(async()=>{const{data:{session:y}}=await W.auth.getSession();if(!y){t("/login");return}const{data:w,error:v}=await W.from("profiles").select("role").eq("id",y.user.id).single();w&&d(w.role),m(y.user.id,w==null?void 0:w.role)})()},[]);const m=async(h,y)=>{c(!0);try{let w=W.from("prescriptions").select(`
        *,
        doctors:doctor_id (full_name)
      `);if(r)w=w.eq("consultation_id",r);else if(y==="patient"){const{data:E}=await W.from("patients").select("id").eq("user_id",h).single();E&&(w=w.eq("patient_id",E.id))}const{data:v,error:_}=await w.order("created_at",{ascending:!1});if(_)throw _;const k=(v||[]).map(E=>{var N;return{...E,doctor_name:((N=E.doctors)==null?void 0:N.full_name)||"Unknown Doctor"}});o(k)}catch(w){console.error("Error fetching prescriptions:",w),n({title:"Error",description:"Failed to load prescriptions",variant:"destructive"})}finally{c(!1)}},x=h=>{switch(h){case"pending":return a.jsx(yt,{variant:"outline",children:"Pending"});case"filled":return a.jsx(yt,{variant:"default",children:"Filled"});default:return a.jsx(yt,{variant:"secondary",children:h})}};return l?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Prescriptions"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage prescriptions"})]}),u==="doctor"&&r&&a.jsxs(dF,{open:p,onOpenChange:g,children:[a.jsx(hF,{asChild:!0,children:a.jsxs(Z,{children:[a.jsx($g,{className:"h-4 w-4 mr-2"}),"Write Prescription"]})}),a.jsxs(nC,{children:[a.jsx(rC,{children:a.jsx(sC,{children:"Write a New Prescription"})}),a.jsx(vF,{consultationId:r,patientId:s,onPrescriptionCreated:()=>{g(!1),m(s,u)}})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[i.map(h=>a.jsx(gF,{prescription:h,getStatusBadge:x},h.id)),i.length===0&&a.jsx(Y,{children:a.jsxs(Q,{className:"p-8 text-center",children:[a.jsx(Yn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No prescriptions found."})]})})]})]})})},gF=({prescription:t,getStatusBadge:e})=>a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs(xe,{className:"text-lg flex items-center gap-2",children:[a.jsx(Yn,{className:"h-5 w-5 text-primary"}),"Prescription #",t.id.slice(0,8)]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Prescribed by Dr. ",t.doctor_name]})]}),e(t.status||"pending")]})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[a.jsx(bS,{className:"h-4 w-4"}),"Medication"]}),a.jsxs("div",{className:"space-y-2 text-sm p-2 bg-muted rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Medication:"})," ",t.medication]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Dosage:"})," ",t.dosage]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Frequency:"})," ",t.frequency]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Duration:"})," ",t.duration]})]})]}),t.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Doctor's Notes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(As,{className:"h-4 w-4"}),a.jsx("span",{children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),vF=({consultationId:t,patientId:e,onPrescriptionCreated:n})=>{const{toast:r}=et(),[s,i]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,p]=b.useState(""),[g,m]=b.useState(""),[x,h]=b.useState(!1),y=async w=>{w.preventDefault(),h(!0);const{data:{session:v}}=await W.auth.getSession();if(v)try{const{error:_}=await W.from("prescriptions").insert({consultation_id:t,patient_id:e,doctor_id:v.user.id,medication:s,dosage:o,frequency:c,duration:d,notes:g,status:"pending"});if(_)throw _;r({title:"Success",description:"Prescription created successfully."}),n()}catch(_){r({title:"Error",description:_.message,variant:"destructive"})}finally{h(!1)}};return a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsx(ue,{placeholder:"Medication",value:s,onChange:w=>i(w.target.value),required:!0}),a.jsx(ue,{placeholder:"Dosage (e.g., 500mg)",value:o,onChange:w=>l(w.target.value),required:!0}),a.jsx(ue,{placeholder:"Frequency (e.g., Twice a day)",value:c,onChange:w=>u(w.target.value),required:!0}),a.jsx(ue,{placeholder:"Duration (e.g., 7 days)",value:d,onChange:w=>p(w.target.value),required:!0}),a.jsx(nh,{placeholder:"Additional notes...",value:g,onChange:w=>m(w.target.value)}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Z,{type:"submit",disabled:x,children:x?"Submitting...":"Submit Prescription"})})]})},yF=()=>{var E;const t=tt(),e=Yt(),{toast:n}=et(),r=(E=e.state)==null?void 0:E.prescriptionId,[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(""),[d,p]=b.useState(null),[g,m]=b.useState("delivery"),[x,h]=b.useState(null);b.useEffect(()=>{w(),y()},[]);const y=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{h({lat:N.coords.latitude,lng:N.coords.longitude})},N=>{console.error("Error getting location:",N)})},w=async()=>{try{const{data:N,error:T}=await W.from("vendors").select("*").eq("status","active");if(T)throw T;i(N||[])}catch(N){console.error("Error fetching vendors:",N),n({title:"Error",description:"Failed to load vendors",variant:"destructive"})}finally{l(!1)}},v=(N,T)=>{if(!x||!N||!T)return"N/A";const O=6371,F=(N-x.lat)*Math.PI/180,R=(T-x.lng)*Math.PI/180,K=Math.sin(F/2)*Math.sin(F/2)+Math.cos(x.lat*Math.PI/180)*Math.cos(N*Math.PI/180)*Math.sin(R/2)*Math.sin(R/2),M=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return`${(O*M).toFixed(1)} km`},_=async N=>{p(N)},k=async()=>{if(!d){n({title:"Select a vendor",description:"Please select a pharmacy to continue",variant:"destructive"});return}try{const{data:{session:N}}=await W.auth.getSession();if(!N){t("/login");return}const{data:T}=await W.from("patients").select("id").eq("user_id",N.user.id).single(),{error:O}=await W.from("orders").insert({prescription_id:r,patient_id:T==null?void 0:T.id,vendor_id:d,delivery_type:g,status:"pending"});if(O)throw O;n({title:"Order Placed!",description:`Your ${g==="delivery"?"delivery":"pickup"} order has been placed.`}),t("/records")}catch(N){console.error("Error creating order:",N),n({title:"Error",description:"Failed to place order",variant:"destructive"})}};return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsx("div",{className:"min-h-screen bg-muted/40 p-4 md:p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Choose a Pharmacy"}),a.jsx("p",{className:"text-muted-foreground",children:"Select a pharmacy to fulfill your prescription"})]}),a.jsx(Y,{className:"mb-6",children:a.jsxs(Q,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"How would you like to receive your medication?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(Z,{variant:g==="delivery"?"default":"outline",className:"flex-1 h-20 flex-col gap-2",onClick:()=>m("delivery"),children:[a.jsx(jS,{className:"h-6 w-6"}),a.jsx("span",{children:"Home Delivery"})]}),a.jsxs(Z,{variant:g==="pickup"?"default":"outline",className:"flex-1 h-20 flex-col gap-2",onClick:()=>m("pickup"),children:[a.jsx(JO,{className:"h-6 w-6"}),a.jsx("span",{children:"Pickup"})]})]})]})}),a.jsx(Y,{className:"mb-6",children:a.jsx(Q,{className:"p-6",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{placeholder:"Search by location...",value:c,onChange:N=>u(N.target.value),className:"flex-1"}),a.jsxs(Z,{onClick:y,variant:"outline",className:"gap-2",children:[a.jsx(Ko,{className:"h-4 w-4"}),"Use GPS"]})]})})}),a.jsx("div",{className:"space-y-4",children:s.length===0?a.jsx(Y,{children:a.jsx(Q,{className:"p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No pharmacies available in your area"})})}):s.map(N=>a.jsxs(Y,{className:`hover:shadow-lg transition-all cursor-pointer ${d===N.id?"ring-2 ring-primary":""}`,onClick:()=>_(N.id),children:[a.jsx(ve,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(xe,{className:"text-lg mb-1",children:N.pharmacy_name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(Ja,{className:"h-4 w-4"}),a.jsx("span",{children:N.location})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2",children:[a.jsx(yt,{variant:"default",children:"Open"}),d===N.id&&a.jsx(yt,{variant:"secondary",children:"Selected"})]})]})}),a.jsxs(Q,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Wu,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:N.phone||"N/A"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(As,{className:"h-4 w-4 text-primary"}),a.jsx("span",{children:"8:00 AM - 8:00 PM"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ko,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{children:[v(N.latitude,N.longitude)," away"]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(T=>a.jsx(GO,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},T)),a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(48 reviews)"})]})]})]},N.id))}),d&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-background border-t",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(Z,{className:"w-full h-12 text-lg",onClick:k,children:["Confirm ",g==="delivery"?"Delivery":"Pickup"," Order"]})})})]})})},wF=()=>{const t=Yt();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};var iC={exports:{}},oC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=b;function xF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bF=typeof Object.is=="function"?Object.is:xF,_F=Zo.useState,SF=Zo.useEffect,jF=Zo.useLayoutEffect,kF=Zo.useDebugValue;function EF(t,e){var n=e(),r=_F({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return jF(function(){s.value=n,s.getSnapshot=e,vf(s)&&i({inst:s})},[t,n,e]),SF(function(){return vf(s)&&i({inst:s}),t(function(){vf(s)&&i({inst:s})})},[t]),kF(n),n}function vf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bF(t,n)}catch{return!0}}function CF(t,e){return e()}var NF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CF:EF;oC.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:NF;iC.exports=oC;var PF=iC.exports;function TF(){return PF.useSyncExternalStore(OF,()=>!0,()=>!1)}function OF(){return()=>{}}var wv="Avatar",[AF,d8]=Fi(wv),[RF,aC]=AF(wv),lC=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=b.useState("idle");return a.jsx(RF,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(ke.span,{...r,ref:e})})});lC.displayName=wv;var cC="AvatarImage",uC=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=aC(cC,n),l=MF(r,i),c=Nn(u=>{s(u),o.onImageLoadingStatusChange(u)});return ot(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(ke.img,{...i,ref:e,src:r}):null});uC.displayName=cC;var dC="AvatarFallback",hC=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=aC(dC,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(ke.span,{...s,ref:e}):null});hC.displayName=dC;function w0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MF(t,{referrerPolicy:e,crossOrigin:n}){const r=TF(),s=b.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=b.useState(()=>w0(i,t));return ot(()=>{l(w0(i,t))},[i,t]),ot(()=>{const c=p=>()=>{l(p)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,e]),o}var fC=lC,pC=uC,mC=hC;const zl=b.forwardRef(({className:t,...e},n)=>a.jsx(fC,{ref:n,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zl.displayName=fC.displayName;const Vl=b.forwardRef(({className:t,...e},n)=>a.jsx(pC,{ref:n,className:me("aspect-square h-full w-full",t),...e}));Vl.displayName=pC.displayName;const Wl=b.forwardRef(({className:t,...e},n)=>a.jsx(mC,{ref:n,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wl.displayName=mC.displayName;const gC=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,i]=b.useState(!0),o=b.useCallback(async()=>{i(!0);const{data:{user:l},error:c}=await W.auth.getUser();if(c||!l){i(!1),e(null),r(null);return}e(l);const{data:u,error:d}=await W.from("profiles").select("*").eq("user_id",l.id).single();d?(console.error("Error fetching profile:",d.message),r(null)):u&&r(u),i(!1)},[]);return b.useEffect(()=>{o();const{data:l}=W.auth.onAuthStateChange((c,u)=>{c==="SIGNED_IN"?(e((u==null?void 0:u.user)??null),o()):c==="SIGNED_OUT"&&(e(null),r(null))});return()=>{l.subscription.unsubscribe()}},[o]),{user:t,profile:n,loading:s,refreshProfile:o}},IF=()=>{var l;const t=tt(),{profile:e,loading:n}=gC(),{toast:r}=et();if(n)return a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."});const s=e&&e.full_name&&e.date_of_birth,i=[{label:"Appointments",icon:a.jsx(vl,{className:"h-7 w-7"}),path:"/appointments"},{label:"Medical Records",icon:a.jsx(Yn,{className:"h-7 w-7"}),path:"/medical-records"},{label:"Start Consultation",icon:a.jsx($g,{className:"h-7 w-7"}),path:"/consultation"},{label:"Prescriptions",icon:a.jsx(Yn,{className:"h-7 w-7"}),path:"/medical-records/prescriptions"},{label:"Find Kiosk",icon:a.jsx(Lp,{className:"h-7 w-7"}),path:"/find-kiosk"}],o=c=>{(c==="/consultation"||c==="/appointments")&&!s?(r({title:"Complete Your Profile",description:"Please complete your profile to book appointments or start consultations.",variant:"destructive"}),t("/complete-profile")):t(c)};return a.jsxs("div",{className:"bg-muted/40 min-h-screen",children:[a.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[a.jsxs("header",{className:"flex items-center justify-between bg-muted/40 pt-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(zl,{className:"h-12 w-12 border-2 border-white",children:[a.jsx(Vl,{src:(e==null?void 0:e.avatar_url)??void 0,alt:(e==null?void 0:e.full_name)??"User avatar"}),a.jsx(Wl,{children:((l=e==null?void 0:e.full_name)==null?void 0:l.charAt(0))||"I"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Hello,"}),a.jsx("h1",{className:"font-bold text-xl",children:(e==null?void 0:e.full_name)||"Ibukun Afolayan"})]})]}),a.jsx(Z,{variant:"ghost",size:"icon",children:a.jsx($O,{className:"h-6 w-6"})})]}),!s&&a.jsxs(Y,{className:"bg-blue-50 border-blue-200",children:[a.jsx(ve,{children:a.jsx(xe,{className:"text-blue-800",children:"Complete Your Profile"})}),a.jsxs(Q,{children:[a.jsx("p",{className:"text-blue-700 mb-4",children:"Please complete your profile to get the most out of our platform. Some features may be limited until your profile is complete."}),a.jsx(Z,{onClick:()=>t("/complete-profile"),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Complete Profile"})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4 text-center pt-4",children:i.map(c=>a.jsxs("div",{onClick:()=>o(c.path),className:"flex flex-col items-center justify-center gap-2 cursor-pointer p-2 rounded-lg",children:[a.jsx("div",{className:"bg-cyan-100 text-cyan-600 rounded-full p-3.5 flex items-center justify-center",children:c.icon}),a.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.label))}),a.jsxs(Y,{className:"shadow-md",children:[a.jsx(ve,{children:a.jsx(xe,{className:"text-lg",children:"Upcoming Appointments"})}),a.jsxs(Q,{className:"text-center flex flex-col items-center",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"No upcoming appointments."}),a.jsx(Z,{onClick:()=>t("/appointments"),className:"bg-cyan-500 w-2/3 text-white hover:bg-cyan-600",children:"View All"})]})]})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t p-2 grid grid-cols-4 text-center max-w-lg mx-auto rounded-t-lg",children:[a.jsxs("div",{onClick:()=>t("/dashboard"),className:"flex flex-col items-center gap-1 cursor-pointer text-cyan-600",children:[a.jsx(xS,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs font-semibold",children:"Home"})]}),a.jsxs("div",{onClick:()=>t("/find-kiosk"),className:"flex flex-col items-center gap-1 cursor-pointer text-muted-foreground",children:[a.jsx(Lp,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Find Kiosk"})]}),a.jsxs("div",{onClick:()=>t("/appointments"),className:"flex flex-col items-center gap-1 cursor-pointer text-muted-foreground",children:[a.jsx(vl,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Appointments"})]}),a.jsxs("div",{onClick:()=>t("/chats"),className:"flex flex-col items-center gap-1 cursor-pointer text-muted-foreground",children:[a.jsx(Vu,{className:"h-6 w-6"}),a.jsx("span",{className:"text-xs",children:"Chats"})]})]})]})};function wt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function DF(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Ac=43200,x0=1440;let LF={};function $F(){return LF}function b0(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hu(t,e){const n=wt(t),r=wt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function FF(t){return DF(t,Date.now())}function UF(t,e){const n=wt(t),r=wt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function BF(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function zF(t,e){return+wt(t)-+wt(e)}function VF(t){const e=wt(t);return e.setHours(23,59,59,999),e}function WF(t){const e=wt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function HF(t){const e=wt(t);return+VF(e)==+WF(e)}function qF(t,e){const n=wt(t),r=wt(e),s=hu(n,r),i=Math.abs(UF(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=hu(n,r)===-s;HF(wt(t))&&i===1&&hu(t,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function KF(t,e,n){const r=zF(t,e)/1e3;return BF(n==null?void 0:n.roundingMethod)(r)}const GF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JF=(t,e,n)=>{let r;const s=GF[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function yf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const QF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZF={date:yf({formats:QF,defaultWidth:"full"}),time:yf({formats:YF,defaultWidth:"full"}),dateTime:yf({formats:XF,defaultWidth:"full"})},eU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tU=(t,e,n,r)=>eU[t];function Ca(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const nU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lU=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cU={ordinalNumber:lU,era:Ca({values:nU,defaultWidth:"wide"}),quarter:Ca({values:rU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ca({values:sU,defaultWidth:"wide"}),day:Ca({values:iU,defaultWidth:"wide"}),dayPeriod:Ca({values:oU,defaultWidth:"wide",formattingValues:aU,defaultFormattingWidth:"wide"})};function Na(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?dU(l,p=>p.test(o)):uU(l,p=>p.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function uU(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dU(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hU(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const fU=/^(\d+)(th|st|nd|rd)?/i,pU=/\d+/i,mU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gU={any:[/^b/i,/^(a|c)/i]},vU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yU={any:[/1/i,/2/i,/3/i,/4/i]},wU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_U={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kU={ordinalNumber:hU({matchPattern:fU,parsePattern:pU,valueCallback:t=>parseInt(t,10)}),era:Na({matchPatterns:mU,defaultMatchWidth:"wide",parsePatterns:gU,defaultParseWidth:"any"}),quarter:Na({matchPatterns:vU,defaultMatchWidth:"wide",parsePatterns:yU,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Na({matchPatterns:wU,defaultMatchWidth:"wide",parsePatterns:xU,defaultParseWidth:"any"}),day:Na({matchPatterns:bU,defaultMatchWidth:"wide",parsePatterns:_U,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:SU,defaultMatchWidth:"any",parsePatterns:jU,defaultParseWidth:"any"})},EU={code:"en-US",formatDistance:JF,formatLong:ZF,formatRelative:tU,localize:cU,match:kU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CU(t,e,n){const r=$F(),s=(n==null?void 0:n.locale)??r.locale??EU,i=2520,o=hu(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=wt(e),u=wt(t)):(c=wt(t),u=wt(e));const d=KF(u,c),p=(b0(u)-b0(c))/1e3,g=Math.round((d-p)/60);let m;if(g<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):g===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",g,l);if(g<45)return s.formatDistance("xMinutes",g,l);if(g<90)return s.formatDistance("aboutXHours",1,l);if(g<x0){const x=Math.round(g/60);return s.formatDistance("aboutXHours",x,l)}else{if(g<i)return s.formatDistance("xDays",1,l);if(g<Ac){const x=Math.round(g/x0);return s.formatDistance("xDays",x,l)}else if(g<Ac*2)return m=Math.round(g/Ac),s.formatDistance("aboutXMonths",m,l)}if(m=qF(u,c),m<12){const x=Math.round(g/Ac);return s.formatDistance("xMonths",x,l)}else{const x=m%12,h=Math.trunc(m/12);return x<3?s.formatDistance("aboutXYears",h,l):x<9?s.formatDistance("overXYears",h,l):s.formatDistance("almostXYears",h+1,l)}}function _0(t,e){return CU(t,FF(t),e)}const NU=()=>{const t=tt(),[e,n]=b.useState([]),[r,s]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l){t("/login");return}const{data:c}=await W.from("patients").select("id").eq("user_id",l.id).single();if(!c){n([]),s(!1);return}const{data:u,error:d}=await W.from("consultations").select(`
            id,
            created_at,
            doctor:doctor_id ( full_name, avatar_url )
          `).eq("patient_id",c.id).order("created_at",{ascending:!1});if(d)throw d;const p=await Promise.all(u.map(async g=>{const{data:m}=await W.from("chat_messages").select("message, created_at, sender_type").eq("consultation_id",g.id).order("created_at",{ascending:!1}).limit(1).single(),x=!!g.doctor;return{id:g.id,last_message:(m==null?void 0:m.message)||"Consultation started.",last_message_at:m?_0(new Date(m.created_at),{addSuffix:!0}):_0(new Date(g.created_at),{addSuffix:!0}),other_party_name:x?g.doctor.full_name:"AI Health Assistant",other_party_avatar:x?g.doctor.avatar_url||"/placeholder-user.jpg":"/placeholder-bot.jpg",other_party_role:x?"doctor":"ai"}}));n(p)}catch(l){console.error("Error fetching conversations:",l)}finally{s(!1)}})()},[t]);const i=o=>{t(`/consultation?consultation_id=${o.id}`)};return r?a.jsx("div",{id:"loading-spinner",className:"flex h-full flex-1 items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{id:"chats-page",className:"p-4 space-y-4",children:[a.jsxs(ve,{children:[a.jsx(xe,{id:"chats-title",children:"Conversations"}),a.jsx("p",{id:"chats-description",className:"text-muted-foreground",children:"View previous chats with our health assistant or doctors."})]}),e.length===0?a.jsx(Q,{id:"no-conversations-message",className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"No conversations yet. Start a consultation to begin."})}):a.jsx("div",{id:"conversation-list",className:"space-y-2",children:e.map(o=>a.jsx(Y,{id:`conversation-card-${o.id}`,className:"cursor-pointer hover:bg-muted/50",onClick:()=>i(o),children:a.jsxs(Q,{className:"flex items-center gap-4 p-4",children:[a.jsxs(zl,{id:`conversation-avatar-${o.id}`,className:"h-12 w-12",children:[a.jsx(Vl,{src:o.other_party_avatar}),a.jsx(Wl,{children:o.other_party_role==="ai"?a.jsx(wi,{className:"h-6 w-6"}):a.jsx(wr,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{id:`conversation-name-${o.id}`,className:"font-semibold text-base",children:o.other_party_name}),a.jsx("p",{id:`conversation-time-${o.id}`,className:"text-xs text-muted-foreground",children:o.last_message_at})]}),a.jsx("p",{id:`conversation-last-message-${o.id}`,className:"text-sm text-muted-foreground truncate",children:o.last_message})]})]})},o.id))})]})},PU=({children:t})=>{var p,g;const[e,n]=b.useState(null),[r,s]=b.useState(null),[i,o]=b.useState(!0),{toast:l}=et(),c=Yt();b.useEffect(()=>{(async()=>{try{const{data:{session:x},error:h}=await W.auth.getSession();if(h)throw h;if(x){n(x.user);const{data:y,error:w}=await W.from("patients").select("*").eq("user_id",x.user.id).single();if(w&&w.code==="PGRST116"){const{data:v,error:_}=await W.from("patients").insert({user_id:x.user.id,full_name:x.user.user_metadata.full_name,phone:x.user.user_metadata.phone}).select().single();if(_)throw _;s(v)}else{if(w)throw w;s(y)}}}catch(x){l({title:"Error fetching user data",description:x.message,variant:"destructive"})}finally{o(!1)}})()},[l]);const u=r&&r.date_of_birth&&r.gender&&r.occupation&&r.address&&r.emergency_contact,d=m=>{const x=c.pathname.split("/").pop();return x===m||m==="overview"&&(x==="medical-records"||x==="")?"border-b-2 border-primary text-primary":"text-muted-foreground"};return i?a.jsx("div",{className:"p-8",children:"Loading..."}):!e||!r?a.jsx("div",{className:"p-8",children:"Please log in to view your medical records."}):a.jsxs("div",{className:"p-8",children:[!u&&a.jsxs(Y,{className:"mb-8 bg-yellow-50 border-yellow-200",children:[a.jsx(ve,{children:a.jsx(xe,{className:"text-yellow-800",children:"Complete Your Profile"})}),a.jsxs(Q,{children:[a.jsx("p",{className:"text-yellow-700 mb-4",children:"Please complete your profile to get the most out of our platform. Some features may be limited until your profile is complete."}),a.jsx(ir,{to:"/medical-records",children:a.jsx(Z,{children:"Complete Profile"})})]})]}),a.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[a.jsxs(zl,{className:"h-24 w-24",children:[a.jsx(Vl,{src:(p=e.user_metadata)==null?void 0:p.avatar_url,alt:r.full_name}),a.jsx(Wl,{children:((g=r.full_name)==null?void 0:g.charAt(0))||"U"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:r.full_name}),a.jsxs("p",{className:"text-muted-foreground",children:["ID: PAT-",String(e.id).substring(0,8).toUpperCase()]}),a.jsx(Z,{variant:"outline",size:"sm",className:"mt-2",children:"Change Picture"})]})]}),a.jsxs("div",{className:"flex border-b mb-8 overflow-x-auto",children:[a.jsx(ir,{to:"/medical-records",className:`px-4 py-2 whitespace-nowrap ${d("overview")}`,children:"Overview"}),a.jsx(ir,{to:"/medical-records/history",className:`px-4 py-2 whitespace-nowrap ${d("history")}`,children:"Medical History"}),a.jsx(ir,{to:"/medical-records/documents",className:`px-4 py-2 whitespace-nowrap ${d("documents")}`,children:"My Documents"}),a.jsx(ir,{to:"/medical-records/insurance",className:`px-4 py-2 whitespace-nowrap ${d("insurance")}`,children:"Insurance"}),a.jsx(ir,{to:"/medical-records/consultations",className:`px-4 py-2 whitespace-nowrap ${d("consultations")}`,children:"Consultations"}),a.jsx(ir,{to:"/medical-records/prescriptions",className:`px-4 py-2 whitespace-nowrap ${d("prescriptions")}`,children:"Prescriptions"}),a.jsx(ir,{to:"/medical-records/lab-results",className:`px-4 py-2 whitespace-nowrap ${d("lab-results")}`,children:"Lab Results"})]}),t]})},TU=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,i]=b.useState(!0),{toast:o}=et(),[l,c]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const{data:{session:m},error:x}=await W.auth.getSession();if(x)throw x;if(m){e(m.user);const{data:h,error:y}=await W.from("patients").select("*").eq("user_id",m.user.id).single();if(y&&y.code!=="PGRST116")throw y;r(h)}}catch(m){o({title:"Error fetching user data",description:m.message,variant:"destructive"})}finally{i(!1)}})()},[o]);const u=async g=>{g.preventDefault(),i(!0);try{const{data:m,error:x}=await W.from("patients").update(n).eq("user_id",t.id).select();if(x)throw x;r(m[0]),o({title:"Profile Updated",description:"Your information has been successfully updated."}),c(!1)}catch(m){o({title:"Update Failed",description:m.message,variant:"destructive"})}finally{i(!1)}},d=g=>{const{id:m,value:x}=g.target;r({...n,[m]:x})},p=(g,m)=>{r({...n,[g]:m})};return s?a.jsx("div",{className:"text-center p-4",children:"Loading..."}):n?a.jsxs(Y,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[a.jsx(xe,{children:"Personal Information"}),a.jsx(Z,{variant:"outline",onClick:()=>c(!l),children:l?"Cancel":"Edit"})]}),a.jsx(Q,{children:l?a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"full_name",children:"Name"}),a.jsx(ue,{id:"full_name",value:n.full_name||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"email",children:"Email"}),a.jsx(ue,{id:"email",type:"email",value:(t==null?void 0:t.email)||"",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ue,{id:"phone",value:n.phone||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"date_of_birth",children:"Date of Birth"}),a.jsx(ue,{id:"date_of_birth",type:"date",value:n.date_of_birth||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"gender",children:"Gender"}),a.jsxs(Tr,{onValueChange:g=>p("gender",g),value:n.gender||"",children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select gender"})}),a.jsxs(pr,{children:[a.jsx(lt,{value:"Male",children:"Male"}),a.jsx(lt,{value:"Female",children:"Female"}),a.jsx(lt,{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"occupation",children:"Occupation"}),a.jsx(ue,{id:"occupation",value:n.occupation||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"weight",children:"Weight (kg)"}),a.jsx(ue,{id:"weight",type:"number",value:n.weight||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"height",children:"Height (cm)"}),a.jsx(ue,{id:"height",type:"number",value:n.height||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"blood_type",children:"Blood Type"}),a.jsx(ue,{id:"blood_type",value:n.blood_type||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"marital_status",children:"Marital Status"}),a.jsx(ue,{id:"marital_status",value:n.marital_status||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"address",children:"Address"}),a.jsx(ue,{id:"address",value:n.address||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"emergency_contact",children:"Emergency Contact"}),a.jsx(ue,{id:"emergency_contact",value:n.emergency_contact||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"next_of_kin",children:"Next of Kin"}),a.jsx(ue,{id:"next_of_kin",value:n.next_of_kin||"",onChange:d})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Z,{type:"submit",disabled:s,children:s?"Saving...":"Save Changes"})})]}):a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Name:"})," ",n.full_name||"Not set"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," ",(t==null?void 0:t.email)||"Not set"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Phone Number:"})," ",n.phone||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Date of Birth:"})," ",n.date_of_birth||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Gender:"})," ",n.gender||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Occupation:"})," ",n.occupation||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Weight:"})," ",n.weight?`${n.weight} kg`:"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Height:"})," ",n.height?`${n.height} cm`:"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Blood Type:"})," ",n.blood_type||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Marital Status:"})," ",n.marital_status||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Address:"})," ",n.address||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Emergency Contact:"})," ",n.emergency_contact||"-"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Next of Kin:"})," ",n.next_of_kin||"-"]})]})})]}):a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Create Your Patient Profile"})}),a.jsxs(Q,{children:[a.jsx("p",{children:"It looks like you haven't set up your patient profile yet. Please create one to manage your medical records."}),a.jsx(Z,{className:"mt-4",onClick:()=>r({}),children:"Create Profile"})]})]})},OU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),{toast:s}=et();return b.useEffect(()=>{(async()=>{try{const{data:{session:o}}=await W.auth.getSession();if(o){const{data:l,error:c}=await W.from("medical_histories").select("*").eq("patient_id",o.user.id).order("diagnosis_date",{ascending:!1});if(c)throw c;e(l)}}catch(o){s({title:"Error fetching medical history",description:o.message,variant:"destructive"})}finally{r(!1)}})()},[s]),n?a.jsx("div",{className:"text-center p-4",children:"Loading..."}):a.jsxs(Y,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(xe,{children:"Medical History"}),a.jsx(Ft,{children:"A record of your past and present health conditions."})]}),a.jsxs(Z,{children:[a.jsx($g,{className:"mr-2 h-4 w-4"}),"Add Record"]})]}),a.jsx(Q,{children:t.length>0?a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(i=>a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{className:"text-lg",children:i.condition}),a.jsxs(Ft,{children:["Diagnosed on: ",new Date(i.diagnosis_date).toLocaleDateString()]})]}),a.jsxs(Q,{children:[i.treatment&&a.jsxs("p",{children:[a.jsx("strong",{children:"Treatment:"})," ",i.treatment]}),i.notes&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[a.jsx("strong",{children:"Notes:"})," ",i.notes]})]})]},i.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No medical history found."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Record" to start building your history.'})]})})]})},AU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),{toast:c}=et(),[u,d]=b.useState(null);b.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await W.auth.getSession();if(!y)throw new Error("User not authenticated");d(y.user);const{data:w,error:v}=await W.storage.from("medical-documents").list(y.user.id,{limit:100});if(v)throw v;e(w||[])}catch(y){c({title:"Error fetching documents",description:y.message,variant:"destructive"})}finally{r(!1)}})()},[c]);const p=h=>{h.target.files&&h.target.files.length>0&&l(h.target.files[0])},g=async()=>{if(o){i(!0);try{const h=`${u.id}/${o.name}`,{error:y}=await W.storage.from("medical-documents").upload(h,o);if(y)throw y;const{data:w,error:v}=await W.storage.from("medical-documents").list(u.id,{limit:100});if(v)throw v;e(w||[]),c({title:"Upload Successful",description:`Successfully uploaded ${o.name}.`}),l(null)}catch(h){c({title:"Upload Failed",description:h.message,variant:"destructive"})}finally{i(!1)}}},m=async h=>{try{const{data:y,error:w}=await W.storage.from("medical-documents").download(`${u.id}/${h}`);if(w)throw w;const v=new Blob([y]),_=window.URL.createObjectURL(v),k=document.createElement("a");k.href=_,k.download=h,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(_),document.body.removeChild(k)}catch(y){c({title:"Download Failed",description:y.message,variant:"destructive"})}},x=async h=>{try{const{error:y}=await W.storage.from("medical-documents").remove([`${u.id}/${h}`]);if(y)throw y;e(t.filter(w=>w.name!==h)),c({title:"Delete Successful",description:`Successfully deleted ${h}.`})}catch(y){c({title:"Delete Failed",description:y.message,variant:"destructive"})}};return a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"My Documents"}),a.jsx(Ft,{children:"Upload and manage your medical documents."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Upload New Document"}),a.jsx("div",{className:"space-y-2",children:a.jsx(ue,{id:"document-upload",type:"file",onChange:p,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})}),a.jsx(Z,{onClick:g,disabled:!o||s,children:s?"Uploading...":a.jsxs(a.Fragment,{children:[a.jsx(BO,{className:"mr-2 h-4 w-4"})," Upload Document"]})})]}),a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Uploaded Documents"}),n?a.jsx("p",{children:"Loading documents..."}):t.length>0?a.jsx("ul",{className:"space-y-2",children:t.map(h=>a.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md bg-muted",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yn,{className:"h-5 w-5 mr-3 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:h.name})]}),a.jsxs("div",{className:"space-x-2",children:[a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>m(h.name),children:a.jsx(VO,{className:"h-4 w-4"})}),a.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>x(h.name),children:a.jsx(YO,{className:"h-4 w-4"})})]})]},h.id))}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No documents found."})]})]})})]})},RU=()=>{const[t,e]=b.useState(null),[n,r]=b.useState(!0),[s,i]=b.useState(!1),{toast:o}=et(),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{try{const{data:{session:g}}=await W.auth.getSession();if(g){const{data:m,error:x}=await W.from("patients").select("id").eq("user_id",g.user.id).single();if(x)throw x;if(m){c(m.id);const{data:h,error:y}=await W.from("insurance").select("*").eq("patient_id",m.id).single();if(y&&y.code!=="PGRST116")throw y;e(h)}}}catch(g){o({title:"Error fetching insurance details",description:g.message,variant:"destructive"})}finally{r(!1)}})()},[o]);const u=async p=>{p.preventDefault(),r(!0);try{const g={...t,patient_id:l},{data:m,error:x}=await W.from("insurance").upsert(g).select();if(x)throw x;e(m[0]),o({title:"Insurance Details Updated",description:"Your information has been successfully updated."}),i(!1)}catch(g){o({title:"Update Failed",description:g.message,variant:"destructive"})}finally{r(!1)}},d=p=>{const{id:g,value:m}=p.target;e({...t,[g]:m})};return n?a.jsx("div",{className:"text-center p-4",children:"Loading..."}):a.jsxs(Y,{children:[a.jsxs(ve,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(xe,{children:"Insurance Details"}),a.jsx(Ft,{children:"Manage your insurance information."})]}),a.jsx(Z,{variant:"outline",onClick:()=>i(!s),children:s?"Cancel":t?"Edit Details":"Add Insurance"})]}),a.jsx(Q,{children:s?a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"provider",children:"Insurance Provider"}),a.jsx(ue,{id:"provider",value:(t==null?void 0:t.provider)||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"policy_number",children:"Policy Number"}),a.jsx(ue,{id:"policy_number",value:(t==null?void 0:t.policy_number)||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"group_number",children:"Group Number"}),a.jsx(ue,{id:"group_number",value:(t==null?void 0:t.group_number)||"",onChange:d})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"policy_holder_name",children:"Policy Holder's Name"}),a.jsx(ue,{id:"policy_holder_name",value:(t==null?void 0:t.policy_holder_name)||"",onChange:d})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Z,{type:"submit",disabled:n,children:n?"Saving...":"Save Details"})})]}):t?a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Provider:"})," ",t.provider]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Policy Number:"})," ",t.policy_number]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Group Number:"})," ",t.group_number||"N/A"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Policy Holder's Name:"})," ",t.policy_holder_name]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground",children:"No insurance details found."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Add Insurance" to get started.'})]})})]})},MU=()=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Consultations"}),a.jsx("p",{children:"Your consultation records will appear here."})]}),IU=()=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Prescriptions"}),a.jsx("p",{children:"Your prescription records will appear here."})]}),DU=()=>a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Lab Results"}),a.jsx("p",{children:"Your lab results will appear here."})]}),LU=()=>a.jsx(PU,{children:a.jsxs(Tj,{children:[a.jsx(_e,{index:!0,element:a.jsx(TU,{})}),a.jsx(_e,{path:"history",element:a.jsx(OU,{})}),a.jsx(_e,{path:"documents",element:a.jsx(AU,{})}),a.jsx(_e,{path:"insurance",element:a.jsx(RU,{})}),a.jsx(_e,{path:"consultations",element:a.jsx(MU,{})}),a.jsx(_e,{path:"prescriptions",element:a.jsx(IU,{})}),a.jsx(_e,{path:"lab-results",element:a.jsx(DU,{})})]})}),$U=()=>a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Laboratory Requests"}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Your Test Requests"})}),a.jsx(Q,{children:a.jsx("p",{className:"text-muted-foreground",children:"You have no pending laboratory requests."})})]})]}),FU=()=>{const[t,e]=b.useState(!1),n=tt();b.useEffect(()=>{(async()=>{const{data:{session:o}}=await W.auth.getSession();e(!!o)})()},[]);const r=()=>{n("/register")},s=[{name:"PayG (Local GP) NGN",price:"1,000",period:"Year",users:"Up to 1 Adults and up to 1 Children",features:["Pharmacy Advise","Prescription Reminder","Access Through Chat Bot","Health Education Session","Diagnostic Request"]},{name:"PayG (Local Specialist) NGN",price:"5,000",period:"Year",users:"Up to 1 Adults and up to 1 Children",features:["Prescriptions","1 Local Consultations"],popular:!0},{name:"Mega Value Plan NGN",price:"5,000",period:"Year",users:"Up to 6 Adults and up to 6 Children",features:["Pharmacy Advise","Access Through Chat Bot","Health Education Session","Diagnostic Request","Prescriptions"]}];return a.jsx("div",{className:"bg-muted/40 min-h-screen p-4 sm:p-6 md:p-10",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Affordable & Flexible Healthcare Plans"}),a.jsx("p",{className:"mt-3 text-lg text-muted-foreground",children:"Choose a plan that fits your needs and budget, from basic care to premium global access."})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(Z,{variant:"link",children:"View All Subscription History"})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((i,o)=>a.jsxs(Y,{className:`flex flex-col ${i.popular?"border-primary":""}`,children:[i.popular&&a.jsx("div",{className:"bg-primary text-primary-foreground text-sm font-semibold text-center py-1 rounded-t-lg",children:"Most Popular"}),a.jsxs(ve,{className:"items-center text-center",children:[a.jsx(xe,{className:"text-2xl",children:i.name}),a.jsx(Ft,{children:i.users}),a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("span",{className:"text-4xl font-bold tracking-tight",children:i.price}),a.jsxs("span",{className:"ml-1 text-xl font-medium text-muted-foreground",children:["/",i.period]})]})]}),a.jsxs(Q,{className:"flex flex-col flex-grow",children:[a.jsx("ul",{className:"space-y-4 mb-8 flex-grow",children:i.features.map((l,c)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(vS,{className:"h-6 w-6 text-green-500 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground",children:l})]},c))}),!t&&a.jsx(Z,{className:"w-full mt-auto",onClick:r,children:"Get started"})]})]},o))})]})})},UU=()=>a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Family Members"}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("p",{children:"Manage health records for your family members."}),a.jsx(Z,{children:"Add Family Member"})]}),a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Your Family"})}),a.jsx(Q,{children:a.jsx("p",{className:"text-muted-foreground",children:"You have not added any family members yet."})})]})]}),BU=()=>{const t=tt(),{toast:e}=et(),[n,r]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(""),[c,u]=b.useState([]),[d,p]=b.useState({fullName:"",phone:"",lga:""});b.useEffect(()=>{const{data:x}=W.auth.onAuthStateChange((h,y)=>{h==="SIGNED_IN"&&y?(i(y.user),p(w=>({...w,fullName:y.user.user_metadata.full_name||""}))):h==="SIGNED_OUT"&&t("/login")});return W.auth.getSession().then(({data:{session:h}})=>{h?(i(h.user),p(y=>({...y,fullName:h.user.user_metadata.full_name||""}))):t("/login")}),()=>{x.subscription.unsubscribe()}},[t]),b.useEffect(()=>{if(o){const x=ad.find(h=>h.state===o);u(x?x.lgas:[]),p(h=>({...h,lga:""}))}else u([])},[o]);const g=async x=>{if(x.preventDefault(),r(!0),!s){e({title:"Error",description:"You must be logged in to complete your profile.",variant:"destructive"}),r(!1);return}const{fullName:h,phone:y,lga:w}=d,v=o&&w?`${w}, ${o}`:"";if(!h||!y||!v){e({title:"Validation Error",description:"Please fill out all fields.",variant:"destructive"}),r(!1);return}try{const{error:_}=await W.from("profiles").update({full_name:h,phone:y,location:v,updated_at:new Date().toISOString()}).eq("user_id",s.id);if(_)throw _;e({title:"Profile Completed",description:"Your account is now fully set up."}),t("/dashboard")}catch(_){e({title:"Profile Completion Failed",description:_.message,variant:"destructive"})}finally{r(!1)}},m=(x,h)=>{p(y=>({...y,[x]:h}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted/20 px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx(wr,{className:"h-8 w-8 text-primary"}),a.jsx("h1",{className:"text-3xl font-bold",children:"HealthKiosk NG"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Complete your profile"})]}),a.jsxs(Y,{children:[a.jsxs(ve,{children:[a.jsx(xe,{children:"One Last Step"}),a.jsx(Ft,{children:"Please provide these details to complete your registration."})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"fullName",children:"Full Name"}),a.jsx(ue,{id:"fullName",required:!0,value:d.fullName,onChange:x=>m("fullName",x.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"phone",children:"Phone Number"}),a.jsx(ue,{id:"phone",type:"tel",required:!0,value:d.phone,onChange:x=>m("phone",x.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"state",children:"State"}),a.jsxs(Tr,{onValueChange:l,required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select a state"})}),a.jsx(pr,{children:ad.map(x=>a.jsx(lt,{value:x.state,children:x.state},x.state))})]})]}),o&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(le,{htmlFor:"lga",children:"LGA"}),a.jsxs(Tr,{value:d.lga,onValueChange:x=>m("lga",x),required:!0,children:[a.jsx(fr,{children:a.jsx(Or,{placeholder:"Select a LGA"})}),a.jsx(pr,{children:c.map(x=>a.jsx(lt,{value:x,children:x},x))})]})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?"Saving...":"Complete Profile"})]})})]})]})})};function zU(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[s,i]=b.useState(!0);return b.useEffect(()=>{(async()=>{i(!0);const{data:{session:c},error:u}=await W.auth.getSession();if(u){console.error("Error fetching session:",u),i(!1);return}if(e((c==null?void 0:c.user)??null),c!=null&&c.user){const{data:d,error:p}=await W.from("profiles").select("role").eq("user_id",c.user.id).single();p?console.error("Error fetching user role:",p):r((d==null?void 0:d.role)||null)}i(!1)})();const{data:{subscription:l}}=W.auth.onAuthStateChange(async(c,u)=>{if(e((u==null?void 0:u.user)??null),u!=null&&u.user){const{data:d,error:p}=await W.from("profiles").select("role").eq("user_id",u.user.id).single();p?(console.error("Error on auth state change:",p),r(null)):r((d==null?void 0:d.role)||null)}else r(null);i(!1)});return()=>{l.unsubscribe()}},[]),{user:t,role:n,loading:s}}const VU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),{user:s}=zU();return b.useEffect(()=>{(async()=>{if(!s){r(!1);return}try{r(!0);const{data:o,error:l}=await W.from("medical_records").select("*").eq("user_id",s.id).order("record_date",{ascending:!1});if(l)throw l;e(o||[])}catch(o){o instanceof Error&&console.error("Error fetching medical records:",o.message)}finally{r(!1)}})()},[s]),{records:t,loading:n}},WU=()=>{var T;const t=tt(),{user:e,profile:n,loading:r,refreshProfile:s}=gC(),{records:i,loading:o}=VU(),{toast:l}=et(),[c,u]=b.useState(!1),[d,p]=b.useState(""),[g,m]=b.useState(""),[x,h]=b.useState(""),[y,w]=b.useState(null),[v,_]=b.useState(!1);b.useEffect(()=>{n&&(p(n.full_name||""),m(n.phone||""),h(n.location||""),w(n.avatar_url||null))},[n]);const k=async()=>{await W.auth.signOut(),t("/login")},E=async()=>{if(e)try{const{error:O}=await W.from("profiles").upsert({id:e.id,full_name:d,phone:g,location:x,updated_at:new Date().toISOString()});if(O)throw O;l({description:"Profile updated successfully."}),u(!1),s()}catch(O){l({variant:"destructive",description:O.message})}},N=async O=>{if(!O.target.files||O.target.files.length===0||!e)return;const F=O.target.files[0],R=F.name.split(".").pop(),M=`avatars/${`${e.id}.${R}`}`;_(!0);try{const{error:H}=await W.storage.from("avatars").upload(M,F,{upsert:!0});if(H)throw H;const{data:{publicUrl:D}}=W.storage.from("avatars").getPublicUrl(M),{error:G}=await W.from("profiles").upsert({id:e.id,avatar_url:D});if(G)throw G;w(D),s(),l({description:"Avatar updated successfully."})}catch(H){l({variant:"destructive",description:H.message})}finally{_(!1)}};return r?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[a.jsx(Y,{className:"border-0 shadow-none",children:a.jsxs(Q,{className:"flex flex-col items-center text-center gap-2 pt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(zl,{className:"h-24 w-24",children:[a.jsx(Vl,{src:y??""}),a.jsx(Wl,{children:(T=n==null?void 0:n.full_name)==null?void 0:T.charAt(0)})]}),c&&a.jsxs("div",{className:"absolute bottom-0 right-0",children:[a.jsx(le,{htmlFor:"avatar-upload",className:"cursor-pointer bg-primary text-primary-foreground rounded-full p-2 inline-block",children:a.jsx(ZO,{className:"h-4 w-4"})}),a.jsx(ue,{id:"avatar-upload",type:"file",className:"hidden",onChange:N,disabled:v,accept:"image/*"})]})]}),a.jsx("h1",{className:"text-lg font-semibold",children:n==null?void 0:n.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email}),a.jsxs(Z,{variant:c?"default":"outline",size:"sm",className:"mt-2",onClick:()=>u(!c),children:[a.jsx(KO,{className:"mr-2 h-4 w-4"}),c?"Cancel":"Edit Profile"]})]})}),c?a.jsxs(Y,{className:"border shadow-none",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Edit Information"})}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(le,{htmlFor:"fullName",children:"Full Name"}),a.jsx(ue,{id:"fullName",value:d,onChange:O=>p(O.target.value)})]}),a.jsxs("div",{children:[a.jsx(le,{htmlFor:"phone",children:"Phone"}),a.jsx(ue,{id:"phone",value:g,onChange:O=>m(O.target.value)})]}),a.jsxs("div",{children:[a.jsx(le,{htmlFor:"location",children:"Location"}),a.jsx(ue,{id:"location",value:x,onChange:O=>h(O.target.value)})]}),a.jsx(Z,{onClick:E,className:"w-full",children:"Save Changes"})]})]}):a.jsxs(Y,{className:"border shadow-none",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Personal Information"})}),a.jsxs(Q,{className:"text-sm space-y-2",children:[a.jsxs("div",{className:"flex justify-between gap-4 py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Full Name"}),a.jsx("span",{className:"text-right",children:(n==null?void 0:n.full_name)??"Not provided"})]}),a.jsxs("div",{className:"flex justify-between gap-4 py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Email"}),a.jsx("span",{className:"text-right",children:(e==null?void 0:e.email)??"Not provided"})]}),a.jsxs("div",{className:"flex justify-between gap-4 py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Phone"}),a.jsx("span",{className:"text-right",children:(n==null?void 0:n.phone)??"Not provided"})]}),a.jsxs("div",{className:"flex justify-between gap-4 py-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Location"}),a.jsx("span",{className:"text-right",children:(n==null?void 0:n.location)??"Not provided"})]})]})]}),a.jsxs(Y,{className:"border shadow-none",children:[a.jsx(ve,{children:a.jsx(xe,{children:"Medical Records"})}),a.jsx(Q,{children:o?a.jsx("p",{children:"Loading records..."}):i.length>0?a.jsx("div",{className:"space-y-2",children:i.map(O=>a.jsxs(Z,{variant:"ghost",className:"w-full justify-between h-auto py-3",children:[a.jsxs("div",{className:"flex items-center text-left",children:[a.jsx(Yn,{className:"mr-3 h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"flex-grow",children:O.title})]}),a.jsx(FO,{className:"h-5 w-5 text-muted-foreground"})]},O.id))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No medical records found."})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(Z,{variant:"destructive",className:"w-full",onClick:k,children:[a.jsx(HO,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})})},HU=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),s=tt(),{toast:i}=et();b.useEffect(()=>{(async()=>{const{data:u,error:d}=await W.from("consultations").select(`
          id,
          status,
          patients(full_name, date_of_birth)
        `).eq("status","escalated");d?console.error("Error fetching consultations:",d):u&&e(u),r(!1)})();const c=W.channel("public:consultations").on("postgres_changes",{event:"INSERT",schema:"public",table:"consultations",filter:"status=eq.escalated"},u=>{var p;const d=u.new;e(g=>[...g,d]),i({title:"New Patient Waiting",description:`${(p=d.patients)==null?void 0:p.full_name} is waiting for a consultation.`})}).subscribe();return()=>{c.unsubscribe()}},[i]);const o=l=>{s(`/consultation?consultation_id=${l}`)};return a.jsx("div",{className:"min-h-screen bg-muted/40 p-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(Y,{children:[a.jsx(ve,{children:a.jsx(xe,{children:"Waiting Patients"})}),a.jsx(Q,{children:n?a.jsx("p",{children:"Loading..."}):t.length===0?a.jsx("p",{children:"No patients are currently waiting."}):a.jsx("ul",{className:"space-y-4",children:t.map(l=>{var c,u;return a.jsxs("li",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:(c=l.patients)==null?void 0:c.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["DOB: ",(u=l.patients)!=null&&u.date_of_birth?new Date(l.patients.date_of_birth).toLocaleDateString():"N/A"]})]}),a.jsx(Z,{onClick:()=>o(l.id),children:"Join"})]},l.id)})})})]})})})},qU=()=>a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),a.jsx("p",{children:"This is a placeholder for the Privacy Policy page."})]}),KU=()=>a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Health Disclaimer"}),a.jsx("p",{children:"This is a placeholder for the Health Disclaimer page."})]}),GU=()=>a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),a.jsx("p",{children:"This is a placeholder for the Contact Us page."})]});function S0(t,e){if(t==null)return{};var n,r,s=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}function vC(t){var e=function(n,r){if(Ne(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ne(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return Ne(e)=="symbol"?e:e+""}function j0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vC(r.key),r)}}function pn(t,e,n){return e&&j0(t.prototype,e),n&&j0(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oh(t,e){if(e&&(Ne(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(t)}function Nl(t,e){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Nl(t,e)}function ah(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nl(t,e)}function dr(t,e,n){return(e=vC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k0(t,e,n,r,s,i,o){try{var l=t[i](o),c=l.value}catch(u){return void n(u)}l.done?e(c):Promise.resolve(c).then(r,s)}function pe(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(c){k0(i,r,s,o,l,"next",c)}function l(c){k0(i,r,s,o,l,"throw",c)}o(void 0)})}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Nt(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,l,c,u=[],d=!0,p=!1;try{if(l=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(g){p=!0,o=g}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(p)throw o}}return u}}(t,e)||function(n,r){if(n){if(typeof n=="string")return E0(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?E0(n,r):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function JU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C0,Rc={exports:{}},gm=function(){if(C0)return Rc.exports;C0=1;var t,e=typeof Reflect=="object"?Reflect:null,n=e&&typeof e.apply=="function"?e.apply:function(h,y,w){return Function.prototype.apply.call(h,y,w)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:function(h){return Object.getOwnPropertyNames(h)};var r=Number.isNaN||function(h){return h!=h};function s(){s.init.call(this)}Rc.exports=s,Rc.exports.once=function(h,y){return new Promise(function(w,v){function _(E){h.removeListener(y,k),v(E)}function k(){typeof h.removeListener=="function"&&h.removeListener("error",_),w([].slice.call(arguments))}x(h,y,k,{once:!0}),y!=="error"&&function(E,N,T){typeof E.on=="function"&&x(E,"error",N,T)}(h,_,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}function l(h){return h._maxListeners===void 0?s.defaultMaxListeners:h._maxListeners}function c(h,y,w,v){var _,k,E,N;if(o(w),(k=h._events)===void 0?(k=h._events=Object.create(null),h._eventsCount=0):(k.newListener!==void 0&&(h.emit("newListener",y,w.listener?w.listener:w),k=h._events),E=k[y]),E===void 0)E=k[y]=w,++h._eventsCount;else if(typeof E=="function"?E=k[y]=v?[w,E]:[E,w]:v?E.unshift(w):E.push(w),(_=l(h))>0&&E.length>_&&!E.warned){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=h,T.type=y,T.count=E.length,N=T,console&&console.warn&&console.warn(N)}return h}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(h,y,w){var v={fired:!1,wrapFn:void 0,target:h,type:y,listener:w},_=u.bind(v);return _.listener=w,v.wrapFn=_,_}function p(h,y,w){var v=h._events;if(v===void 0)return[];var _=v[y];return _===void 0?[]:typeof _=="function"?w?[_.listener||_]:[_]:w?function(k){for(var E=new Array(k.length),N=0;N<E.length;++N)E[N]=k[N].listener||k[N];return E}(_):m(_,_.length)}function g(h){var y=this._events;if(y!==void 0){var w=y[h];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}function m(h,y){for(var w=new Array(y),v=0;v<y;++v)w[v]=h[v];return w}function x(h,y,w,v){if(typeof h.on=="function")v.once?h.once(y,w):h.on(y,w);else{if(typeof h.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h);h.addEventListener(y,function _(k){v.once&&h.removeEventListener(y,_),w(k)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(h){if(typeof h!="number"||h<0||r(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");i=h}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(h){if(typeof h!="number"||h<0||r(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(h){for(var y=[],w=1;w<arguments.length;w++)y.push(arguments[w]);var v=h==="error",_=this._events;if(_!==void 0)v=v&&_.error===void 0;else if(!v)return!1;if(v){var k;if(y.length>0&&(k=y[0]),k instanceof Error)throw k;var E=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw E.context=k,E}var N=_[h];if(N===void 0)return!1;if(typeof N=="function")n(N,this,y);else{var T=N.length,O=m(N,T);for(w=0;w<T;++w)n(O[w],this,y)}return!0},s.prototype.addListener=function(h,y){return c(this,h,y,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(h,y){return c(this,h,y,!0)},s.prototype.once=function(h,y){return o(y),this.on(h,d(this,h,y)),this},s.prototype.prependOnceListener=function(h,y){return o(y),this.prependListener(h,d(this,h,y)),this},s.prototype.removeListener=function(h,y){var w,v,_,k,E;if(o(y),(v=this._events)===void 0)return this;if((w=v[h])===void 0)return this;if(w===y||w.listener===y)--this._eventsCount==0?this._events=Object.create(null):(delete v[h],v.removeListener&&this.emit("removeListener",h,w.listener||y));else if(typeof w!="function"){for(_=-1,k=w.length-1;k>=0;k--)if(w[k]===y||w[k].listener===y){E=w[k].listener,_=k;break}if(_<0)return this;_===0?w.shift():function(N,T){for(;T+1<N.length;T++)N[T]=N[T+1];N.pop()}(w,_),w.length===1&&(v[h]=w[0]),v.removeListener!==void 0&&this.emit("removeListener",h,E||y)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(h){var y,w,v;if((w=this._events)===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[h]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete w[h]),this;if(arguments.length===0){var _,k=Object.keys(w);for(v=0;v<k.length;++v)(_=k[v])!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(y=w[h])=="function")this.removeListener(h,y);else if(y!==void 0)for(v=y.length-1;v>=0;v--)this.removeListener(h,y[v]);return this},s.prototype.listeners=function(h){return p(this,h,!0)},s.prototype.rawListeners=function(h){return p(this,h,!1)},s.listenerCount=function(h,y){return typeof h.listenerCount=="function"?h.listenerCount(y):g.call(h,y)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]},Rc.exports}(),Mc=JU(gm),N0=Object.prototype.hasOwnProperty;function P0(t,e,n){for(n of t.keys())if(Mt(n,e))return n}function Mt(t,e){var n,r,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Mt(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if((s=r)&&typeof s=="object"&&!(s=P0(e,s))||!e.has(s))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if((s=r[0])&&typeof s=="object"&&!(s=P0(e,s))||!Mt(r[1],e.get(s)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){for(n in r=0,t)if(N0.call(t,n)&&++r&&!N0.call(e,n)||!(n in e)||!Mt(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!=t&&e!=e}const QU={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},yC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},nt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ot={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},os={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class z{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const s=z.getVersionPrecision(e),i=z.getVersionPrecision(n);let o=Math.max(s,i),l=0;const c=z.map([e,n],u=>{const d=o-z.getVersionPrecision(u),p=u+new Array(d+1).join(".0");return z.map(p.split("."),g=>new Array(20-g.length).join("0")+g).reverse()});for(r&&(l=o-Math.min(s,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(s=0;s<e.length;s+=1)r.push(n(e[s]));return r}static find(e,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,s=e.length;r<s;r+=1){const i=e[r];if(n(i,r))return i}}static assign(e,...n){const r=e;let s,i;if(Object.assign)return Object.assign(e,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return e}static getBrowserAlias(e){return QU[e]}static getBrowserTypeByAlias(e){return yC[e]||""}}const Me=/version\/(\d+(\.?_?\d+)+)/i,YU=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=z.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=z.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=z.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=z.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=z.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=z.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=z.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=z.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=z.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=z.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=z.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=z.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=z.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=z.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=z.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=z.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=z.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=z.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=z.getFirstMatch(Me,t)||z.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=z.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=z.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=z.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=z.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=z.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=z.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=z.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=z.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=z.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=z.getFirstMatch(Me,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=t.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:z.getFirstMatch(e,t),version:z.getSecondMatch(e,t)}}}];var XU=[{test:[/Roku\/DVP/],describe(t){const e=z.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Ot.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=z.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Ot.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=z.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=z.getWindowsVersionName(e);return{name:Ot.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Ot.iOS},n=z.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=z.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=z.getMacOSVersionName(e),r={name:Ot.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=z.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Ot.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=z.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=z.getAndroidVersionName(e),r={name:Ot.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=z.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Ot.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=z.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||z.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||z.getFirstMatch(/\bbb(\d+)/i,t);return{name:Ot.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=z.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Ot.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=z.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Ot.Tizen,version:e}}},{test:[/linux/i],describe:()=>({name:Ot.Linux})},{test:[/CrOS/],describe:()=>({name:Ot.ChromeOS})},{test:[/PlayStation 4/],describe(t){const e=z.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Ot.PlayStation4,version:e}}}],ZU=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){const e=z.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:nt.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:nt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:nt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:nt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:nt.tablet})},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=z.getFirstMatch(/(ipod|iphone)/i,t);return{type:nt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:nt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:nt.mobile})},{test:t=>t.getBrowserName(!0)==="blackberry",describe:()=>({type:nt.mobile,vendor:"BlackBerry"})},{test:t=>t.getBrowserName(!0)==="bada",describe:()=>({type:nt.mobile})},{test:t=>t.getBrowserName()==="windows phone",describe:()=>({type:nt.mobile,vendor:"Microsoft"})},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe:()=>({type:nt.tablet})},{test:t=>t.getOSName(!0)==="android",describe:()=>({type:nt.mobile})},{test:t=>t.getOSName(!0)==="macos",describe:()=>({type:nt.desktop,vendor:"Apple"})},{test:t=>t.getOSName(!0)==="windows",describe:()=>({type:nt.desktop})},{test:t=>t.getOSName(!0)==="linux",describe:()=>({type:nt.desktop})},{test:t=>t.getOSName(!0)==="playstation 4",describe:()=>({type:nt.tv})},{test:t=>t.getOSName(!0)==="roku",describe:()=>({type:nt.tv})}],e3=[{test:t=>t.getBrowserName(!0)==="microsoft edge",describe(t){if(/\sedg\//i.test(t))return{name:os.Blink};const e=z.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:os.EdgeHTML,version:e}}},{test:[/trident/i],describe(t){const e={name:os.Trident},n=z.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:t=>t.test(/presto/i),describe(t){const e={name:os.Presto},n=z.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:os.Gecko},n=z.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:os.Blink})},{test:[/(apple)?webkit/i],describe(t){const e={name:os.WebKit},n=z.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class T0{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=z.find(YU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=z.find(XU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=z.find(ZU,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=z.find(e3,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return z.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const s={};let i=0;if(Object.keys(e).forEach(o=>{const l=e[o];typeof l=="string"?(s[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=z.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=z.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(s),l=z.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=z.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(e){let n=[0],r=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(s=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(s=!0,r=e.substr(1)),n.indexOf(z.compareVersions(i,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class t3{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new T0(e,n)}static parse(e){return new T0(e).getResult()}static get BROWSER_MAP(){return yC}static get ENGINE_MAP(){return os}static get OS_MAP(){return Ot}static get PLATFORMS_MAP(){return nt}}function lh(){return Date.now()+Math.random().toString()}function Pa(){throw new Error("Method must be implemented in subclass")}function wC(t,e){return e!=null&&e.proxyUrl?e.proxyUrl+(e.proxyUrl.slice(-1)==="/"?"":"/")+t.substring(8):t}function ld(t){return t!=null&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:wC("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),t)}function cd(t){try{new URL(t)}catch{return!1}return!0}const $e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xi="8.55.0",Oe=globalThis;function ud(t,e,n){const r=Oe,s=r.__SENTRY__=r.__SENTRY__||{},i=s[xi]=s[xi]||{};return i[t]||(i[t]=e())}const Bi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vm=["debug","info","warn","error","log","assert","trace"],dd={};function Hl(t){if(!("console"in Oe))return t();const e=Oe.console,n={},r=Object.keys(dd);r.forEach(s=>{const i=dd[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}const ge=ud("logger",function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Bi?vm.forEach(n=>{e[n]=(...r)=>{t&&Hl(()=>{Oe.console[n](`Sentry Logger [${n}]:`,...r)})}}):vm.forEach(n=>{e[n]=()=>{}}),e}),ui="?",O0=/\(error: (.*)\)/,A0=/captureMessage|captureException/;function Ic(t){return t[t.length-1]||{}}const R0="<anonymous>";function Is(t){try{return t&&typeof t=="function"&&t.name||R0}catch{return R0}}function M0(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const fu={},I0={};function bi(t,e){fu[t]=fu[t]||[],fu[t].push(e)}function _i(t,e){if(!I0[t]){I0[t]=!0;try{e()}catch(n){Bi&&ge.error(`Error while instrumenting ${t}`,n)}}}function Jn(t,e){const n=t&&fu[t];if(n)for(const r of n)try{r(e)}catch(s){Bi&&ge.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Is(r)}
Error:`,s)}}let wf=null;function n3(){wf=Oe.onerror,Oe.onerror=function(t,e,n,r,s){return Jn("error",{column:r,error:s,line:n,msg:t,url:e}),!!wf&&wf.apply(this,arguments)},Oe.onerror.__SENTRY_INSTRUMENTED__=!0}let xf=null;function r3(){xf=Oe.onunhandledrejection,Oe.onunhandledrejection=function(t){return Jn("unhandledrejection",t),!xf||xf.apply(this,arguments)},Oe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ch(){return xv(Oe),Oe}function xv(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||xi,e[xi]=e[xi]||{}}const xC=Object.prototype.toString;function bv(t){switch(xC.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ai(t,Error)}}function ga(t,e){return xC.call(t)===`[object ${e}]`}function bC(t){return ga(t,"ErrorEvent")}function D0(t){return ga(t,"DOMError")}function Mr(t){return ga(t,"String")}function _v(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function ym(t){return t===null||_v(t)||typeof t!="object"&&typeof t!="function"}function ea(t){return ga(t,"Object")}function uh(t){return typeof Event<"u"&&Ai(t,Event)}function dh(t){return!!(t&&t.then&&typeof t.then=="function")}function Ai(t,e){try{return t instanceof e}catch{return!1}}function _C(t){return!(typeof t!="object"||t===null||!t.__isVue&&!t._isVue)}const Sv=Oe;function SC(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=s3(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=p));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function s3(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(Sv.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e&&e.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Mr(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Po(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function L0(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{_C(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function i3(t,e,n=!1){return!!Mr(t)&&(ga(e,"RegExp")?e.test(t):!!Mr(e)&&(n?t===e:t.includes(e)))}function Dc(t,e=[],n=!1){return e.some(r=>i3(t,r,n))}function an(t,e,n){if(!(e in t))return;const r=t[e],s=n(r);typeof s=="function"&&jC(s,r);try{t[e]=s}catch{Bi&&ge.log(`Failed to replace method "${e}" in object`,t)}}function Ri(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Bi&&ge.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function jC(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Ri(t,"__sentry_original__",e)}catch{}}function jv(t){return t.__sentry_original__}function kC(t){if(bv(t))return{message:t.message,name:t.name,stack:t.stack,...F0(t)};if(uh(t)){const e={type:t.type,target:$0(t.target),currentTarget:$0(t.currentTarget),...F0(t)};return typeof CustomEvent<"u"&&Ai(t,CustomEvent)&&(e.detail=t.detail),e}return t}function $0(t){try{return e=t,typeof Element<"u"&&Ai(e,Element)?SC(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function F0(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Sn(t){return wm(t,new Map)}function wm(t,e){if(function(n){if(!ea(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const s of Object.getOwnPropertyNames(t))t[s]!==void 0&&(r[s]=wm(t[s],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(s=>{r.push(wm(s,e))}),r}return t}function ql(){return Date.now()/1e3}const Lr=function(){const{performance:t}=Oe;if(!t||!t.now)return ql;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/1e3}();function kn(){const t=Oe,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function EC(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function cs(t){const{message:e,event_id:n}=t;if(e)return e;const r=EC(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function xm(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function ta(t,e){const n=EC(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const s={...r&&r.data,...e.data};n.mechanism.data=s}}function U0(t){if(function(e){try{return e.__sentry_captured__}catch{}}(t))return!0;try{Ri(t,"__sentry_captured__",!0)}catch{}return!1}var Er;function Mi(t){return new xn(e=>{e(t)})}function hd(t){return new xn((e,n)=>{n(t)})}(()=>{const{performance:t}=Oe;if(!t||!t.now)return;const e=36e5,n=t.now(),r=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=s<e,o=t.timing&&t.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):e;(i||l<e)&&s<=l&&t.timeOrigin})(),function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(Er||(Er={}));class xn{constructor(e){xn.prototype.__init.call(this),xn.prototype.__init2.call(this),xn.prototype.__init3.call(this),xn.prototype.__init4.call(this),this._state=Er.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new xn((r,s)=>{this._handlers.push([!1,i=>{if(e)try{r(e(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new xn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,e&&e()},o=>{i=!0,s=o,e&&e()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=e=>{this._setResult(Er.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Er.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{this._state===Er.PENDING&&(dh(n)?n.then(this._resolve,this._reject):(this._state=e,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Er.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Er.RESOLVED&&n[1](this._value),this._state===Er.REJECTED&&n[2](this._value),n[0]=!0)})}}}function o3(t){const e=Lr(),n={sid:kn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Sn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return t&&na(n,t),n}function na(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Lr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:kn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function B0(){return kn()}function bm(){return kn().substring(16)}function hh(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=hh(r[s],e[s],n-1));return r}const _m="_sentrySpan";function z0(t,e){e?Ri(t,_m,e):delete t[_m]}function V0(t){return t[_m]}class kv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:B0(),spanId:bm()}}clone(){const e=new kv;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,z0(e,V0(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&na(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,s]=n instanceof Ds?[n.getScopeData(),n.getRequestSession()]:ea(n)?[e,e.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:p}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),p&&(this._propagationContext=p),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,z0(this,void 0),this._attachments=[],this.setPropagationContext({traceId:B0()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:ql(),...e};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:V0(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=hh(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:bm(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:kn();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r&&r.event_id?r.event_id:kn();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n&&n.event_id?n.event_id:kn();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ds=kv;class a3{constructor(e,n){let r,s;r=e||new Ds,s=n||new Ds,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return dh(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ra(){const t=xv(ch());return t.stack=t.stack||new a3(ud("defaultCurrentScope",()=>new Ds),ud("defaultIsolationScope",()=>new Ds))}function l3(t){return ra().withScope(t)}function c3(t,e){const n=ra();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function W0(t){return ra().withScope(()=>t(ra().getIsolationScope()))}function Ev(t){const e=xv(t);return e.acs?e.acs:{withIsolationScope:W0,withScope:l3,withSetScope:c3,withSetIsolationScope:(n,r)=>W0(r),getCurrentScope:()=>ra().getScope(),getIsolationScope:()=>ra().getIsolationScope()}}function zi(){return Ev(ch()).getCurrentScope()}function Kl(){return Ev(ch()).getIsolationScope()}function Ct(){return zi().getClient()}function u3(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=e;return Sn({trace_id:n,span_id:r,parent_span_id:s})}function d3(t){const e=t._sentryMetrics;if(!e)return;const n={};for(const[,[r,s]]of e)(n[r]||(n[r]=[])).push(Sn(s));return n}const h3=/^sentry-/;function f3(t){const e=function(r){if(!(!r||!Mr(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=H0(i);return Object.entries(o).forEach(([l,c])=>{s[l]=c}),s},{}):H0(r)}(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,i])=>(s.match(h3)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function H0(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}let q0=!1;function p3(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext();return Sn({parent_span_id:r?e:Cv(t).parent_span_id,span_id:r?bm():e,trace_id:n})}function K0(t){return typeof t=="number"?G0(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?G0(t.getTime()):Lr()}function G0(t){return t>9999999999?t/1e3:t}function Cv(t){if(function(e){return typeof e.getSpanJSON=="function"}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(t)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:l,status:c}=t;return Sn({span_id:e,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:K0(s),timestamp:K0(o)||void 0,status:m3(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:d3(t)})}return{span_id:e,trace_id:n}}catch{return{}}}function m3(t){if(t&&t.code!==0)return t.code===1?"ok":t.message||"unknown_error"}function CC(t){return t._sentryRootSpan||t}function g3(){q0||(Hl(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),q0=!0)}const Nv="production";function NC(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s=Sn({environment:n.environment||Nv,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",s),s}function v3(t){const e=Ct();if(!e)return{};const n=CC(t),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&f3(i);if(o)return o;const l=NC(t.spanContext().traceId,e),c=Cv(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const p=u["sentry.source"],g=c.description;return p!=="url"&&g&&(l.transaction=g),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const x=Ct(),h=x&&x.getOptions();return!!h&&(h.enableTracing||"tracesSampleRate"in h||"tracesSampler"in h)}()&&(l.sampled=String(function(m){const{traceFlags:x}=m.spanContext();return x===1}(n))),e.emit("createDsc",l,n),l}const y3=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function fd(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:l,publicKey:c}=t;return`${l}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function J0(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function w3(t){const e=typeof t=="string"?function(n){const r=y3.exec(n);if(!r)return void Hl(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",l="",c="",u=""]=r.slice(1);let d="",p=u;const g=p.split("/");if(g.length>1&&(d=g.slice(0,-1).join("/"),p=g.pop()),p){const m=p.match(/^\d+/);m&&(p=m[0])}return J0({host:l,pass:o,path:d,projectId:p,port:c,protocol:s,publicKey:i})}(t):J0(t);if(e&&function(n){if(!Bi)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ge.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ge.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(e))return e}function Cr(t,e=100,n=1/0){try{return Sm("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function PC(t,e=3,n=102400){const r=Cr(t,e);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?PC(t,e-1,n):r;var s}function Sm(t,e,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=function(m,x){try{if(m==="domain"&&x&&typeof x=="object"&&x._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&x===global)return"[Global]";if(typeof window<"u"&&x===window)return"[Window]";if(typeof document<"u"&&x===document)return"[Document]";if(_C(x))return"[VueViewModel]";if(ea(h=x)&&"nativeEvent"in h&&"preventDefault"in h&&"stopPropagation"in h)return"[SyntheticEvent]";if(typeof x=="number"&&!Number.isFinite(x))return`[${x}]`;if(typeof x=="function")return`[Function: ${Is(x)}]`;if(typeof x=="symbol")return`[${String(x)}]`;if(typeof x=="bigint")return`[BigInt: ${String(x)}]`;const y=function(w){const v=Object.getPrototypeOf(w);return v?v.constructor.name:"null prototype"}(x);return/^HTML(\w*)Element$/.test(y)?`[HTMLElement: ${y}]`:`[object ${y}]`}catch(y){return`**non-serializable** (${y})`}var h}(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{return Sm("",u.toJSON(),c-1,r,s)}catch{}const d=Array.isArray(e)?[]:{};let p=0;const g=kC(e);for(const m in g){if(!Object.prototype.hasOwnProperty.call(g,m))continue;if(p>=r){d[m]="[MaxProperties ~]";break}const x=g[m];d[m]=Sm(m,x,c-1,r,s),p++}return o(e),d}function Pl(t,e=[]){return[t,e]}function x3(t,e){const[n,r]=t;return[n,[...r,e]]}function Q0(t,e){const n=t[1];for(const r of n)if(e(r,r[0].type))return!0;return!1}function jm(t){return Oe.__SENTRY__&&Oe.__SENTRY__.encodePolyfill?Oe.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function b3(t){const[e,n]=t;let r=JSON.stringify(e);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[jm(r),i]:r.push(typeof i=="string"?jm(i):i)}for(const i of n){const[o,l]=i;if(s(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Cr(l))}s(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function _3(t){const e=typeof t.data=="string"?jm(t.data):t.data;return[Sn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const S3={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Y0(t){return S3[t]}function TC(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function j3(t,e,n,r){const s=TC(n),i=t.type&&t.type!=="replay_event"?t.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(t,n&&n.sdk);const o=function(l,c,u,d){const p=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:fd(d)},...p&&{trace:Sn({...p})}}}(t,s,r,e);return delete t.sdkProcessingMetadata,Pl(o,[[{type:i},t]])}function km(t,e,n,r=0){return new xn((s,i)=>{const o=t[r];if(e===null||typeof o!="function")s(e);else{const l=o({...e},n);$e&&o.id&&l===null&&ge.log(`Event processor "${o.id}" dropped event`),dh(l)?l.then(c=>km(t,c,n,r+1).then(s)).then(null,i):km(t,l,n,r+1).then(s).then(null,i)}})}let Lc,X0,bf;function k3(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;(function(o,l){const{extra:c,tags:u,user:d,contexts:p,level:g,transactionName:m}=l,x=Sn(c);x&&Object.keys(x).length&&(o.extra={...x,...o.extra});const h=Sn(u);h&&Object.keys(h).length&&(o.tags={...h,...o.tags});const y=Sn(d);y&&Object.keys(y).length&&(o.user={...y,...o.user});const w=Sn(p);w&&Object.keys(w).length&&(o.contexts={...w,...o.contexts}),g&&(o.level=g),m&&o.type!=="transaction"&&(o.transaction=m)})(t,e),r&&function(o,l){o.contexts={trace:p3(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:v3(l),...o.sdkProcessingMetadata};const c=CC(l),u=Cv(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(t,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(t,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(t,s),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(t,i)}function Z0(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:p,propagationContext:g,transactionName:m,span:x}=e;$c(t,"extra",n),$c(t,"tags",r),$c(t,"user",s),$c(t,"contexts",i),t.sdkProcessingMetadata=hh(t.sdkProcessingMetadata,l,2),o&&(t.level=o),m&&(t.transactionName=m),x&&(t.span=x),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),d.length&&(t.eventProcessors=[...t.eventProcessors,...d]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...g}}function $c(t,e,n){t[e]=hh(t[e],n,1)}function E3(t,e,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=t,c={...e,event_id:e.event_id||n.event_id||kn(),timestamp:e.timestamp||ql()},u=n.integrations||t.integrations.map(x=>x.name);(function(x,h){const{environment:y,release:w,dist:v,maxValueLength:_=250}=h;x.environment=x.environment||y||Nv,!x.release&&w&&(x.release=w),!x.dist&&v&&(x.dist=v),x.message&&(x.message=Po(x.message,_));const k=x.exception&&x.exception.values&&x.exception.values[0];k&&k.value&&(k.value=Po(k.value,_));const E=x.request;E&&E.url&&(E.url=Po(E.url,_))})(c,t),function(x,h){h.length>0&&(x.sdk=x.sdk||{},x.sdk.integrations=[...x.sdk.integrations||[],...h])}(c,u),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&function(x,h){const y=function(w){const v=Oe._sentryDebugIds;if(!v)return{};const _=Object.keys(v);return bf&&_.length===X0||(X0=_.length,bf=_.reduce((k,E)=>{Lc||(Lc={});const N=Lc[E];if(N)k[N[0]]=N[1];else{const T=w(E);for(let O=T.length-1;O>=0;O--){const F=T[O],R=F&&F.filename,K=v[E];if(R&&K){k[R]=K,Lc[E]=[R,K];break}}}return k},{})),bf}(h);try{x.exception.values.forEach(w=>{w.stacktrace.frames.forEach(v=>{y&&v.filename&&(v.debug_id=y[v.filename])})})}catch{}}(c,t.stackParser);const d=function(x,h){if(!h)return x;const y=x?x.clone():new Ds;return y.update(h),y}(r,n.captureContext);n.mechanism&&ta(c,n.mechanism);const p=s?s.getEventProcessors():[],g=ud("globalScope",()=>new Ds).getScopeData();i&&Z0(g,i.getScopeData()),d&&Z0(g,d.getScopeData());const m=[...n.attachments||[],...g.attachments];return m.length&&(n.attachments=m),k3(c,g),km([...p,...g.eventProcessors],c,n).then(x=>(x&&function(h){const y={};try{h.exception.values.forEach(v=>{v.stacktrace.frames.forEach(_=>{_.debug_id&&(_.abs_path?y[_.abs_path]=_.debug_id:_.filename&&(y[_.filename]=_.debug_id),delete _.debug_id)})})}catch{}if(Object.keys(y).length===0)return;h.debug_meta=h.debug_meta||{},h.debug_meta.images=h.debug_meta.images||[];const w=h.debug_meta.images;Object.entries(y).forEach(([v,_])=>{w.push({type:"sourcemap",code_file:v,debug_id:_})})}(x),typeof o=="number"&&o>0?function(h,y,w){if(!h)return null;const v={...h,...h.breadcrumbs&&{breadcrumbs:h.breadcrumbs.map(_=>({..._,..._.data&&{data:Cr(_.data,y,w)}}))},...h.user&&{user:Cr(h.user,y,w)},...h.contexts&&{contexts:Cr(h.contexts,y,w)},...h.extra&&{extra:Cr(h.extra,y,w)}};return h.contexts&&h.contexts.trace&&v.contexts&&(v.contexts.trace=h.contexts.trace,h.contexts.trace.data&&(v.contexts.trace.data=Cr(h.contexts.trace.data,y,w))),h.spans&&(v.spans=h.spans.map(_=>({..._,..._.data&&{data:Cr(_.data,y,w)}}))),h.contexts&&h.contexts.flags&&v.contexts&&(v.contexts.flags=Cr(h.contexts.flags,3,w)),v}(x,o,l):x))}function ex(t,e){return zi().captureEvent(t,e)}function tx(t){const e=Ct(),n=Kl(),r=zi(),{release:s,environment:i=Nv}=e&&e.getOptions()||{},{userAgent:o}=Oe.navigator||{},l=o3({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession();return c&&c.status==="ok"&&na(c,{status:"exited"}),OC(),n.setSession(l),r.setSession(l),l}function OC(){const t=Kl(),e=zi(),n=e.getSession()||t.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),na(r,i)}(n),AC(),t.setSession(),e.setSession()}function AC(){const t=Kl(),e=zi(),n=Ct(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function nx(t=!1){t?OC():AC()}function C3(t,e,n){return e||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(t)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(t,n)}`}const rx=[];function sx(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function ix(t,e,n){if(n[e.name])$e&&ge.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,rx.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),rx.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,o)=>r(i,o,t),{id:e.name});t.addEventProcessor(s)}$e&&ge.log(`Integration installed: ${e.name}`)}}class $n extends Error{constructor(e,n="warn"){super(e),this.message=e,this.logLevel=n}}const ox="Not capturing exception because it's already been captured.";class N3{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=w3(e.dsn):$e&&ge.warn("No DSN provided, client will not send events."),this._dsn){const r=C3(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in e&&e[r]==null);n&&Hl(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,r){const s=kn();if(U0(e))return $e&&ge.log(ox),s;const i={event_id:s,...n};return this._process(this.eventFromException(e,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(e,n,r,s){const i={event_id:kn(),...r},o=_v(e)?e:String(e),l=ym(e)?this.eventFromMessage(o,n,i):this.eventFromException(e,i);return this._process(l.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(e,n,r){const s=kn();if(n&&n.originalException&&U0(n.originalException))return $e&&ge.log(ox),s;const i={event_id:s,...n},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||r)),i.event_id}captureSession(e){typeof e.release!="string"?$e&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),na(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(s=>r&&s))):Mi(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];ix(this,e,this._integrations),n||sx(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=j3(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=x3(r,_3(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",e,i),null)}sendSession(e){const n=function(r,s,i,o){const l=TC(i);return Pl({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&s&&{dsn:fd(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${e}:${n}`;$e&&ge.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>($e&&ge.error("Error while sending envelope:",n),n)):($e&&ge.error("Transport disabled"),Mi({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&ix(n,i,s)}),s}(this,e),sx(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(na(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new xn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,e&&r>=e&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=zi(),s=Kl()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),E3(i,e,n,r,this,s).then(l=>{if(l===null)return l;l.contexts={trace:u3(r),...l.contexts};const c=function(u,d){const p=d.getPropagationContext();return p.dsc||NC(p.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(s=>s.event_id,s=>{$e&&(s instanceof $n&&s.logLevel==="log"?ge.log(s.message):ge.warn(s))})}_processEvent(e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=lx(e),l=ax(e),c=e.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const x=typeof m=="string"?parseFloat(m):m;if(!(typeof x!="number"||isNaN(x)||x<0||x>1))return x;$e&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",e),hd(new $n(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const p=c==="replay_event"?"replay":c,g=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,g).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",p,e),new $n("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const x=function(h,y,w,v){const{beforeSend:_,beforeSendTransaction:k,beforeSendSpan:E}=y;if(ax(w)&&_)return _(w,v);if(lx(w)){if(w.spans&&E){const N=[];for(const T of w.spans){const O=E(T);O?N.push(O):(g3(),h.recordDroppedEvent("before_send","span"))}w.spans=N}if(k){if(w.spans){const N=w.spans.length;w.sdkProcessingMetadata={...w.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return k(w,v)}}return w}(this,s,m,n);return function(h,y){const w=`${y} must return \`null\` or a valid event.`;if(dh(h))return h.then(v=>{if(!ea(v)&&v!==null)throw new $n(w);return v},v=>{throw new $n(`${y} rejected with ${v}`)});if(!ea(h)&&h!==null)throw new $n(w);return h}(x,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",p,e),o){const y=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw new $n(`${u} returned \`null\`, will not send event.`,"log")}const x=r&&r.getSession();if(!o&&x&&this._updateSessionFromEvent(x,m),o){const y=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);y>0&&this.recordDroppedEvent("before_send","span",y)}const h=m.transaction_info;if(o&&h&&m.transaction!==e.transaction){const y="custom";m.transaction_info={...h,source:y}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof $n?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new $n(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){$e&&ge.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0)return void($e&&ge.log("No outcomes to send"));if(!this._dsn)return void($e&&ge.log("No dsn provided, will not send outcomes"));$e&&ge.log("Sending outcomes:",e);const n=(r=e,Pl((s=this._options.tunnel&&fd(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||ql(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function ax(t){return t.type===void 0}function lx(t){return t.type==="transaction"}function P3(t){const e=[];function n(r){return e.splice(e.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(t===void 0||e.length<t))return hd(new $n("Not adding Promise because buffer limit was reached."));const s=r();return e.indexOf(s)===-1&&e.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new xn((s,i)=>{let o=e.length;if(!o)return s(!0);const l=setTimeout(()=>{r&&r>0&&s(!1)},r);e.forEach(c=>{Mi(c).then(()=>{--o||(clearTimeout(l),s(!0))},i)})})}}}function T3(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),p=parseInt(c,10),g=1e3*(isNaN(p)?60:p);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+g);else s.all=r+g}else o?s.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):e===429&&(s.all=r+6e4);return s}function O3(t,e,n=P3(t.bufferSize||64)){let r={};return{send:function(s){const i=[];if(Q0(s,(c,u)=>{const d=Y0(u);if(function(p,g,m=Date.now()){return function(x,h){return x[h]||x.all||0}(p,g)>m}(r,d)){const p=cx(c,u);t.recordDroppedEvent("ratelimit_backoff",d,p)}else i.push(c)}),i.length===0)return Mi({});const o=Pl(s[0],i),l=c=>{Q0(o,(u,d)=>{const p=cx(u,d);t.recordDroppedEvent(c,Y0(d),p)})};return n.add(()=>e({body:b3(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&$e&&ge.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=T3(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof $n)return $e&&ge.error("Skipped sending event because buffer is full."),l("queue_overflow"),Mi({});throw c})},flush:s=>n.drain(s)}}function cx(t,e){if(e==="event"||e==="transaction")return Array.isArray(t)?t[1]:void 0}const A3=100;function Ks(t,e){const n=Ct(),r=Kl();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=A3}=n.getOptions();if(i<=0)return;const o={timestamp:ql(),...t},l=s?Hl(()=>s(o,e)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),r.addBreadcrumb(l,i))}let ux;const dx=new WeakMap,R3=()=>({name:"FunctionToString",setupOnce(){ux=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=jv(this),n=dx.has(Ct())&&e!==void 0?e:this;return ux.apply(n,t)}}catch{}},setup(t){dx.set(t,!0)}}),M3=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],I3=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const s=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:M3],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(t,s);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?($e&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${cs(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const p=[];d.message&&p.push(d.message);let g;try{g=d.exception.values[d.exception.values.length-1]}catch{}return g&&g.value&&(p.push(g.value),g.type&&p.push(`${g.type}: ${g.value}`)),p}(c).some(d=>Dc(d,u))}(o,l.ignoreErrors)?($e&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${cs(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?($e&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${cs(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Dc(d,u)}(o,l.ignoreTransactions)?($e&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${cs(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Fc(c);return!!d&&Dc(d,u)}(o,l.denyUrls)?($e&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${cs(o)}.
Url: ${Fc(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Fc(c);return!d||Dc(d,u)}(o,l.allowUrls)?!1:($e&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${cs(o)}.
Url: ${Fc(o)}`),!0)}(e,i)?null:e}});function Fc(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(e):null}catch{return $e&&ge.error(`Cannot extract url for event ${cs(t)}`),null}}function D3(t,e,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&Ai(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=Em(t,e,s,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=Po(d.value,u)),d))))}function Em(t,e,n,r,s,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(Ai(r[s],Error)){hx(o,l);const u=t(e,r[s]),d=c.length;fx(u,s,d,l),c=Em(t,e,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Ai(u,Error)){hx(o,l);const p=t(e,u),g=c.length;fx(p,`errors[${d}]`,g,l),c=Em(t,e,n,u,s,[p,...c],p,g)}}),c}function hx(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function fx(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function _f(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function L3(){"console"in Oe&&vm.forEach(function(t){t in Oe.console&&an(Oe.console,t,function(e){return dd[t]=e,function(...n){Jn("console",{args:n,level:t});const r=dd[t];r&&r.apply(Oe.console,n)}})})}function $3(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const F3=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!mx(s,i)||!px(s,i))}(n,r)||function(s,i){const o=gx(i),l=gx(s);return!(!o||!l||o.type!==l.type||o.value!==l.value||!mx(s,i)||!px(s,i))}(n,r)):!1}(e,t))return $e&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function px(t,e){let n=M0(t),r=M0(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function mx(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function gx(t){return t.exception&&t.exception.values&&t.exception.values[0]}function vx(t){return t===void 0?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Sf=Oe;function Cm(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function U3(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Sf))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Cm(Sf.fetch))return!0;let t=!1;const e=Sf.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Cm(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Bi&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function B3(t,e){const n="fetch";bi(n,t),_i(n,()=>function(r,s=!1){s&&!U3()||an(Oe,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(p){if(p.length===0)return{method:"GET",url:""};if(p.length===2){const[m,x]=p;return{url:yx(m),method:Nm(x,"method")?String(x.method).toUpperCase():"GET"}}const g=p[0];return{url:yx(g),method:Nm(g,"method")?String(g.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*Lr(),virtualError:l};return r||Jn("fetch",{...d}),i.apply(Oe,o).then(async p=>(r?r(p):Jn("fetch",{...d,endTimestamp:1e3*Lr(),response:p}),p),p=>{throw Jn("fetch",{...d,endTimestamp:1e3*Lr(),error:p}),bv(p)&&p.stack===void 0&&(p.stack=l.stack,Ri(p,"framesToPop",1)),p})}})}(void 0,e))}function Nm(t,e){return!!t&&typeof t=="object"&&!!t[e]}function yx(t){return typeof t=="string"?t:t?Nm(t,"url")?t.url:t.toString?t.toString():"":""}const Uc=Oe,ft=Oe;let Pm=0;function wx(){return Pm>0}function sa(t,e={}){if(!function(r){return typeof r=="function"}(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(jv(t))return t}catch{return t}const n=function(...r){try{const s=r.map(i=>sa(i,e));return t.apply(this,s)}catch(s){throw Pm++,setTimeout(()=>{Pm--}),function(...i){const o=Ev(ch());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(e.mechanism&&(xm(l,void 0),ta(l,e.mechanism)),l.extra={...l.extra,arguments:r},l)),o=s,zi().captureException(o,void 0)}),s}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}catch{}jC(n,t),Ri(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>t.name})}catch{}return n}const fh=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Pv(t,e){const n=Tv(t,e),r={type:W3(e),value:H3(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function z3(t,e,n,r){const s=Ct(),i=s&&s.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const p=u[d];if(p instanceof Error)return p}}(e),l={__serialized__:PC(e,i)};if(o)return{exception:{values:[Pv(t,o)]},extra:l};const c={exception:{values:[{type:uh(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:q3(e,{isUnhandledRejection:r})}]},extra:l};if(n){const u=Tv(t,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function jf(t,e){return{exception:{values:[Pv(t,e)]}}}function Tv(t,e){const n=e.stacktrace||e.stack||"",r=function(i){return i&&V3.test(i.message)?1:0}(e),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(e);try{return t(n,r,s)}catch{}return[]}const V3=/Minified React error #\d+;/i;function RC(t){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&t instanceof WebAssembly.Exception}function W3(t){const e=t&&t.name;return!e&&RC(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function H3(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:RC(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}function Tm(t,e,n,r,s){let i;if(bC(e)&&e.error)return jf(t,e.error);if(D0(e)||ga(e,"DOMException")){const o=e;if("stack"in e)i=jf(t,e);else{const l=o.name||(D0(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=Om(t,c,n,r),xm(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return bv(e)?jf(t,e):ea(e)||uh(e)?(i=z3(t,e,n,s),ta(i,{synthetic:!0}),i):(i=Om(t,e,n,r),xm(i,`${e}`),ta(i,{synthetic:!0}),i)}function Om(t,e,n,r){const s={};if(r&&n){const i=Tv(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]}),ta(s,{synthetic:!0})}if(_v(e)){const{__sentry_template_string__:i,__sentry_template_values__:o}=e;return s.logentry={message:i,params:o},s}return s.message=e,s}function q3(t,{isUnhandledRejection:e}){const n=function(s,i=40){const o=Object.keys(kC(s));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return Po(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Po(u,i)}return""}(t),r=e?"promise rejection":"exception";return bC(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:uh(t)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class K3 extends N3{constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e};(function(r,s,i=[s],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:xi})),version:xi}),r._metadata=l})(n,"browser",["browser"],ft.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&ft.document&&ft.document.addEventListener("visibilitychange",()=>{ft.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return function(r,s,i,o){const l=Tm(r,s,i&&i.syntheticException||void 0,o);return ta(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),Mi(l)}(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return function(s,i,o="info",l,c){const u=Om(s,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),Mi(u)}(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(fh&&ge.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:fd(o)}};return Pl(l,[function(u){return[{type:"user_report"},u]}(r)])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const G3=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Lt=Oe;let xx,kf,Ef,Bc;function J3(){if(!Lt.document)return;const t=Jn.bind(null,"dom"),e=bx(t,!0);Lt.document.addEventListener("click",e,!1),Lt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=Lt[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(an(s,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const p=bx(t);d.handler=p,i.call(this,o,p,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),an(s,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function bx(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;Ri(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ri(r,"_sentryId",kn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==kf)return!1;try{if(!i.target||i.target._sentryId!==Ef)return!1}catch{}return!0})(n)||(t({event:n,name:s,global:e}),kf=n.type,Ef=r?r._sentryId:void 0),clearTimeout(xx),xx=Lt.setTimeout(()=>{Ef=void 0,kf=void 0},1e3)}}function MC(t){const e="history";bi(e,t),_i(e,Q3)}function Q3(){if(!function(){const n=Uc.chrome,r=n&&n.app&&n.app.runtime,s="history"in Uc&&!!Uc.history.pushState&&!!Uc.history.replaceState;return!r&&s}())return;const t=Lt.onpopstate;function e(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Bc,o=String(s);Bc=o,Jn("history",{from:i,to:o})}return n.apply(this,r)}}Lt.onpopstate=function(...n){const r=Lt.location.href,s=Bc;if(Bc=r,Jn("history",{from:s,to:r}),t)try{return t.apply(this,n)}catch{}},an(Lt.history,"pushState",e),an(Lt.history,"replaceState",e)}const pu={};function _x(t){pu[t]=void 0}const La="__sentry_xhr_v3__";function Y3(){if(!Lt.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=new Error,i=1e3*Lr(),o=Mr(r[0])?r[0].toUpperCase():void 0,l=function(u){if(Mr(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return e.apply(n,r);n[La]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[La];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}Jn("xhr",{endTimestamp:1e3*Lr(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,p)=>(c(),u.apply(d,p))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,p){const[g,m]=p,x=d[La];return x&&Mr(g)&&Mr(m)&&(x.request_headers[g.toLowerCase()]=m),u.apply(d,p)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[La];return s?(r[0]!==void 0&&(s.body=r[0]),Jn("xhr",{startTimestamp:1e3*Lr(),xhr:n}),e.apply(n,r)):e.apply(n,r)}})}function X3(t,e=function(n){const r=pu[n];if(r)return r;let s=Lt[n];if(Cm(s))return pu[n]=s.bind(Lt);const i=Lt.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(s=l[n]),i.head.removeChild(o)}catch(o){G3&&ge.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(pu[n]=s.bind(Lt))}("fetch")){let n=0,r=0;return O3(t,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return _x("fetch"),hd("No fetch implementation available");try{return e(t.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return _x("fetch"),n-=i,r--,hd(l)}})}function Cf(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?ui:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const Z3=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,eB=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tB=/\((\S*)(?::(\d+))(?::(\d+))\)/,nB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sB=function(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=O0.test(c)?c.replace(O0,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of e){const p=d(u);if(p){i.push(p);break}}if(i.length>=50+s)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Ic(c).function||"")&&c.pop(),c.reverse(),A0.test(Ic(c).function||"")&&(c.pop(),A0.test(Ic(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Ic(c).filename,function:u.function||ui}))}(i.slice(s))}}([30,t=>{const e=Z3.exec(t);if(e){const[,r,s,i]=e;return Cf(r,ui,+s,+i)}const n=eB.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=tB.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=Sx(n[1]||ui,n[2]);return Cf(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=nB.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=rB.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let n=e[3],r=e[1]||ui;return[r,n]=Sx(r,n),Cf(n,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]),Sx=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:ui,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},jx=1024,iB=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(n){var r;e.console&&function(s){const i="console";bi(i,s),_i(i,L3)}(function(s){return function(i){if(Ct()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:$3(i.level),message:L0(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${L0(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}Ks(o,{input:i.args,level:i.level})}}(n)),e.dom&&(r=function(s,i){return function(o){if(Ct()!==s)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>jx&&(fh&&ge.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=jx),typeof u=="string"&&(u=[u]);try{const g=o.event,m=function(x){return!!x&&!!x.target}(g)?g.target:g;l=SC(m,{keyAttrs:u,maxStringLength:d}),c=function(x){if(!Sv.HTMLElement)return null;let h=x;for(let y=0;y<5;y++){if(!h)return null;if(h instanceof HTMLElement){if(h.dataset.sentryComponent)return h.dataset.sentryComponent;if(h.dataset.sentryElement)return h.dataset.sentryElement}h=h.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const p={category:`ui.${o.name}`,message:l};c&&(p.data={"ui.component_name":c}),Ks(p,{event:o.event,name:o.name,global:o.global})}}(n,e.dom),bi("dom",r),_i("dom",J3)),e.xhr&&function(s){bi("xhr",s),_i("xhr",Y3)}(function(s){return function(i){if(Ct()!==s)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[La];if(!o||!l||!c)return;const{method:u,url:d,status_code:p,body:g}=c,m={method:u,url:d,status_code:p},x={xhr:i.xhr,input:g,startTimestamp:o,endTimestamp:l};Ks({category:"xhr",data:m,type:"http",level:vx(p)},x)}}(n)),e.fetch&&B3(function(s){return function(i){if(Ct()!==s)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Ks({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};Ks({category:"fetch",data:u,type:"http",level:vx(u.status_code)},d)}}}(n)),e.history&&MC(function(s){return function(i){if(Ct()!==s)return;let o=i.from,l=i.to;const c=_f(ft.location.href);let u=o?_f(o):void 0;const d=_f(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),Ks({category:"navigation",data:{from:o,to:l}})}}(n)),e.sentry&&n.on("beforeSendEvent",function(s){return function(i){Ct()===s&&Ks({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:cs(i)},{event:i})}}(n))}}},oB=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],aB=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&an(ft,"setTimeout",kx),e.setInterval&&an(ft,"setInterval",kx),e.requestAnimationFrame&&an(ft,"requestAnimationFrame",lB),e.XMLHttpRequest&&"XMLHttpRequest"in ft&&an(XMLHttpRequest.prototype,"send",cB);const n=e.eventTarget;n&&(Array.isArray(n)?n:oB).forEach(uB)}}};function kx(t){return function(...e){const n=e[0];return e[0]=sa(n,{mechanism:{data:{function:Is(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function lB(t){return function(e){return t.apply(this,[sa(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Is(t)},handled:!1,type:"instrument"}})])}}function cB(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&an(n,r,function(s){const i={mechanism:{data:{function:r,handler:Is(s)},handled:!1,type:"instrument"}},o=jv(s);return o&&(i.mechanism.data.handler=Is(o)),sa(s,i)})}),t.apply(this,e)}}function uB(t){const e=ft[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(an(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=sa(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Is(i),target:t},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,sa(i,{mechanism:{data:{function:"addEventListener",handler:Is(i),target:t},handled:!1,type:"instrument"}}),o])}}),an(n,"removeEventListener",function(r){return function(s,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,s,l,o)}catch{}return r.call(this,s,i,o)}}))}const dB=()=>({name:"BrowserSession",setupOnce(){ft.document!==void 0?(tx({ignoreDuration:!0}),nx(),MC(({from:t,to:e})=>{t!==void 0&&t!==e&&(tx({ignoreDuration:!0}),nx())})):fh&&ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),hB=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(function(r){(function(s){const i="error";bi(i,s),_i(i,n3)})(s=>{const{stackParser:i,attachStacktrace:o}=Cx();if(Ct()!==r||wx())return;const{msg:l,url:c,line:u,column:d,error:p}=s,g=function(m,x,h,y){const w=m.exception=m.exception||{},v=w.values=w.values||[],_=v[0]=v[0]||{},k=_.stacktrace=_.stacktrace||{},E=k.frames=k.frames||[],N=y,T=h,O=Mr(x)&&x.length>0?x:function(){try{return Sv.document.location.href}catch{return""}}();return E.length===0&&E.push({colno:N,filename:O,function:ui,in_app:!0,lineno:T}),m}(Tm(i,p||l,void 0,o,!1),c,u,d);g.level="error",ex(g,{originalException:p,mechanism:{handled:!1,type:"onerror"}})})}(n),Ex("onerror")),e.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";bi(i,s),_i(i,r3)})(s=>{const{stackParser:i,attachStacktrace:o}=Cx();if(Ct()!==r||wx())return;const l=function(u){if(ym(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=ym(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:Tm(i,l,void 0,o,!0);c.level="error",ex(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),Ex("onunhandledrejection"))}}};function Ex(t){fh&&ge.log(`Global Handler attached: ${t}`)}function Cx(){const t=Ct();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const fB=()=>({name:"HttpContext",preprocessEvent(t){if(!ft.navigator&&!ft.location&&!ft.document)return;const e=t.request&&t.request.url||ft.location&&ft.location.href,{referrer:n}=ft.document||{},{userAgent:r}=ft.navigator||{},s={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:s};t.request=i}}),pB=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();D3(Pv,o.stackParser,o.maxValueLength,n,e,r,s)}}};var Nx="new",Px="loading",Tx="loaded",Am="joining-meeting",ii="joined-meeting",Gs="left-meeting",ns="error",mB="playable",Nf="unknown",gB="full",vB="base",Ox="no-room",yB="end-of-life",wB="connection-error",xB="iframe-ready-for-launch-config",bB="iframe-launch-config",_B="theme-updated",SB="loading",jB="load-attempt-failed",Ax="loaded",kB="started-camera",EB="camera-error",CB="joining-meeting",NB="joined-meeting",PB="left-meeting",TB="participant-joined",OB="participant-updated",AB="participant-left",RB="participant-counts-updated",MB="access-state-updated",IB="meeting-session-summary-updated",DB="meeting-session-state-updated",LB="waiting-participant-added",$B="waiting-participant-updated",FB="waiting-participant-removed",UB="track-started",BB="track-stopped",zB="transcription-started",VB="transcription-stopped",WB="transcription-error",Rx="recording-started",Mx="recording-stopped",HB="recording-stats",qB="recording-error",KB="recording-upload-completed",GB="recording-data",JB="app-message",QB="transcription-message",YB="remote-media-player-started",XB="remote-media-player-updated",ZB="remote-media-player-stopped",e5="local-screen-share-started",t5="local-screen-share-stopped",n5="local-screen-share-canceled",r5="active-speaker-change",s5="active-speaker-mode-change",i5="network-quality-change",o5="network-connection",a5="cpu-load-change",l5="face-counts-updated",zc="fullscreen",Vc="exited-fullscreen",c5="live-streaming-started",u5="live-streaming-updated",d5="live-streaming-stopped",h5="live-streaming-error",f5="lang-updated",p5="receive-settings-updated",Ix="input-settings-updated",Dx="nonfatal-error",Lx="error",Pf=4096,$x=102400,Tf="iframe-call-message",Fx="local-screen-start",Ux="daily-method-update-live-streaming-endpoints",Wc="transmit-log",Ir="daily-custom-track",mu={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},IC={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Rm={PLAY:"play",PAUSE:"pause"},Of=["jpg","png","jpeg"],m5="add-endpoints",g5="remove-endpoints",Bx="sip-call-transfer";function Pn(){return!Ce()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ce(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function DC(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function v5(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,e){if(!t||!e)return!0;switch(t){case"Chrome":return e.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(e.major===13&&e.minor===0&&e.point===0);case"Firefox":return e.major>=67}return!0}(Ii(),pd())||Ce())}function zx(){if(Ce()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var Mm="none",y5="software",w5="hardware",x5=function(){try{var t,e=document.createElement("canvas"),n=!1;(t=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,t=e.getContext("webgl2"));var r=t!=null;return e.remove(),r?n?y5:w5:Mm}catch{return Mm}}();function LC(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ce()&&x5!==Mm&&(t?function(){return Vx()?!1:["Chrome","Firefox"].includes(Ii())}():function(){if(Vx())return!1;var e=Ii();if(e==="Safari"){var n=Av();if(n.major<15||n.major===15&&n.minor<4)return!1}return e==="Chrome"?Ov().major>=77:e==="Firefox"?Rv().major>=97:["Chrome","Firefox","Safari"].includes(e)}())}function $C(){if(Ce()||FC()||typeof AudioWorkletNode>"u")return!1;switch(Ii()){case"Chrome":case"Firefox":return!0;case"Safari":var t=pd();return t.major>17||t.major===17&&t.minor>=4}return!1}function Af(){return DC()&&typeof MediaStreamTrack<"u"&&!function(){var t,e=Ii();if(!Pn())return!0;switch(e){case"Chrome":return(t=Ov()).major&&t.major>0&&t.major<75;case"Firefox":return(t=Rv()).major<91;case"Safari":return(t=Av()).major<13||t.major===13&&t.minor<1;default:return!0}}()}function FC(){return Pn().match(/Linux; Android/)}function Vx(){var t,e=Pn(),n=e.match(/Mac/)&&(!Ce()&&typeof window<"u"&&(t=window)!==null&&t!==void 0&&(t=t.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(e.match(/Mobi/)||e.match(/Android/)||n)||!!Pn().match(/DailyAnd\//)||void 0}function Ii(){if(typeof window<"u"){var t=Pn();return UC()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||BC()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function pd(){switch(Ii()){case"Chrome":return Ov();case"Safari":return Av();case"Firefox":return Rv();case"Edge":return function(){var t=0,e=0;if(typeof window<"u"){var n=Pn().match(/Edge\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}()}}function Ov(){var t=0,e=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Pn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{t=parseInt(o[1]),e=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:t,minor:e,build:n,patch:r,opera:s}}function UC(){return!!Pn().match(/iPad|iPhone|iPod/i)&&DC()}function BC(){return Pn().indexOf("AppleWebKit/605.1.15")>-1}function Av(){var t=0,e=0,n=0;if(typeof window<"u"){var r=Pn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{t=parseInt(r[1]),e=parseInt(r[2]),n=parseInt(r[4])}catch{}else(UC()||BC())&&(t=14,e=0,n=3)}return{major:t,minor:e,point:n}}function Rv(){var t=0,e=0;if(typeof window<"u"){var n=Pn().match(/Firefox\/(\d+).(\d+)/);if(n)try{t=parseInt(n[1]),e=parseInt(n[2])}catch{}}return{major:t,minor:e}}var zC=function(){return pn(function t(){fn(this,t)},[{key:"addListenerForMessagesFromCallMachine",value:function(t,e,n){Pa()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,e,n){Pa()}},{key:"sendMessageToCallMachine",value:function(t,e,n,r){Pa()}},{key:"sendMessageToDailyJs",value:function(t,e){Pa()}},{key:"removeListener",value:function(t){Pa()}}])}();function Wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VC=function(){return!!t})()}var b5=function(){function t(){var e,n,r,s;return fn(this,t),n=this,r=er(r=t),(e=oh(n,VC()?Reflect.construct(r,[],er(n).constructor):r.apply(n,s)))._wrappedListeners={},e._messageCallbacks={},e}return ah(t,zC),pn(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=Rf({},o.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(r,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,e.call(r,l)}};this._wrappedListeners[e]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==Tf||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;e.call(r,l)}};this._wrappedListeners[e]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(e,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=Rf({},e);if(i.what=Tf,i.from="module",i.callClientId=r,n){var o=lh();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(e,n){e.what=Tf,e.callClientId=n,e.from="embedded",window.postMessage(e,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,n,r){var s=Rf({},e);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;e(i)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var n=this._wrappedListeners[e];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[e])}},{key:"_callMachineTargetOrigin",value:function(e){return e?e.src?new URL(e.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function Hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WC=function(){return!!t})()}var _5=function(){function t(){var e,n,r,s;return fn(this,t),n=this,r=er(r=t),e=oh(n,WC()?Reflect.construct(r,[],er(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new gm.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new gm.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return ah(t,zC),pn(t,[{key:"addListenerForMessagesFromCallMachine",value:function(e,n,r){this._addListener(e,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,n,r){this._addListener(e,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,n,r){this._sendMessage(e,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(e,n){this._sendMessage(e,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(e){var n=this._wrappedListeners[e];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,n,r,s,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(s,c),delete o._messageCallbacks[u]}e.call(s,c)}};this._wrappedListeners[e]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(e,n,r,s,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?Hx(Object(d),!0).forEach(function(p){dr(c,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):Hx(Object(d)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(d,p))})}return c}({},e);if(o.callClientId=r,s){var l=lh();this._messageCallbacks[l]=s,o.callbackStamp=l}n.emit("message",o)}}])}(),Im="replace",Dm="shallow-merge",qx=[Im,Dm],S5=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data,r=e.mergeStrategy,s=r===void 0?Im:r;fn(this,t),t._validateMergeStrategy(s),t._validateData(n,s),this.mergeStrategy=s,this.data=n}return pn(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,n){return Object.keys(e).length===0&&n===Dm}},{key:"_validateMergeStrategy",value:function(e){if(!qx.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(qx,"]"))}},{key:"_validateData",value:function(e,n){if(!function(l){if(l==null||Ne(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),n===Im){var s=JSON.parse(r);Mt(s,e)||console.warn("The meeting session data provided will be modified when serialized.",s,e)}else if(n===Dm){for(var i in e)if(Object.hasOwnProperty.call(e,i)&&e[i]!==void 0){var o=JSON.parse(JSON.stringify(e[i]));Mt(e[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,e[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>$x)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat($x,"."))}}])}();function HC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HC=function(){return!!t})()}function Lm(t){var e=typeof Map=="function"?new Map:void 0;return Lm=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return function(s,i,o){if(HC())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(s.bind.apply(s,l));return o&&Nl(c,o.prototype),c}(n,arguments,er(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Nl(r,n)},Lm(t)}function qC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qC=function(){return!!t})()}function Kx(t){var e,n=(e=window._daily)===null||e===void 0?void 0:e.pendings;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}}var j5=function(){return pn(function t(e){fn(this,t),this._currentLoad=null,this._callClientId=e},[{key:"load",value:function(){var t,e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new k5(n,function(){r(!1)},function(i,o){o||Kx(e._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Kx(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),k5=function(){return pn(function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;fn(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var t=this;if(!this._currentAttempt){var e=function(n){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(n,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new Gx(t._dailyConfig,t._successCallback,e),t._currentAttempt.start())},3e3))};this._currentAttempt=new Gx(this._dailyConfig,this._successCallback,e),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Mf=function(){function t(){return fn(this,t),e=this,r=arguments,n=er(n=t),oh(e,qC()?Reflect.construct(n,r||[],er(e).constructor):n.apply(e,r));var e,n,r}return ah(t,Lm(Error)),pn(t)}(),md=2e4,Gx=function(){return pn(function e(n,r,s){fn(this,e),this._loadAttemptImpl=Ce()||!n.avoidEval?new E5(n,r,s):new C5(n,r,s)},[{key:"start",value:(t=pe(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var t}(),E5=function(){return pn(function s(i,o,l){fn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=pe(function*(){var s=ld(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=pe(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(e=pe(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(md," ms) when loading call object bundle ").concat(s),type:"timeout"})},md);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Mf;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new Mf;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Mf||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return e.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=pe(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return t.apply(this,arguments)})}]);var t,e,n,r}(),C5=function(){return pn(function t(e,n,r){fn(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=e,this._successCallback=n,this._failureCallback=r,this._attemptId=lh(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=ld(this._dailyConfig);(typeof document>"u"?"undefined":Ne(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var e=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){e._stopLoading(),e._failureCallback({msg:"Timed out (>".concat(md," ms) when loading call object bundle ").concat(t),type:"timeout"})},md);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){e._stopLoading(),e.succeeded=!0,e._successCallback()},r.onerror=function(s){e._stopLoading(),e._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=t,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Hc=function(t,e,n){return P5(t.local,e,n)===!0},N5=function(t,e,n){return t.local.streams&&t.local.streams[e]&&t.local.streams[e].stream&&t.local.streams[e].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},vo=function(t,e,n,r){var s=T5(t,e,n,r);return s&&s.pendingTrack},P5=function(t,e,n){if(!t)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=t.public.subscribedTracks;return s&&s[e]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[e].custom?[!0,"staged"].includes(s[e].custom)?r(s[e].custom):r(s[e].custom[n]):r(s[e][n]):!s||r(s.ALL)},T5=function(t,e,n,r){var s=Object.values(t.streams||{}).filter(function(i){return i.participantId===e&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},O5=function(t,e){var n=t.local.public.customTracks;if(n&&n[e])return n[e].track};function Jx(t,e){for(var n=e.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=t.tracks[u];if(d){var p=t.local?N5(n,i,c):vo(n,t.session_id,i,c);d.state==="playable"&&(d.track=p),d.persistentTrack=p}}}function Qx(t,e){try{var n=e.getState();for(var r in t.tracks)if(!A5(r)){var s=t.tracks[r].kind;if(s){var i=t.tracks[r];if(i){var o=t.local?O5(n,r):vo(n,t.session_id,r,s);i.state==="playable"&&(t.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function A5(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function Yx(t,e,n){var r=n.getState();if(t.local){if(t.audio)try{t.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch{}if(t.video)try{t.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch{}if(t.screen)try{t.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[t.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(r.streams,t.audio&&Hc(r,t.session_id,"cam-audio")){var o=vo(r,t.session_id,"cam","audio");o&&(e&&e.audioTrack&&e.audioTrack.id===o.id?t.audioTrack=o:o.muted||(t.audioTrack=o)),t.audioTrack||(t.audio=!1)}if(t.video&&Hc(r,t.session_id,"cam-video")){var l=vo(r,t.session_id,"cam","video");l&&(e&&e.videoTrack&&e.videoTrack.id===l.id?t.videoTrack=l:l.muted||(t.videoTrack=l)),t.videoTrack||(t.video=!1)}if(t.screen&&Hc(r,t.session_id,"screen-audio")){var c=vo(r,t.session_id,"screen","audio");c&&(e&&e.screenAudioTrack&&e.screenAudioTrack.id===c.id?t.screenAudioTrack=c:c.muted||(t.screenAudioTrack=c))}if(t.screen&&Hc(r,t.session_id,"screen-video")){var u=vo(r,t.session_id,"screen","video");u&&(e&&e.screenVideoTrack&&e.screenVideoTrack.id===u.id?t.screenVideoTrack=u:u.muted||(t.screenVideoTrack=u))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function R5(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(c,u){if(c){if(typeof c=="string")return Xx(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Xx(c,u):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var or=new Map,To=null;function M5(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(c,u){if(c){if(typeof c=="string")return Zx(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Zx(c,u):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function Zx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ar=new Map,Xa=null;function I5(t){KC()?function(e){or.has(e)||(or.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){or.has(e)&&(or.get(e).lastDevicesString=JSON.stringify(n),To||(To=function(){var r=pe(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=R5(or.keys());try{for(o.s();!(s=o.n()).done;){var l=s.value,c=JSON.stringify(i);c!==or.get(l).lastDevicesString&&(or.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",To)))}).catch(function(){}))}(t):function(e){ar.has(e)||(ar.set(e,{}),navigator.mediaDevices.enumerateDevices().then(function(n){ar.has(e)&&(ar.get(e).lastDevicesString=JSON.stringify(n),Xa||(Xa=setInterval(pe(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=M5(ar.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(s);l!==ar.get(o).lastDevicesString&&(ar.get(o).lastDevicesString=l,o(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(t)}function D5(t){KC()?function(e){or.has(e)&&(or.delete(e),or.size===0&&To&&(navigator.mediaDevices.removeEventListener("devicechange",To),To=null))}(t):function(e){ar.has(e)&&(ar.delete(e),ar.size===0&&Xa&&(clearInterval(Xa),Xa=null))}(t)}function KC(){var t;return Ce()||((t=navigator.mediaDevices)===null||t===void 0?void 0:t.ondevicechange)!==void 0}var L5=new Set;function $5(t,e){return t&&t.readyState==="live"&&!function(n,r){return n.muted&&!L5.has(n.id)}(t)}function eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var $a=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),F5=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Za=Object.values($a),tb=["v","a","sv","sa","cv","ca"];Object.freeze(Za.reduce(function(t,e,n){return t[e]=tb[n],t},{})),Object.freeze(tb.reduce(function(t,e,n){return t[e]=Za[n],t},{}));var U5=[$a.VIDEO,$a.AUDIO,$a.SCREEN_VIDEO,$a.SCREEN_AUDIO],nb=Object.values(F5),rb=["p","s","t"];Object.freeze(nb.reduce(function(t,e,n){return t[e]=rb[n],t},{})),Object.freeze(rb.reduce(function(t,e,n){return t[e]=nb[n],t},{}));var GC=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.base,r=e.byUserId,s=e.byParticipantId;fn(this,t),this.base=n,this.byUserId=r,this.byParticipantId=s}return pn(t,[{key:"clone",value:function(){var e=new t;if(this.base instanceof mt?e.base=this.base.clone():e.base=this.base,this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof mt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in e.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];e.byParticipantId[s]=i instanceof mt?i.clone():i}return e}},{key:"toJSONObject",value:function(){var e={};if(typeof this.base=="boolean"?e.base=this.base:this.base instanceof mt&&(e.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in e.byUserId={},this.byUserId){var r=this.byUserId[n];e.byUserId[n]=r instanceof mt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in e.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];e.byParticipantId[s]=i instanceof mt?i.toJSONObject():i}return e}},{key:"toMinifiedJSONObject",value:function(){var e={};if(this.base!==void 0&&(typeof this.base=="boolean"?e.b=this.base:e.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in e.u={},this.byUserId){var r=this.byUserId[n];e.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in e.p={},this.byParticipantId){var i=this.byParticipantId[s];e.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return e}},{key:"normalize",value:function(){return this.base instanceof mt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(e){var n=Nt(e,2),r=n[0],s=n[1];return[r,s instanceof mt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(e){var n=Nt(e,2),r=n[0],s=n[1];return[r,s instanceof mt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(e){var n,r,s;if(e.base!==void 0&&(n=typeof e.base=="boolean"?e.base:mt.fromJSONObject(e.base)),e.byUserId!==void 0)for(var i in r={},e.byUserId){var o=e.byUserId[i];r[i]=typeof o=="boolean"?o:mt.fromJSONObject(o)}if(e.byParticipantId!==void 0)for(var l in s={},e.byParticipantId){var c=e.byParticipantId[l];s[l]=typeof c=="boolean"?c:mt.fromJSONObject(c)}return new t({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(e){var n,r,s;if(e.b!==void 0&&(n=typeof e.b=="boolean"?e.b:mt.fromMinifiedJSONObject(e.b)),e.u!==void 0)for(var i in r={},e.u){var o=e.u[i];r[i]=typeof o=="boolean"?o:mt.fromMinifiedJSONObject(o)}if(e.p!==void 0)for(var l in s={},e.p){var c=e.p[l];s[l]=typeof c=="boolean"?c:mt.fromMinifiedJSONObject(c)}return new t({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(e){if(Ne(e)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(e);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Nt(mt.validateJSONObject(e.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(Ne(e[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(e[i]);u<d.length;u++){var p=d[u],g=Nt(mt.validateJSONObject(p),2),m=g[0],x=g[1];if(!m)return[!1,x]}}}return[!0]}}])}(),mt=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.video,r=e.audio,s=e.screenVideo,i=e.screenAudio,o=e.customVideo,l=e.customAudio;fn(this,t),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return pn(t,[{key:"clone",value:function(){var e=new t;return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=rs({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=rs({},this.customAudio)),e}},{key:"toJSONObject",value:function(){var e={};return this.video!==void 0&&(e.video=this.video),this.audio!==void 0&&(e.audio=this.audio),this.screenVideo!==void 0&&(e.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(e.screenAudio=this.screenAudio),this.customVideo!==void 0&&(e.customVideo=rs({},this.customVideo)),this.customAudio!==void 0&&(e.customAudio=rs({},this.customAudio)),e}},{key:"toMinifiedJSONObject",value:function(){var e={};return this.video!==void 0&&(e.v=this.video),this.audio!==void 0&&(e.a=this.audio),this.screenVideo!==void 0&&(e.sv=this.screenVideo),this.screenAudio!==void 0&&(e.sa=this.screenAudio),this.customVideo!==void 0&&(e.cv=rs({},this.customVideo)),this.customAudio!==void 0&&(e.ca=rs({},this.customAudio)),e}},{key:"normalize",value:function(){function e(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!e(this.customVideo,!0)||!e(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!e(this.customVideo,!1)||!e(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(e){return new t({video:e,audio:e,screenVideo:e,screenAudio:e,customVideo:{"*":e},customAudio:{"*":e}})}},{key:"fromJSONObject",value:function(e){return new t({video:e.video,audio:e.audio,screenVideo:e.screenVideo,screenAudio:e.screenAudio,customVideo:e.customVideo!==void 0?rs({},e.customVideo):void 0,customAudio:e.customAudio!==void 0?rs({},e.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(e){return new t({video:e.v,audio:e.a,screenVideo:e.sv,screenAudio:e.sa,customVideo:e.cv,customAudio:e.ca})}},{key:"validateJSONObject",value:function(e,n){if(typeof e=="boolean")return[!0];if(Ne(e)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(e),s=0,i=r;s<i.length;s++){var o=i[s];if(!Za.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(U5.includes(o)){if(typeof e[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ne(e[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(e[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&e[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Za.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Za.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),B5=["result"],z5=["preserveIframe"];function sb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sb(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!t})()}function ib(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(c,u){if(c){if(typeof c=="string")return ob(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?ob(c,u):void 0}}(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Js={},ab="video",V5="voice",lb=Ce()?{data:{}}:{data:{},topology:"none"},cb={present:0,hidden:0},QC={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},If=Object.keys(QC),ub=["state","volume","simulcastEncodings"],db={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},gd={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},$m={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Qs={customIntegrations:{validate:sN,help:nN()},customTrayButtons:{validate:rN,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(gd))},url:{validate:function(t){return typeof t=="string"},help:"url should be a string"},baseUrl:{validate:function(t){return typeof t=="string"},help:"baseUrl should be a string"},token:{validate:function(t){return typeof t=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,e){try{return e.validateDailyConfig(t),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return iN(t,db)},help:"reactNativeConfig should look like ".concat(JSON.stringify(db),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return YC(t),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalVideo=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.videoTrack=t,n={customTrack:Ir};else{if(delete e._sharedTracks.videoTrack,typeof t!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(t,e){if(typeof t=="boolean")return e._preloadCache.allowLocalAudio=t,!0;var n;if(t instanceof MediaStreamTrack)e._sharedTracks.audioTrack=t,n={customTrack:Ir};else{if(delete e._sharedTracks.audioTrack,typeof t!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:t}}return e._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,e){return e._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var e=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!e.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(e.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ne(t)==="object"&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?n(t.light.colors)&&n(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):n(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var e=t.grid;if("maxTilesPerPage"in e){if(!Number.isInteger(e.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(e.maxTilesPerPage,".")),!1;if(e.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in e){if(!Number.isInteger(e.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(e.minTilesPerPage,".")),!1;if(e.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in e&&e.minTilesPerPage>e.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return XC(t,{allowAllParticipantsKey:!1})},help:tN({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,e){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(t,e)&&(e._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,e){var n;return!!ZC(t)&&(e._inputSettings||(e._inputSettings={}),eN(t,(n=e.properties)===null||n===void 0?void 0:n.dailyConfig,e._sharedTracks),e._updatePreloadCacheInputSettings(t,!0),!0)},help:Fm()},layout:{validate:function(t){return t==="custom-v1"||t==="browser"||t==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},qc={styles:{validate:function(t){for(var e in t)if(e!=="cam"&&e!=="screen")return!1;if(t.cam){for(var n in t.cam)if(n!=="div"&&n!=="video")return!1}if(t.screen){for(var r in t.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,e){if(e._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(t)||!Ce()&&t==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!s(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return s(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ce()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return t===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Nt(n[e],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=ib(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(w){c.e(w)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canSend=new Set(i));break;case"canReceive":var d=Nt(GC.validateJSONObject(i),2),p=d[0],g=d[1];if(!p)return console.error(g),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,x=["participants","streaming","transcription"],h=ib(i);try{for(h.s();!(m=h.n()).done;){var y=m.value;if(!x.includes(y))return!1}}catch(w){h.e(w)}finally{h.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(t.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=pe(function*(e){return new Promise(function(n,r){var s=[];e.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===e.length&&r(s)})})})});return function(e){return t.apply(this,arguments)}}());var W5=function(){function t(f){var j,S,P,C,A,$,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fn(this,t),P=this,C=er(C=t),dr(S=oh(P,JC()?Reflect.construct(C,[],er(P).constructor):C.apply(P,A)),"startListeningForDeviceChanges",function(){I5(S.handleDeviceChange)}),dr(S,"stopListeningForDeviceChanges",function(){D5(S.handleDeviceChange)}),dr(S,"handleDeviceChange",function(te){te=te.map(function(ce){return JSON.parse(JSON.stringify(ce))}),S.emitDailyJSEvent({action:"available-devices-updated",availableDevices:te})}),dr(S,"handleNativeAppStateChange",function(){var te=pe(function*(ce){if(ce==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield S.destroy());var qe=ce==="active";S.disableReactNativeAutoDeviceManagement("video")||(qe?S.camUnmutedBeforeLosingNativeActiveState&&S.setLocalVideo(!0):(S.camUnmutedBeforeLosingNativeActiveState=S.localVideo(),S.camUnmutedBeforeLosingNativeActiveState&&S.setLocalVideo(!1)))});return function(ce){return te.apply(this,arguments)}}()),dr(S,"handleNativeAudioFocusChange",function(te){S.disableReactNativeAutoDeviceManagement("audio")||(S._hasNativeAudioFocus=te,S.toggleParticipantAudioBasedOnNativeAudioFocus(),S._hasNativeAudioFocus?S.micUnmutedBeforeLosingNativeAudioFocus&&S.setLocalAudio(!0):(S.micUnmutedBeforeLosingNativeAudioFocus=S.localAudio(),S.setLocalAudio(!1)))}),dr(S,"handleNativeSystemScreenCaptureStop",function(){S.stopScreenShare()}),!Af()&&!Ce())throw new Error("WebRTC not supported or suppressed");if(S.strictMode=L.strictMode===void 0||L.strictMode,S.allowMultipleCallInstances=(j=L.allowMultipleCallInstances)!==null&&j!==void 0&&j,Object.keys(Js).length&&(S._logDuplicateInstanceAttempt(),!S.allowMultipleCallInstances)){if(S.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),S.callClientId=lh(),Js[($=S).callClientId]=$,window._daily.instances[S.callClientId]={},S._sharedTracks={},window._daily.instances[S.callClientId].tracks=S._sharedTracks,L.dailyJsVersion=t.version(),S._iframe=f,S._callObjectMode=L.layout==="none"&&!S._iframe,S._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},L.showLocalVideo!==void 0?S._callObjectMode?console.error("showLocalVideo is not available in call object mode"):S._showLocalVideo=!!L.showLocalVideo:S._showLocalVideo=!0,L.showParticipantsBar!==void 0?S._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):S._showParticipantsBar=!!L.showParticipantsBar:S._showParticipantsBar=!0,L.customIntegrations!==void 0?S._callObjectMode?console.error("customIntegrations is not available in call object mode"):S._customIntegrations=L.customIntegrations:S._customIntegrations={},L.customTrayButtons!==void 0?S._callObjectMode?console.error("customTrayButtons is not available in call object mode"):S._customTrayButtons=L.customTrayButtons:S._customTrayButtons={},L.activeSpeakerMode!==void 0?S._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):S._activeSpeakerMode=!!L.activeSpeakerMode:S._activeSpeakerMode=!1,L.receiveSettings?S._callObjectMode?S._receiveSettings=L.receiveSettings:console.error("receiveSettings is only available in call object mode"):S._receiveSettings={},S.validateProperties(L),S.properties=ae({},L),S._inputSettings||(S._inputSettings={}),S._callObjectLoader=S._callObjectMode?new j5(S.callClientId):null,S._callState=Nx,S._isPreparingToJoin=!1,S._accessState={access:Nf},S._meetingSessionSummary={},S._finalSummaryOfPrevSession={},S._meetingSessionState=$f(lb,S._callObjectMode),S._nativeInCallAudioMode=ab,S._participants={},S._isScreenSharing=!1,S._participantCounts=cb,S._rmpPlayerState={},S._waitingParticipants={},S._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},S._activeSpeaker={},S._localAudioLevel=0,S._isLocalAudioLevelObserverRunning=!1,S._remoteParticipantsAudioLevel={},S._isRemoteParticipantsAudioLevelObserverRunning=!1,S._maxAppMessageSize=Pf,S._messageChannel=Ce()?new _5:new b5,S._iframe&&(S._iframe.requestFullscreen?S._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===S._iframe?(S.emitDailyJSEvent({action:zc}),S.sendMessageToCallMachine({action:zc})):(S.emitDailyJSEvent({action:Vc}),S.sendMessageToCallMachine({action:Vc}))}):S._iframe.webkitRequestFullscreen&&S._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===S._iframe?(S.emitDailyJSEvent({action:zc}),S.sendMessageToCallMachine({action:zc})):(S.emitDailyJSEvent({action:Vc}),S.sendMessageToCallMachine({action:Vc}))})),Ce()){var V=S.nativeUtils();V.addAudioFocusChangeListener&&V.removeAudioFocusChangeListener&&V.addAppStateChangeListener&&V.removeAppStateChangeListener&&V.addSystemScreenCaptureStopListener&&V.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),S._hasNativeAudioFocus=!0,V.addAudioFocusChangeListener(S.handleNativeAudioFocusChange),V.addAppStateChangeListener(S.handleNativeAppStateChange),V.addSystemScreenCaptureStopListener(S.handleNativeSystemScreenCaptureStop)}return S._callObjectMode&&S.startListeningForDeviceChanges(),S._messageChannel.addListenerForMessagesFromCallMachine(S.handleMessageFromCallMachine,S.callClientId,S),S}return ah(t,Mc),pn(t,[{key:"destroy",value:(ie=pe(function*(){var f;try{yield this.leave()}catch{}var j=this._iframe;if(j){var S=j.parentElement;S&&S.removeChild(j)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ce()){var P=this.nativeUtils();P.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),P.removeAppStateChangeListener(this.handleNativeAppStateChange),P.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Js[this.callClientId],!((f=window)===null||f===void 0||(f=f._daily)===null||f===void 0)&&f.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ie.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(f){var j=f.bodyClass,S=f.cssFile,P=f.cssText;return Ee(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(S),bodyClass:j,cssText:P}),this}},{key:"iframe",value:function(){return Ee(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return In(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return In(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(f,j){for(var S in j){if(!qc[S])throw new Error("unrecognized updateParticipant property ".concat(S));if(qc[S].validate&&!qc[S].validate(j[S],this,this._participants[f]))throw new Error(qc[S].help)}}},{key:"updateParticipant",value:function(f,j){return this._participants.local&&this._participants.local.session_id===f&&(f="local"),f&&j&&(this.validateParticipantProperties(f,j),this.sendMessageToCallMachine({action:"update-participant",id:f,properties:j})),this}},{key:"updateParticipants",value:function(f){var j=this._participants.local&&this._participants.local.session_id;for(var S in f)S===j&&(S="local"),S&&f[S]&&this.validateParticipantProperties(S,f[S]);return this.sendMessageToCallMachine({action:"update-participants",participants:f}),this}},{key:"updateWaitingParticipant",value:(he=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(In(this._callObjectMode,"updateWaitingParticipant()"),Ie(this._callState,"updateWaitingParticipant()"),typeof j!="string"||Ne(S)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(P,C){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:j,updates:S},function(A){A.error&&C(A.error),A.id||C(new Error("unknown error in updateWaitingParticipant()")),P({id:A.id})})})}),function(){return he.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ee=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(In(this._callObjectMode,"updateWaitingParticipants()"),Ie(this._callState,"updateWaitingParticipants()"),Ne(j)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(S,P){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:j},function(C){C.error&&P(C.error),C.ids||P(new Error("unknown error in updateWaitingParticipants()")),S({ids:C.ids})})})}),function(){return ee.apply(this,arguments)})},{key:"requestAccess",value:(U=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=j.access,P=S===void 0?{level:gB}:S,C=j.name,A=C===void 0?"":C;return In(this._callObjectMode,"requestAccess()"),Ie(this._callState,"requestAccess()"),new Promise(function($,L){f.sendMessageToCallMachine({action:"daily-method-request-access",access:P,name:A},function(V){V.error&&L(V.error),V.access||L(new Error("unknown error in requestAccess()")),$({access:V.access,granted:V.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in j&&(Ce()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),j={}):f&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),j={})),this.sendMessageToCallMachine({action:"local-audio",state:f,options:j}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(f){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:f}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(f){return this.sendMessageToCallMachine({action:"local-video",state:f}),this}},{key:"_setAllowLocalAudio",value:function(f){if(this._preloadCache.allowLocalAudio=f,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:f}),this}},{key:"_setAllowLocalVideo",value:function(f){if(this._preloadCache.allowLocalVideo=f,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:f}),this}},{key:"getReceiveSettings",value:(I=pe(function*(f){var j=this,S=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,P=S!==void 0&&S;if(In(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ne(f)){case"string":return new Promise(function(C){j.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:f,showInheritedValues:P},function(A){C(A.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(f){return I.apply(this,arguments)})},{key:"updateReceiveSettings",value:(ne=pe(function*(f){var j=this;if(In(this._callObjectMode,"updateReceiveSettings()"),!XC(f,{allowAllParticipantsKey:!0}))throw new Error(tN({allowAllParticipantsKey:!0}));return Ie(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(S){j.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:f},function(P){S({receiveSettings:P.receiveSettings})})})}),function(f){return ne.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(f,j){if(f){var S={};if(f.audio){var P,C,A;f.audio.settings&&(!Object.keys(f.audio.settings).length&&j||(S.audio={settings:ae({},f.audio.settings)})),j&&(P=S.audio)!==null&&P!==void 0&&(P=P.settings)!==null&&P!==void 0&&P.customTrack&&(S.audio.settings={customTrack:this._sharedTracks.audioTrack});var $=((C=f.audio.processor)===null||C===void 0?void 0:C.type)==="none"&&((A=f.audio.processor)===null||A===void 0?void 0:A._isDefaultWhenNone);if(f.audio.processor&&!$){var L=ae({},f.audio.processor);delete L._isDefaultWhenNone,S.audio=ae(ae({},S.audio),{},{processor:L})}}if(f.video){var V,te,ce;f.video.settings&&(!Object.keys(f.video.settings).length&&j||(S.video={settings:ae({},f.video.settings)})),j&&(V=S.video)!==null&&V!==void 0&&(V=V.settings)!==null&&V!==void 0&&V.customTrack&&(S.video.settings={customTrack:this._sharedTracks.videoTrack});var qe=((te=f.video.processor)===null||te===void 0?void 0:te.type)==="none"&&((ce=f.video.processor)===null||ce===void 0?void 0:ce._isDefaultWhenNone);if(f.video.processor&&!qe){var Tt=ae({},f.video.processor);delete Tt._isDefaultWhenNone,S.video=ae(ae({},S.video),{},{processor:Tt})}}return S}}},{key:"getInputSettings",value:function(){var f=this;return Ee(),new Promise(function(j){j(f._getInputSettings())})}},{key:"_getInputSettings",value:function(){var f,j,S,P,C,A,$={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(f=((S=this._inputSettings)===null||S===void 0?void 0:S.video)||$,j=((P=this._inputSettings)===null||P===void 0?void 0:P.audio)||$):(f=((C=this._preloadCache)===null||C===void 0||(C=C.inputSettings)===null||C===void 0?void 0:C.video)||$,j=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.audio)||$);var L={audio:j,video:f};return this._prepInputSettingsForSharing(L,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(f,j){var S=this._inputSettings||{},P={};if(f.video){var C,A,$;P.video={},f.video.settings?(P.video.settings={},j||f.video.settings.customTrack||($=S.video)===null||$===void 0||!$.settings?P.video.settings=f.video.settings:P.video.settings=ae(ae({},S.video.settings),f.video.settings),Object.keys(P.video.settings).length||delete P.video.settings):(C=S.video)!==null&&C!==void 0&&C.settings&&(P.video.settings=S.video.settings),f.video.processor?P.video.processor=f.video.processor:(A=S.video)!==null&&A!==void 0&&A.processor&&(P.video.processor=S.video.processor)}else S.video&&(P.video=S.video);if(f.audio){var L,V,te;P.audio={},f.audio.settings?(P.audio.settings={},j||f.audio.settings.customTrack||(te=S.audio)===null||te===void 0||!te.settings?P.audio.settings=f.audio.settings:P.audio.settings=ae(ae({},S.audio.settings),f.audio.settings),Object.keys(P.audio.settings).length||delete P.audio.settings):(L=S.audio)!==null&&L!==void 0&&L.settings&&(P.audio.settings=S.audio.settings),f.audio.processor?P.audio.processor=f.audio.processor:(V=S.audio)!==null&&V!==void 0&&V.processor&&(P.audio.processor=S.audio.processor)}else S.audio&&(P.audio=S.audio);this._maybeUpdateInputSettings(P)}},{key:"_devicesFromInputSettings",value:function(f){var j,S,P=(f==null||(j=f.video)===null||j===void 0||(j=j.settings)===null||j===void 0?void 0:j.deviceId)||null,C=(f==null||(S=f.audio)===null||S===void 0||(S=S.settings)===null||S===void 0?void 0:S.deviceId)||null,A=this._preloadCache.outputDeviceId||null;return{camera:P?{deviceId:P}:{},mic:C?{deviceId:C}:{},speaker:A?{deviceId:A}:{}}}},{key:"updateInputSettings",value:(J=pe(function*(f){var j=this;return Ee(),ZC(f)?f.video||f.audio?(eN(f,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(f,!0),this._getInputSettings()):new Promise(function(S,P){j.sendMessageToCallMachine({action:"update-input-settings",inputSettings:f},function(C){if(C.error)P(C.error);else{if(C.returnPreloadCache)return j._updatePreloadCacheInputSettings(f,!0),void S(j._getInputSettings());j._maybeUpdateInputSettings(C.inputSettings),S(j._prepInputSettingsForSharing(C.inputSettings,!0))}})})):this._getInputSettings():(console.error(Fm()),Promise.reject(Fm()))}),function(f){return J.apply(this,arguments)})},{key:"setBandwidth",value:function(f){var j=f.kbs,S=f.trackConstraints;if(Ee(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:j,trackConstraints:S}),this}},{key:"getDailyLang",value:function(){var f=this;if(Ee(),this._callMachineInitialized)return new Promise(function(j){f.sendMessageToCallMachine({action:"get-daily-lang"},function(S){delete S.action,delete S.callbackStamp,j(S)})})}},{key:"setDailyLang",value:function(f){return Ee(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:f}),this}},{key:"setProxyUrl",value:function(f){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:f}),this}},{key:"setIceConfig",value:function(f){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:f}),this}},{key:"meetingSessionSummary",value:function(){return[Gs,ns].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(G=pe(function*(){var f=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ie(this._callState,"getMeetingSession()"),new Promise(function(j){f.sendMessageToCallMachine({action:"get-meeting-session"},function(S){delete S.action,delete S.callbackStamp,j(S)})})}),function(){return G.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ie(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";In(this._callObjectMode,"setMeetingSessionData()"),Ie(this._callState,"setMeetingSessionData");try{(function(S,P){new S5({data:S,mergeStrategy:P})})(f,j)}catch(S){throw console.error(S),S}try{this.sendMessageToCallMachine({action:"set-session-data",data:f,mergeStrategy:j})}catch(S){throw new Error("Error setting meeting session data: ".concat(S))}}},{key:"setUserName",value:function(f,j){var S=this;return this.properties.userName=f,new Promise(function(P){S.sendMessageToCallMachine({action:"set-user-name",name:f??"",thisMeetingOnly:Ce()||!!j&&!!j.thisMeetingOnly},function(C){delete C.action,delete C.callbackStamp,P(C)})})}},{key:"setUserData",value:(D=pe(function*(f){var j=this;try{YC(f)}catch(S){throw console.error(S),S}if(this.properties.userData=f,this._callMachineInitialized)return new Promise(function(S){try{j.sendMessageToCallMachine({action:"set-user-data",userData:f},function(P){delete P.action,delete P.callbackStamp,S(P)})}catch(P){throw new Error("Error setting user data: ".concat(P))}})}),function(f){return D.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(f){if(f&&(f<100||typeof f!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(f){var j=this;if(typeof AudioWorkletNode>"u"&&!Ce())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(S,P){j.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:f},function(C){j._isLocalAudioLevelObserverRunning=!C.error,C.error?P({error:C.error}):S()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:f}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(f){var j=this;if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(S,P){j.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:f},function(C){j._isRemoteParticipantsAudioLevelObserverRunning=!C.error,C.error?P({error:C.error}):S()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:f}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(H=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(In(this._callObjectMode,"startCamera()"),Df(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(j)}catch(S){return Promise.reject(S)}else{if(this._didPreAuth){if(j.url&&j.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(j.token&&j.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(j),this.properties=ae(ae({},this.properties),j)}return new Promise(function(S){f._preloadCache.inputSettings=f._prepInputSettingsForSharing(f._inputSettings,!1),f.sendMessageToCallMachine({action:"start-camera",properties:to(f.properties,f.callClientId),preloadCache:to(f._preloadCache,f.callClientId)},function(P){S({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return H.apply(this,arguments)})},{key:"validateCustomTrack",value:function(f,j,S){if(S&&S.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(j&&j!=="music"&&j!=="speech"&&!(j instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(S&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(S))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(f instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Ee(),Ie(this._callState,"startCustomTrack()"),this.validateCustomTrack(j.track,j.mode,j.trackName),new Promise(function(S,P){f._sharedTracks.customTrack=j.track,j.track=Ir,f.sendMessageToCallMachine({action:"start-custom-track",properties:j},function(C){C.error?P({error:C.error}):S(C.mediaTag)})})}},{key:"stopCustomTrack",value:function(f){var j=this;return Ee(),Ie(this._callState,"stopCustomTrack()"),new Promise(function(S){j.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:f},function(P){S(P.mediaTag)})})}},{key:"setCamera",value:function(f){var j=this;return Ta(),Kc(this._callMachineInitialized,"setCamera()"),new Promise(function(S){j.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:f},function(P){S({device:P.device})})})}},{key:"setAudioDevice",value:(M=pe(function*(f){return Ta(),this.nativeUtils().setAudioDevice(f),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(f){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(S){f.sendMessageToCallMachine({action:"cycle-camera",properties:j},function(P){S({device:P.device})})})}},{key:"cycleMic",value:function(){var f=this;return Ee(),new Promise(function(j){f.sendMessageToCallMachine({action:"cycle-mic"},function(S){j({device:S.device})})})}},{key:"getCameraFacingMode",value:function(){var f=this;return Ta(),new Promise(function(j){f.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(S){j(S.facingMode)})})}},{key:"setInputDevicesAsync",value:(K=pe(function*(f){var j=this,S=f.audioDeviceId,P=f.videoDeviceId,C=f.audioSource,A=f.videoSource;if(Ee(),C!==void 0&&(S=C),A!==void 0&&(P=A),typeof S=="boolean"&&(this._setAllowLocalAudio(S),S=void 0),typeof P=="boolean"&&(this._setAllowLocalVideo(P),P=void 0),!S&&!P)return yield this.getInputDevices();var $={};return S&&(S instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=S,S=Ir,$.audio={settings:{customTrack:S}}):(delete this._sharedTracks.audioTrack,$.audio={settings:{deviceId:S}})),P&&(P instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=P,P=Ir,$.video={settings:{customTrack:P}}):(delete this._sharedTracks.videoTrack,$.video={settings:{deviceId:P}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings($,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(L){j.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:S,videoDeviceId:P},function(V){if(delete V.action,delete V.callbackStamp,V.returnPreloadCache)return j._updatePreloadCacheInputSettings($,!1),void L(j._devicesFromInputSettings(j._inputSettings));L(V)})})}),function(f){return K.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=pe(function*(f){var j=this,S=f.outputDeviceId;if(Ee(),!S||typeof S!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=S,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P,C){j.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:S},function(A){if(delete A.action,delete A.callbackStamp,A.error){var $=new Error(A.error.message);return $.type=A.error.type,void C($)}A.returnPreloadCache?P(j._devicesFromInputSettings(j._inputSettings)):P(A)})})}),function(f){return R.apply(this,arguments)})},{key:"getInputDevices",value:(F=pe(function*(){var f=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(j){f.sendMessageToCallMachine({action:"get-input-devices"},function(S){S.returnPreloadCache?j(f._devicesFromInputSettings(f._inputSettings)):j({camera:S.camera,mic:S.mic,speaker:S.speaker})})})}),function(){return F.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Ta(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(f){if(Ta(),[ab,V5].includes(f)){if(f!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=f,!this.disableReactNativeAutoDeviceManagement("audio")&&gu(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",f)}},{key:"preAuth",value:(O=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(In(this._callObjectMode,"preAuth()"),Df(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(j)),!j.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(j),this.properties=ae(ae({},this.properties),j),new Promise(function(S,P){f._preloadCache.inputSettings=f._prepInputSettingsForSharing(f._inputSettings,!1),f.sendMessageToCallMachine({action:"daily-method-preauth",properties:to(f.properties,f.callClientId),preloadCache:to(f._preloadCache,f.callClientId)},function(C){return C.error?P(C.error):C.access?(f._didPreAuth=!0,void S({access:C.access})):P(new Error("unknown error in preAuth()"))})})}),function(){return O.apply(this,arguments)})},{key:"load",value:(T=pe(function*(f){var j=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(f&&(this.validateProperties(f),this.properties=ae(ae({},this.properties),f)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(Px),this.emitDailyJSEvent({action:SB}),this._callObjectMode?new Promise(function(S,P){j._callObjectLoader.cancel();var C=Date.now();j._callObjectLoader.load(j.properties.dailyConfig,function(A){j._bundleLoadTime=A?"no-op":Date.now()-C,j._updateCallState(Tx),A&&j.emitDailyJSEvent({action:Ax}),S()},function(A,$){if(j.emitDailyJSEvent({action:jB}),!$){j._updateCallState(ns),j.resetMeetingDependentVars();var L={action:Lx,errorMsg:A.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:A,bundleUrl:ld(j.properties.dailyConfig)}}};j._maybeSendToSentry(L),j.emitDailyJSEvent(L),P(A.msg)}})}):(this._iframe.src=wC(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(S,P){j._loadedCallback=function(C){j._callState!==ns?(j._updateCallState(Tx),(j.properties.cssFile||j.properties.cssText)&&j.loadCss(j.properties),S()):P(C)}}))}}),function(f){return T.apply(this,arguments)})},{key:"join",value:(N=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var S=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(j)}catch(P){return this.updateIsPreparingToJoin(!1),Promise.reject(P)}}else{if(S=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(j.url&&j.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(j.token&&j.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(j.url&&!this._callObjectMode&&j.url&&j.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(j.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(j),this.properties=ae(ae({},this.properties),j)}return j.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!j.showLocalVideo),j.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!j.showParticipantsBar),this._callState===ii||this._callState===Am?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Am,!1),this.emitDailyJSEvent({action:CB}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:to(this.properties,this.callClientId),preloadCache:to(this._preloadCache,this.callClientId)}),new Promise(function(P,C){f._joinedCallback=function(A,$){if(f._callState!==ns){if(f._updateCallState(ii),A)for(var L in A){if(f._callObjectMode){var V=f._callMachine().store;Jx(A[L],V),Qx(A[L],V),Yx(A[L],f._participants[L],V)}f._participants[L]=ae({},A[L]),f.toggleParticipantAudioBasedOnNativeAudioFocus()}S&&f.loadCss(f.properties),P(A)}else C($)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(E=pe(function*(){var f=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(j){f._callState===Gs||f._callState===ns?j():f._callObjectLoader&&!f._callObjectLoader.loaded?(f._callObjectLoader.cancel(),f._updateCallState(Gs),f.resetMeetingDependentVars(),f.emitDailyJSEvent({action:Gs}),j()):(f._resolveLeave=j,f.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return E.apply(this,arguments)})},{key:"startScreenShare",value:(k=pe(function*(){var f=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Kc(this._callMachineInitialized,"startScreenShare()"),j.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",j.screenVideoSendSettings),j.mediaStream&&(this._sharedTracks.screenMediaStream=j.mediaStream,j.mediaStream=Ir),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var S=this.nativeUtils();if(yield S.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Dx,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});S.setSystemScreenCaptureStartCallback(function(){S.setSystemScreenCaptureStartCallback(null),f.sendMessageToCallMachine({action:Fx,captureOptions:j})}),S.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:Fx,captureOptions:j})}),function(){return k.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Kc(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=f.type;if(j&&j!=="cloud"&&j!=="raw-tracks"&&j!=="local")throw new Error("invalid type: ".concat(j,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(ae({action:"local-recording-start"},f))}},{key:"updateRecording",value:function(f){var j=f.layout,S=j===void 0?{preset:"default"}:j,P=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:S,instanceId:P})}},{key:"stopRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-stop"},f))}},{key:"startLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-start-live-streaming"},f))}},{key:"updateLiveStreaming",value:function(f){var j=f.layout,S=j===void 0?{preset:"default"}:j,P=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:S,instanceId:P})}},{key:"addLiveStreamingEndpoints",value:function(f){var j=f.endpoints,S=f.instanceId;this.sendMessageToCallMachine({action:Ux,endpointsOp:m5,endpoints:j,instanceId:S})}},{key:"removeLiveStreamingEndpoints",value:function(f){var j=f.endpoints,S=f.instanceId;this.sendMessageToCallMachine({action:Ux,endpointsOp:g5,endpoints:j,instanceId:S})}},{key:"stopLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-stop-live-streaming"},f))}},{key:"validateDailyConfig",value:function(f){f.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(f.camSimulcastEncodings)),f.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),FC()&&f.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(f){if(!(f instanceof Array||Array.isArray(f)))throw new Error("encodings must be an Array");if(!gb(f.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var P=0;P<f.length;P++){var C=f[P];for(var A in this._validateEncodingLayerHasValidProperties(C),C)if(If.includes(A)){if(typeof C[A]!="number")throw new Error("".concat(A," must be a number"));if(j){var $=j[A],L=$.min,V=$.max;if(!gb(C[A],L,V))throw new Error("".concat(A," value not in range. valid range: ").concat(L," to ").concat(V))}}else if(!["active","scalabilityMode"].includes(A))throw new Error("Invalid key ".concat(A,", valid keys are:")+Object.values(If));if(S&&!C.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(_=pe(function*(f){var j=this,S=f.url,P=f.settings,C=P===void 0?{state:Rm.PLAY}:P;try{(function(A){if(typeof A!="string")throw new Error('url parameter must be "string" type')})(S),mb(C),function(A){for(var $ in A)if(!ub.includes($))throw new Error("Invalid key ".concat($,", valid keys are: ").concat(ub));A.simulcastEncodings&&this.validateSimulcastEncodings(A.simulcastEncodings,QC,!0)}(C)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),A}return new Promise(function(A,$){j.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:S,settings:C},function(L){L.error?$({error:L.error,errorMsg:L.errorMsg}):A({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})})})}),function(f){return _.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(v=pe(function*(f){var j=this;if(typeof f!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(S,P){j.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:f},function(C){C.error?P({error:C.error,errorMsg:C.errorMsg}):S()})})}),function(f){return v.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(w=pe(function*(f){var j=this,S=f.session_id,P=f.settings;try{mb(P)}catch(C){throw console.error("invalid argument Error: ".concat(C)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),C}return new Promise(function(C,A){j.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:S,settings:P},function($){$.error?A({error:$.error,errorMsg:$.errorMsg}):C({session_id:$.session_id,remoteMediaPlayerState:{state:$.state,settings:$.settings}})})})}),function(f){return w.apply(this,arguments)})},{key:"startTranscription",value:function(f){Ie(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ae({action:"daily-method-start-transcription"},f))}},{key:"updateTranscription",value:function(f){if(Ie(this._callState,"updateTranscription()"),!f)throw new Error("updateTranscription Error: options is mandatory");if(Ne(f)!=="object")throw new Error("updateTranscription Error: options must be object type");if(f.participants&&!Array.isArray(f.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ae({action:"daily-method-update-transcription"},f))}},{key:"stopTranscription",value:function(f){if(Ie(this._callState,"stopTranscription()"),f&&Ne(f)!=="object")throw new Error("stopTranscription Error: options must be object type");if(f&&!f.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ae({action:"daily-method-stop-transcription"},f))}},{key:"startDialOut",value:(y=pe(function*(f){var j=this;Ie(this._callState,"startDialOut()");var S=function($){if($){if(!Array.isArray($))throw new Error("Error starting dial out: audio codec must be an array");if($.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");$.forEach(function(L){if(typeof L!="string")throw new Error("Error starting dial out: audio codec must be a string");if(L!=="OPUS"&&L!=="PCMU"&&L!=="PCMA"&&L!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!f.sipUri&&!f.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(f.sipUri&&f.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(f.sipUri){if(typeof f.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!f.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(f.video&&typeof f.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function($){if($&&(S($.audio),$.video)){if(!Array.isArray($.video))throw new Error("Error starting dial out: video codec must be an array");if($.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");$.video.forEach(function(L){if(typeof L!="string")throw new Error("Error starting dial out: video codec must be a string");if(L!=="H264"&&L!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(f.codecs)}if(f.phoneNumber){if(typeof f.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(f.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");f.codecs&&S(f.codecs.audio)}if(f.callerId){if(typeof f.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(f.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(f.displayName){if(typeof f.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(f.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(f.userId){if(typeof f.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(f.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(hb(f),f.permissions&&f.permissions.canReceive){var P=Nt(GC.validateJSONObject(f.permissions.canReceive),2),C=P[0],A=P[1];if(!C)throw new Error(A)}if(f.provider){if(f.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(f.provider));if(f.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function($,L){j.sendMessageToCallMachine(ae({action:"dialout-start"},f),function(V){V.error?L(V.error):$(V)})})}),function(f){return y.apply(this,arguments)})},{key:"stopDialOut",value:function(f){var j=this;return Ie(this._callState,"stopDialOut()"),new Promise(function(S,P){j.sendMessageToCallMachine(ae({action:"dialout-stop"},f),function(C){C.error?P(C.error):S(C)})})}},{key:"sipCallTransfer",value:(h=pe(function*(f){var j=this;if(Ie(this._callState,"sipCallTransfer()"),!f)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return f.useSipRefer=!1,pb(f,"sipCallTransfer"),hb(f),new Promise(function(S,P){j.sendMessageToCallMachine(ae({action:Bx},f),function(C){C.error?P(C.error):S(C)})})}),function(f){return h.apply(this,arguments)})},{key:"sipRefer",value:(x=pe(function*(f){var j=this;if(Ie(this._callState,"sipRefer()"),!f)throw new Error("sessionId and toEndPoint are mandatory parameter");return f.useSipRefer=!0,pb(f,"sipRefer"),new Promise(function(S,P){j.sendMessageToCallMachine(ae({action:Bx},f),function(C){C.error?P(C.error):S(C)})})}),function(f){return x.apply(this,arguments)})},{key:"sendDTMF",value:(m=pe(function*(f){var j=this;return Ie(this._callState,"sendDTMF()"),function(S){var P=S.sessionId,C=S.tones;if(!P||!C)throw new Error("sessionId and tones are mandatory parameter");if(typeof P!="string"||typeof C!="string")throw new Error("sessionId and tones should be of string type");if(C.length>20)throw new Error("tones string must be upto 20 characters");var A=/[^0-9A-D*#]/g,$=C.match(A);if($&&$[0])throw new Error("".concat($[0]," is not valid DTMF tone"))}(f),new Promise(function(S,P){j.sendMessageToCallMachine(ae({action:"send-dtmf"},f),function(C){C.error?P(C.error):S(C)})})}),function(f){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var f=this;return this._callState!==ii?Promise.resolve(ae({stats:{latest:{}}},this._network)):new Promise(function(j){f.sendMessageToCallMachine({action:"get-calc-stats"},function(S){j(ae(ae({},f._network),{},{stats:S.stats}))})})}},{key:"testWebsocketConnectivity",value:(g=pe(function*(){var f=this;if(Lf(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(j){return Promise.reject(j)}return new Promise(function(j,S){f.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(P){P.error?S(P.error):j(P.results)})})}),function(){return g.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(f){return f?f instanceof MediaStreamTrack?!!$5(f)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(p=pe(function*(){var f=this;Ee(),In(this._callObjectMode,"testCallQuality()"),Kc(this._callMachineInitialized,"testCallQuality()",null,!0),Df(this._callState,this._isPreparingToJoin,"testCallQuality()");var j=this._testCallAlreadyInProgress,S=function(C){j||(f._testCallInProgress=C)};if(S(!0),this.needsLoad())try{var P=this._callState;yield this.load(),this._callState=P}catch(C){return S(!1),Promise.reject(C)}return new Promise(function(C){f.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:f.properties.dailyJsVersion},function(A){var $=A.results,L=$.result,V=S0($,B5);if(L==="failed"){var te,ce=ae({},V);(te=V.error)!==null&&te!==void 0&&te.details?(V.error.details=JSON.parse(V.error.details),ce.error=ae(ae({},ce.error),{},{details:ae({},ce.error.details)}),ce.error.details.duringTest="testCallQuality"):(ce.error=ce.error?ae({},ce.error):{},ce.error.details={duringTest:"testCallQuality"}),f._maybeSendToSentry(ce)}S(!1),C(ae({result:L},V))})})}),function(){return p.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=pe(function*(f){var j;Ce()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),j=yield this.testPeerToPeerCallQuality(f)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),j=yield this.testCallQuality());var S={result:j.result,secondsElapsed:j.secondsElapsed};return j.data&&(S.data={maxRTT:j.data.maxRoundTripTime,packetLoss:j.data.avgRecvPacketLoss}),S}),function(f){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=pe(function*(f){var j=this;if(Lf(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}var S=f.videoTrack,P=f.duration;if(!this._validateVideoTrackForNetworkTests(S))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=S,new Promise(function(C,A){j.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:P},function($){$.error?A($.error):C($.results)})})}),function(f){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ce()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=pe(function*(f){var j=this;if(Lf(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(S){return Promise.reject(S)}if(!this._validateVideoTrackForNetworkTests(f))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=f,new Promise(function(S,P){j.sendMessageToCallMachine({action:"test-network-connectivity"},function(C){C.error?P(C.error):S(C.results)})})}),function(f){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var f=this;return new Promise(function(j){f._callState===ii?f.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(S){j(S.cpuStats)}):j({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(f){var j;if(!(((j=Object.keys(f))===null||j===void 0?void 0:j.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(If))}},{key:"_validateVideoSendSettings",value:function(f,j){var S=f==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],P="Video send settings should be either an object or one of the supported presets: ".concat(S.join());if(typeof j=="string"){if(!S.includes(j))throw new Error(P)}else{if(Ne(j)!=="object")throw new Error(P);if(!j.maxQuality&&!j.encodings&&j.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(j.maxQuality&&["low","medium","high"].indexOf(j.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(j.encodings){var C=!1;switch(Object.keys(j.encodings).length){case 1:C=!j.encodings.low;break;case 2:C=!j.encodings.low||!j.encodings.medium;break;case 3:C=!j.encodings.low||!j.encodings.medium||!j.encodings.high;break;default:C=!0}if(C)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");j.encodings.low&&this._validateEncodingLayerHasValidProperties(j.encodings.low),j.encodings.medium&&this._validateEncodingLayerHasValidProperties(j.encodings.medium),j.encodings.high&&this._validateEncodingLayerHasValidProperties(j.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(f){var j=this;if(!f||Object.keys(f).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(f).forEach(function(S){var P=Nt(S,2),C=P[0],A=P[1];j._validateVideoSendSettings(C,A)})}},{key:"updateSendSettings",value:function(f){var j=this;return this.validateUpdateSendSettings(f),this.needsLoad()?(this._preloadCache.sendSettings=f,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(S,P){j.sendMessageToCallMachine({action:"update-send-settings",sendSettings:f},function(C){C.error?P(C.error):S(C.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ee(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(f){return Ee(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:f}),this}},{key:"activeSpeakerMode",value:function(){return Ee(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(f){return Ie(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=f,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:f}),this}},{key:"enumerateDevices",value:(l=pe(function*(){var f=this;if(this._callObjectMode){var j=yield navigator.mediaDevices.enumerateDevices();return Ii()==="Firefox"&&pd().major>115&&pd().major<123&&(j=j.filter(function(S){return S.kind!=="audiooutput"})),{devices:j.map(function(S){var P=JSON.parse(JSON.stringify(S));if(!Ce()&&S.kind==="videoinput"&&S.getCapabilities){var C,A=S.getCapabilities();P.facing=(A==null||(C=A.facingMode)===null||C===void 0?void 0:C.length)>=1?A.facingMode[0]:void 0}return P})}}return new Promise(function(S){f.sendMessageToCallMachine({action:"enumerate-devices"},function(P){S({devices:P.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ie(this._callState,"sendAppMessage()"),JSON.stringify(f).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:f,to:j}),this}},{key:"addFakeParticipant",value:function(f){return Ee(),Ie(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ae({action:"add-fake-participant"},f)),this}},{key:"setShowNamesMode",value:function(f){return Zt(this._callObjectMode,"setShowNamesMode()"),Ee(),f&&f!=="always"&&f!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:f}),this)}},{key:"setShowLocalVideo",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Zt(this._callObjectMode,"setShowLocalVideo()"),Ee(),Ie(this._callState,"setShowLocalVideo()"),typeof f!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:f}),this._showLocalVideo=f,this)}},{key:"showLocalVideo",value:function(){return Zt(this._callObjectMode,"showLocalVideo()"),Ee(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Zt(this._callObjectMode,"setShowParticipantsBar()"),Ee(),Ie(this._callState,"setShowParticipantsBar()"),typeof f!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:f}),this._showParticipantsBar=f,this)}},{key:"showParticipantsBar",value:function(){return Zt(this._callObjectMode,"showParticipantsBar()"),Ee(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ee(),Zt(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(f){return Ee(),Zt(this._callObjectMode,"setCustomIntegrations()"),Ie(this._callState,"setCustomIntegrations()"),sN(f)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:f}),this._customIntegrations=f,this):this}},{key:"startCustomIntegrations",value:function(f){var j=this;if(Ee(),Zt(this._callObjectMode,"startCustomIntegrations()"),Ie(this._callState,"startCustomIntegrations()"),Array.isArray(f)&&f.some(function(C){return typeof C!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var S=typeof f=="string"?[f]:f,P=S.filter(function(C){return!(C in j._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:S}),this)}},{key:"stopCustomIntegrations",value:function(f){var j=this;if(Ee(),Zt(this._callObjectMode,"stopCustomIntegrations()"),Ie(this._callState,"stopCustomIntegrations()"),Array.isArray(f)&&f.some(function(C){return typeof C!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var S=typeof f=="string"?[f]:f,P=S.filter(function(C){return!(C in j._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:S}),this)}},{key:"customTrayButtons",value:function(){return Zt(this._callObjectMode,"customTrayButtons()"),Ee(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(f){return Zt(this._callObjectMode,"updateCustomTrayButtons()"),Ee(),Ie(this._callState,"updateCustomTrayButtons()"),rN(f)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:f}),this._customTrayButtons=f,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(gd))),this)}},{key:"theme",value:function(){return Zt(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(f){var j=this;return Zt(this._callObjectMode,"setTheme()"),new Promise(function(S,P){try{j.validateProperties({theme:f}),j.properties.theme=ae({},f),j.sendMessageToCallMachine({action:"set-theme",theme:j.properties.theme});try{j.emitDailyJSEvent({action:_B,theme:j.properties.theme})}catch(C){console.log("could not emit 'theme-updated'",C)}S(j.properties.theme)}catch(C){P(C)}})}},{key:"requestFullscreen",value:(o=pe(function*(){if(Ee(),this._iframe&&!document.fullscreenElement&&zx())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(f){console.log("could not make video call fullscreen",f)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ee(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=pe(function*(){var f=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(j){f.sendMessageToCallMachine({action:"get-sidebar-view"},function(S){j(S.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(f){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:f}),this)}},{key:"room",value:(s=pe(function*(){var f=this,j=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,S=j===void 0||j;return this._accessState.access===Nf||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(P){f.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:S},function(C){delete C.action,delete C.callbackStamp,P(C)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=pe(function*(){try{var f=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield f.json()).geo}}catch(j){return console.error("geo lookup failed",j),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=pe(function*(f){var j=this;return Ee(),Ie(this._callState,"setNetworkTopology()"),new Promise(function(S,P){j.sendMessageToCallMachine({action:"set-network-topology",opts:f},function(C){C.error?P({error:C.error}):S({workerId:C.workerId})})})}),function(f){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=pe(function*(){var f=this;return new Promise(function(j,S){f.needsLoad()&&j({topology:"none"}),f.sendMessageToCallMachine({action:"get-network-topology"},function(P){P.error?S({error:P.error}):j({topology:P.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(f){if(Ee(),typeof f!="number"&&f!==!0&&f!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(f));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:f})}},{key:"on",value:function(f,j){return Mc.prototype.on.call(this,f,j)}},{key:"once",value:function(f,j){return Mc.prototype.once.call(this,f,j)}},{key:"off",value:function(f,j){return Mc.prototype.off.call(this,f,j)}},{key:"validateProperties",value:function(f){var j,S;if(f!=null&&(j=f.dailyConfig)!==null&&j!==void 0&&j.userMediaAudioConstraints){var P,C;Ce()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var A=f.inputSettings||{};A.audio=((P=f.inputSettings)===null||P===void 0?void 0:P.audio)||{},A.audio.settings=((C=f.inputSettings)===null||C===void 0||(C=C.audio)===null||C===void 0?void 0:C.settings)||{},A.audio.settings=ae(ae({},A.audio.settings),f.dailyConfig.userMediaAudioConstraints),f.inputSettings=A,delete f.dailyConfig.userMediaAudioConstraints}if(f!=null&&(S=f.dailyConfig)!==null&&S!==void 0&&S.userMediaVideoConstraints){var $,L;Ce()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var V=f.inputSettings||{};V.video=(($=f.inputSettings)===null||$===void 0?void 0:$.video)||{},V.video.settings=((L=f.inputSettings)===null||L===void 0||(L=L.video)===null||L===void 0?void 0:L.settings)||{},V.video.settings=ae(ae({},V.video.settings),f.dailyConfig.userMediaVideoConstraints),f.inputSettings=V,delete f.dailyConfig.userMediaVideoConstraints}for(var te in f)if(Qs[te]){if(Qs[te].validate&&!Qs[te].validate(f[te],this))throw new Error("property '".concat(te,"': ").concat(Qs[te].help))}else console.warn("Ignoring unrecognized property '".concat(te,"'")),delete f[te]}},{key:"assembleMeetingUrl",value:function(){var f,j,S=ae(ae({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(f=this.properties.dailyConfig)!==null&&f!==void 0&&f.proxyUrl?encodeURIComponent((j=this.properties.dailyConfig)===null||j===void 0?void 0:j.proxyUrl):void 0}),P=S.url.match(/\?/)?"&":"?";return S.url+P+Object.keys(Qs).filter(function(C){return Qs[C].queryString&&S[C]!==void 0}).map(function(C){return"".concat(Qs[C].queryString,"=").concat(S[C])}).join("&")}},{key:"needsLoad",value:function(){return[Nx,Px,Gs,ns].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(f,j){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(f,j,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(f){this._messageChannel.forwardPackagedMessageToCallMachine(f,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(f){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(f,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(f){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(f)}},{key:"handleMessageFromCallMachine",value:function(f){switch(f.action){case xB:this.sendMessageToCallMachine(ae({action:bB},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var j={action:Wc,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:ld(this.properties.dailyConfig)}};this.sendMessageToCallMachine(j),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Ax:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(f);break;case NB:var S,P=ae({},f);delete P.internal,this._maxAppMessageSize=((S=f.internal)===null||S===void 0?void 0:S._maxAppMessageSize)||Pf,this._joinedCallback&&(this._joinedCallback(f.participants),this._joinedCallback=null),this.emitDailyJSEvent(P);break;case TB:case OB:if(this._callState===Gs)return;if(f.participant&&f.participant.session_id){var C=f.participant.local?"local":f.participant.session_id;if(this._callObjectMode){var A=this._callMachine().store;Jx(f.participant,A),Qx(f.participant,A),Yx(f.participant,this._participants[C],A)}try{this.maybeParticipantTracksStopped(this._participants[C],f.participant),this.maybeParticipantTracksStarted(this._participants[C],f.participant),this.maybeEventRecordingStopped(this._participants[C],f.participant),this.maybeEventRecordingStarted(this._participants[C],f.participant)}catch(Wt){console.error("track events error",Wt)}this.compareEqualForParticipantUpdateEvent(f.participant,this._participants[C])||(this._participants[C]=ae({},f.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(f))}break;case AB:if(f.participant&&f.participant.session_id){var $=this._participants[f.participant.session_id];$&&this.maybeParticipantTracksStopped($,null),delete this._participants[f.participant.session_id],this.emitDailyJSEvent(f)}break;case RB:Mt(this._participantCounts,f.participantCounts)||(this._participantCounts=f.participantCounts,this.emitDailyJSEvent(f));break;case MB:var L={access:f.access};f.awaitingAccess&&(L.awaitingAccess=f.awaitingAccess),Mt(this._accessState,L)||(this._accessState=L,this.emitDailyJSEvent(f));break;case IB:if(f.meetingSession){this._meetingSessionSummary=f.meetingSession,this.emitDailyJSEvent(f);var V=ae(ae({},f),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(V)}break;case Lx:var te;this._iframe&&!f.preserveIframe&&(this._iframe.src=""),this._updateCallState(ns),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(f.errorMsg),this._loadedCallback=null),f.preserveIframe;var ce=S0(f,z5);ce!=null&&(te=ce.error)!==null&&te!==void 0&&te.details&&(ce.error.details=JSON.parse(ce.error.details)),this._maybeSendToSentry(f),this._joinedCallback&&(this._joinedCallback(null,ce),this._joinedCallback=null),this.emitDailyJSEvent(ce);break;case PB:this._callState!==ns&&this._updateCallState(Gs),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(f);break;case"selected-devices-updated":f.devices&&this.emitDailyJSEvent(f);break;case i5:var qe=f.state,Tt=f.threshold,zt=f.quality,De=qe.state,dt=qe.reasons;De===this._network.networkState&&Mt(dt,this._network.networkStateReasons)&&Tt===this._network.threshold&&zt===this._network.quality||(this._network.networkState=De,this._network.networkStateReasons=dt,this._network.quality=zt,this._network.threshold=Tt,f.networkState=De,dt.length&&(f.networkStateReasons=dt),delete f.state,this.emitDailyJSEvent(f));break;case a5:f&&f.cpuLoadState&&this.emitDailyJSEvent(f);break;case l5:f&&f.faceCounts!==void 0&&this.emitDailyJSEvent(f);break;case r5:var Vt=f.activeSpeaker;this._activeSpeaker.peerId!==Vt.peerId&&(this._activeSpeaker.peerId=Vt.peerId,this.emitDailyJSEvent({action:f.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Kr=f.show;this._showLocalVideo=Kr,this.emitDailyJSEvent({action:f.action,show:Kr});break;case s5:var nr=f.enabled;this._activeSpeakerMode!==nr&&(this._activeSpeakerMode=nr,this.emitDailyJSEvent({action:f.action,enabled:this._activeSpeakerMode}));break;case LB:case $B:case FB:this._waitingParticipants=f.allWaitingParticipants,this.emitDailyJSEvent({action:f.action,participant:f.participant});break;case p5:Mt(this._receiveSettings,f.receiveSettings)||(this._receiveSettings=f.receiveSettings,this.emitDailyJSEvent({action:f.action,receiveSettings:f.receiveSettings}));break;case Ix:this._maybeUpdateInputSettings(f.inputSettings);break;case"send-settings-updated":Mt(this._sendSettings,f.sendSettings)||(this._sendSettings=f.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:f.action,sendSettings:f.sendSettings}));break;case"local-audio-level":this._localAudioLevel=f.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=f.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case YB:var Gr=f.session_id;this._rmpPlayerState[Gr]=f.playerState,this.emitDailyJSEvent(f);break;case ZB:delete this._rmpPlayerState[f.session_id],this.emitDailyJSEvent(f);break;case XB:var Xt=f.session_id,Gl=this._rmpPlayerState[Xt];Gl&&this.compareEqualForRMPUpdateEvent(Gl,f.remoteMediaPlayerState)||(this._rmpPlayerState[Xt]=f.remoteMediaPlayerState,this.emitDailyJSEvent(f));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(f);break;case DB:var ph=this._meetingSessionState.topology!==(f.meetingSessionState&&f.meetingSessionState.topology);this._meetingSessionState=$f(f.meetingSessionState,this._callObjectMode),(this._callObjectMode||ph)&&this.emitDailyJSEvent(f);break;case e5:this._isScreenSharing=!0,this.emitDailyJSEvent(f);break;case t5:case n5:this._isScreenSharing=!1,this.emitDailyJSEvent(f);break;case Rx:case Mx:case HB:case qB:case KB:case zB:case VB:case WB:case kB:case EB:case JB:case QB:case"test-completed":case o5:case GB:case c5:case u5:case d5:case h5:case Dx:case f5:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(f);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(f,j){var S="record";f&&(j.local||j[S]!==!1||f[S]===j[S]||this.emitDailyJSEvent({action:Mx}))}},{key:"maybeEventRecordingStarted",value:function(f,j){var S="record";f&&(j.local||j[S]!==!0||f[S]===j[S]||this.emitDailyJSEvent({action:Rx}))}},{key:"_trackStatePlayable",value:function(f){return!(!f||f.state!==mB)}},{key:"_trackChanged",value:function(f,j){return(f==null?void 0:f.id)!==(j==null?void 0:j.id)}},{key:"maybeEventTrackStopped",value:function(f,j,S){var P,C,A=(P=j==null?void 0:j.tracks[f])!==null&&P!==void 0?P:null,$=(C=S==null?void 0:S.tracks[f])!==null&&C!==void 0?C:null,L=A==null?void 0:A.track;if(L){var V=this._trackStatePlayable(A),te=this._trackStatePlayable($),ce=this._trackChanged(L,$==null?void 0:$.track);V&&(te&&!ce||this.emitDailyJSEvent({action:BB,track:L,participant:S??j,type:f}))}}},{key:"maybeEventTrackStarted",value:function(f,j,S){var P,C,A=(P=j==null?void 0:j.tracks[f])!==null&&P!==void 0?P:null,$=(C=S==null?void 0:S.tracks[f])!==null&&C!==void 0?C:null,L=$==null?void 0:$.track;if(L){var V=this._trackStatePlayable(A),te=this._trackStatePlayable($),ce=this._trackChanged(A==null?void 0:A.track,L);te&&(V&&!ce||this.emitDailyJSEvent({action:UB,track:L,participant:S,type:f}))}}},{key:"maybeParticipantTracksStopped",value:function(f,j){if(f)for(var S in f.tracks)this.maybeEventTrackStopped(S,f,j)}},{key:"maybeParticipantTracksStarted",value:function(f,j){if(j)for(var S in j.tracks)this.maybeEventTrackStarted(S,f,j)}},{key:"compareEqualForRMPUpdateEvent",value:function(f,j){var S,P;return f.state===j.state&&((S=f.settings)===null||S===void 0?void 0:S.volume)===((P=j.settings)===null||P===void 0?void 0:P.volume)}},{key:"emitDailyJSEvent",value:function(f){try{f.callClientId=this.callClientId,this.emit(f.action,f)}catch(j){console.log("could not emit",f,j)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(f,j){return!!Mt(f,j)&&(!f.videoTrack||!j.videoTrack||f.videoTrack.id===j.videoTrack.id&&f.videoTrack.muted===j.videoTrack.muted&&f.videoTrack.enabled===j.videoTrack.enabled)&&(!f.audioTrack||!j.audioTrack||f.audioTrack.id===j.audioTrack.id&&f.audioTrack.muted===j.audioTrack.muted&&f.audioTrack.enabled===j.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ce()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(f){this._updateCallState(this._callState,f)}},{key:"_updateCallState",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(f!==this._callState||j!==this._isPreparingToJoin){var S=this._callState,P=this._isPreparingToJoin;this._callState=f,this._isPreparingToJoin=j;var C=this._callState===ii;this.updateShowAndroidOngoingMeetingNotification(C);var A=gu(S,P),$=gu(this._callState,this._isPreparingToJoin);A!==$&&(this.updateKeepDeviceAwake($),this.updateDeviceAudioMode($),this.updateNoOpRecordingEnsuringBackgroundContinuity($))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=cb,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Nf},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=$f(lb,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Pf,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(f){Ce()&&this.nativeUtils().setKeepDeviceAwake(f,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(f){if(Ce()&&!this.disableReactNativeAutoDeviceManagement("audio")){var j=f?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(j)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(f){if(Ce()&&this.nativeUtils().setShowOngoingMeetingNotification){var j,S,P,C;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var A=this.properties.reactNativeConfig.androidInCallNotification;j=A.title,S=A.subtitle,P=A.iconName,C=A.disableForCustomOverride}C&&(f=!1),this.nativeUtils().setShowOngoingMeetingNotification(f,j,S,P,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(f){Ce()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(f)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var f;if(Ce()){var j=(f=this._callMachine())===null||f===void 0||(f=f.store)===null||f===void 0?void 0:f.getState();for(var S in j==null?void 0:j.streams){var P=j.streams[S];P&&P.pendingTrack&&P.pendingTrack.kind==="audio"&&(P.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(f){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[f]}},{key:"absoluteUrl",value:function(f){if(f!==void 0){var j=document.createElement("a");return j.href=f,j.href}}},{key:"sayHello",value:function(){var f="hello, world.";return console.log(f),f}},{key:"_logUseAfterDestroy",value:function(){var f=Object.values(Js)[0];if(this.needsLoad())if(f&&!f.needsLoad()){var j={action:Wc,level:"error",code:this.strictMode?9995:9997};f.sendMessageToCallMachine(j)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var S={action:Wc,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(S,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var f=0,j=Object.values(Js);f<j.length;f++){var S=j[f];S._callMachineInitialized?(S.sendMessageToCallMachine({action:Wc,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),S._delayDuplicateInstanceLog=!1):S._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(f){var j,S,P,C;if(!((j=f.error)!==null&&j!==void 0&&j.type&&(![wB,yB,Ox].includes(f.error.type)||f.error.type===Ox&&f.error.msg.includes("deleted")))){var A=(S=this.properties)!==null&&S!==void 0&&S.url?new URL(this.properties.url):void 0,$="production";A&&A.host.includes(".staging.daily")&&($="staging");var L,V,te,ce,qe,Tt=function(Gr){const Xt=[I3(),R3(),aB(),iB(),hB(),pB(),F3(),fB()];return Gr.autoSessionTracking!==!1&&Xt.push(dB()),Xt}({}).filter(function(Gr){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Gr.name)}),zt=new K3({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:X3,stackParser:sB,integrations:Tt,environment:$}),De=new Ds;if(De.setClient(zt),zt.init(),this.session_id&&De.setExtra("sessionId",this.session_id),this.properties){var dt=ae({},this.properties);dt.userName=dt.userName?"[Filtered]":void 0,dt.userData=dt.userData?"[Filtered]":void 0,dt.token=dt.token?"[Filtered]":void 0,De.setExtra("properties",dt)}if(A){var Vt=A.searchParams.get("domain");if(!Vt){var Kr=A.host.match(/(.*?)\./);Vt=Kr&&Kr[1]||""}Vt&&De.setTag("domain",Vt)}f.error&&(De.setTag("fatalErrorType",f.error.type),De.setExtra("errorDetails",f.error.details),!((L=f.error.details)===null||L===void 0)&&L.uri&&De.setTag("serverAddress",f.error.details.uri),!((V=f.error.details)===null||V===void 0)&&V.workerGroup&&De.setTag("workerGroup",f.error.details.workerGroup),!((te=f.error.details)===null||te===void 0)&&te.geoGroup&&De.setTag("geoGroup",f.error.details.geoGroup),!((ce=f.error.details)===null||ce===void 0)&&ce.on&&De.setTag("connectionAttempt",f.error.details.on),(qe=f.error.details)!==null&&qe!==void 0&&qe.bundleUrl&&(De.setTag("bundleUrl",f.error.details.bundleUrl),De.setTag("bundleError",f.error.details.sourceError.type))),De.setTags({callMode:this._callObjectMode?Ce()?"reactNative":(P=this.properties)!==null&&P!==void 0&&(P=P.dailyConfig)!==null&&P!==void 0&&(P=P.callMode)!==null&&P!==void 0&&P.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:t.version()});var nr=((C=f.error)===null||C===void 0?void 0:C.msg)||f.errorMsg;De.captureException(new Error(nr))}}},{key:"_callMachine",value:function(){var f;return(f=window._daily)===null||f===void 0||(f=f.instances)===null||f===void 0||(f=f[this.callClientId])===null||f===void 0?void 0:f.callMachine}},{key:"_maybeUpdateInputSettings",value:function(f){if(!Mt(this._inputSettings,f)){var j=this._getInputSettings();this._inputSettings=f;var S=this._getInputSettings();Mt(j,S)||this.emitDailyJSEvent({action:Ix,inputSettings:S})}}}],[{key:"supportedBrowser",value:function(){if(Ce())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var f=t3.getParser(Pn());return{supported:!!Af(),mobile:f.getPlatformType()==="mobile",name:f.getBrowserName(),version:f.getBrowserVersion(),supportsFullscreen:!!zx(),supportsScreenShare:!!v5(),supportsSfu:!!Af(),supportsVideoProcessing:LC(),supportsAudioProcessing:$C()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.layout="none",new t(null,f)}},{key:"wrap",value:function(f){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ee(),!f||!f.contentWindow||typeof f.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return j.layout||(j.customLayout?j.layout="custom-v1":j.layout="browser"),new t(f,j)}},{key:"createFrame",value:function(f,j){var S,P;Ee(),f&&j?(S=f,P=j):f&&f.append?(S=f,P={}):(S=document.body,P=f||{});var C=P.iframeStyle;C||(C=S===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var A=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?A.allow="microphone, camera":A.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",A.style.visibility="hidden",S.appendChild(A),A.style.visibility=null,Object.keys(C).forEach(function($){return A.style[$]=C[$]}),P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser");try{return new t(A,P)}catch($){throw S.removeChild(A),$}}},{key:"createTransparentFrame",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ee();var j=document.createElement("iframe");return j.allow="microphone; camera; autoplay",j.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(j),f.layout||(f.layout="custom-v1"),t.wrap(j,f)}},{key:"getCallInstance",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return f?Js[f]:Object.values(Js)[0]}}]);var e,n,r,s,i,o,l,c,u,d,p,g,m,x,h,y,w,v,_,k,E,N,T,O,F,R,K,M,H,D,G,J,ne,I,U,ee,he,ie}();function hb(t){if(t.extension){if(typeof t.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(t.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(t.waitBeforeExtensionDialSec){if(typeof t.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(t.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!t.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function to(t,e){var n={};for(var r in t)if(t[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=Ir;else if(r==="dailyConfig"){if(t[r].modifyLocalSdpHook){var s=window._daily.instances[e].customCallbacks||{};s.modifyLocalSdpHook=t[r].modifyLocalSdpHook,window._daily.instances[e].customCallbacks=s,delete t[r].modifyLocalSdpHook}if(t[r].modifyRemoteSdpHook){var i=window._daily.instances[e].customCallbacks||{};i.modifyRemoteSdpHook=t[r].modifyRemoteSdpHook,window._daily.instances[e].customCallbacks=i,delete t[r].modifyRemoteSdpHook}n[r]=t[r]}else n[r]=t[r];return n}function Ie(t){var e=arguments.length>2?arguments[2]:void 0;if(t!==ii){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw e&&(n+=" ".concat(e)),console.error(n),new Error(n)}}function gu(t,e){return[Am,ii].includes(t)||e}function Df(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(gu(t,e)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function Kc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!t){var r="".concat(e,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Lf(t){if(t){var e="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(e),new Error(e)}}function In(t){if(!t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(e),new Error(e)}}function Zt(t){if(t){var e="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(e),new Error(e)}}function Ee(){if(Ce())throw new Error("This daily-js method is not currently supported in React Native")}function Ta(){if(!Ce())throw new Error("This daily-js method is only supported in React Native")}function YC(t){if(t===void 0)return!0;var e;if(typeof t=="string")e=t;else try{e=JSON.stringify(t),Mt(JSON.parse(e),t)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(e.length>4096)throw Error("userData is too large (".concat(e.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function XC(t,e){for(var n=e.allowAllParticipantsKey,r=function(p){var g=["local"];return n||g.push("*"),p&&!g.includes(p)},s=function(p){return!!(p.layer===void 0||Number.isInteger(p.layer)&&p.layer>=0||p.layer==="inherit")},i=function(p){return!!p&&!(p.video&&!s(p.video))&&!(p.screenVideo&&!s(p.screenVideo))},o=0,l=Object.entries(t);o<l.length;o++){var c=Nt(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function ZC(t){if(Ne(t)!=="object")return!1;for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Nt(n[e],2),s=r[0],i=r[1];switch(s){case"video":if(Ne(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=Nt(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!q5(d))return!1;break;case"settings":if(!fb(d))return!1;break;default:return!1}}break;case"audio":if(Ne(i)!=="object")return!1;for(var p=0,g=Object.entries(i);p<g.length;p++){var m=Nt(g[p],2),x=m[0],h=m[1];switch(x){case"processor":if(!H5(h))return!1;break;case"settings":if(!fb(h))return!1;break;default:return!1}}break;default:return!1}}return!0}function eN(t,e,n){var r,s=[];t.video&&t.video.processor&&(LC((r=e==null?void 0:e.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(t.video.settings?delete t.video.processor:delete t.video,s.push("video"))),t.audio&&t.audio.processor&&($C()||(t.audio.settings?delete t.audio.processor:delete t.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(n.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:Ir}):delete n.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(n.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:Ir}):delete n.videoTrack)}function H5(t){if(Ce())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type"];return!!t&&Ne(t)==="object"&&(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete t[n]}),!!function(n){return typeof n!="string"?!1:Object.values(IC).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(t.type))}function q5(t){if(Ce())return console.warn("Video processing is not yet supported in React Native"),!1;var e=["type","config"];return!t||Ne(t)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(mu).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(t.type)||t.config&&(Ne(t.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case mu.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case mu.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(cd(o.source))return o.type="url",!!function(u){var d=new URL(u),p=d.pathname;if(d.protocol==="data:")try{var g=p.substring(p.indexOf(":")+1,p.indexOf(";")).split("/")[1];return Of.includes(g)}catch(x){return console.error("failed to deduce blob content type",x),!1}var m=p.split(".").at(-1).toLowerCase().trim();return Of.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(Of.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(t.type,t.config))?!1:(Object.keys(t).filter(function(n){return!e.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete t[n]}),!0)}function fb(t){return Ne(t)==="object"&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function Fm(){var t=Object.values(mu).join(" | "),e=Object.values(IC).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(e," ] } } }")}function tN(t){var e=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(vB).concat(e?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function nN(){return"customIntegrations should be an object of type ".concat(JSON.stringify($m),".")}function rN(t){if(t&&Ne(t)!=="object"||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(gd),".")),!1;if(t)for(var e=0,n=Object.entries(t);e<n.length;e++)for(var r=Nt(n[e],1)[0],s=0,i=Object.entries(t[r]);s<i.length;s++){var o=Nt(i[s],2),l=o[0],c=o[1],u=gd.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!cd(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Ne(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function sN(t){if(!t||t&&Ne(t)!=="object"||Array.isArray(t))return console.error(nN()),!1;for(var e=function(p){return"".concat(p," should be ").concat($m.id[p])},n=function(p,g){return console.error("customIntegration ".concat(p,": ").concat(g))},r=0,s=Object.entries(t);r<s.length;r++){var i=Nt(s[r],1)[0];if(!("label"in t[i]))return n(i,"label is required"),!1;if(!("location"in t[i]))return n(i,"location is required"),!1;if(!("src"in t[i])&&!("srcdoc"in t[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(t[i]);o<l.length;o++){var c=Nt(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,e(u)),!1;break;case"iconURL":if(!cd(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in t[i])return n(i,"cannot have both src and srcdoc"),!1;if(!cd(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,e(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,e(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(p){return typeof p!="string"})))return n(i,e(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(p){return typeof p!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,e(u)),!1;break;default:if(!$m.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function iN(t,e){if(e===void 0)return!1;switch(Ne(e)){case"string":return Ne(t)===e;case"object":if(Ne(t)!=="object")return!1;for(var n in t)if(!iN(t[n],e[n]))return!1;return!0;default:return!1}}function pb(t,e){var n=t.sessionId,r=t.toEndPoint,s=t.callerId,i=t.useSipRefer;if(!n||!r)throw new Error("".concat(e,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function mb(t){if(Ne(t)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(Rm).includes(t.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Rm));if(t.volume){if(typeof t.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function gb(t,e,n){return!(typeof t!="number"||t<e||t>n)}function $f(t,e){return t&&!e&&delete t.data,t}const K5=({roomUrl:t})=>{const e=b.useRef(null);return b.useEffect(()=>{if(!e.current)return;const n=W5.createFrame(e.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"}});return n.join({url:t}),()=>{n.destroy()}},[t]),a.jsx("div",{ref:e,style:{width:"100%",height:"100%"}})},G5=()=>{const{toast:t}=et(),[e]=PI(),n=tt(),r=e.get("consultation_id"),[s,i]=b.useState("ai_assistant"),[o,l]=b.useState(null),[c,u]=b.useState([]),[d,p]=b.useState([]),[g,m]=b.useState(""),[x,h]=b.useState(!1);b.useState("");const[y,w]=b.useState(r),[v,_]=b.useState(null),[k,E]=b.useState(null),N=b.useRef(null);b.useEffect(()=>{var R;(R=N.current)==null||R.scrollIntoView({behavior:"smooth"})},[c]),b.useEffect(()=>{(async()=>{const{data:{session:K}}=await W.auth.getSession();K!=null&&K.user&&_(K.user.id)})()},[]),b.useEffect(()=>{(async()=>{if(r&&v){i("doctor_chat");const{data:K,error:M}=await W.from("consultations").select(`
            status,
            video_call_url,
            patient_id,
            chat_messages(id, message, sender_type, created_at)
          `).eq("id",r).single();if(M||!K){t({id:"fetch-consultation-error",title:"Error fetching consultation",description:M==null?void 0:M.message,variant:"destructive"});return}E(K.patient_id);const H=K.chat_messages.map(D=>({id:D.id,text:D.message,sender:D.sender_type,timestamp:new Date(D.created_at)}));u(H),l(K.video_call_url),await W.from("consultations").update({status:"doctor_active"}).eq("id",r)}else if(!y&&v){const{data:K}=await W.from("patients").select("id").eq("user_id",v).single(),{data:M,error:H}=await W.from("consultations").insert({status:"ai_active",patient_id:K==null?void 0:K.id}).select().single();!H&&M&&(w(M.id),E(M.patient_id),u([{id:"1",text:"Hello! I'm your AI health assistant. I'm here to help you understand your symptoms and connect you with the right care. How are you feeling today? Please describe your symptoms.",sender:"ai",timestamp:new Date}]))}})()},[v,r]);const T=async()=>{if(!g.trim()||x)return;const R={id:Date.now().toString(),text:g,sender:"patient",timestamp:new Date};u(H=>[...H,R]);const K=[...d,{role:"user",content:g}];p(K);const M=g;m(""),h(!0),y&&v&&await W.from("chat_messages").insert({consultation_id:y,sender_id:v,sender_type:"patient",message:M});try{const{data:H,error:D}=await W.functions.invoke("ai-triage",{body:{message:M,conversationHistory:K}});if(D)throw D;if(H.error)throw new Error(H.error);const G={id:(Date.now()+1).toString(),text:H.response,sender:"ai",timestamp:new Date};u(J=>[...J,G]),p(J=>[...J,{role:"assistant",content:H.response}]),(H.connectToDoctor||H.severity==="high")&&await O(M,H.severity||"medium")}catch(H){t({id:"send-error",title:"Error",description:H instanceof Error?H.message:"Failed to get response. Please try again.",variant:"destructive"})}finally{h(!1)}},O=async(R,K)=>{if(!y)return;await W.from("consultations").update({status:"escalated"}).eq("id",y);const{data:M,error:H}=await W.functions.invoke("create-video-call",{body:{consultationId:y}});if(H){t({id:"video-call-error",title:"Error creating video call",description:H.message,variant:"destructive"});return}l(M.roomUrl),await W.from("consultations").update({video_call_url:M.roomUrl}).eq("id",y);const D={id:(Date.now()+2).toString(),text:"Im connecting you with a doctor to assist further.",sender:"ai",timestamp:new Date};u(G=>[...G,D]),setTimeout(()=>{i("doctor_chat");const G={id:(Date.now()+3).toString(),text:"Hello, I'm Dr. Smith. I've reviewed your conversation with the AI assistant. How can I help you further?",sender:"doctor",timestamp:new Date};u(J=>[...J,G])},3e3)},F=()=>{n("/prescriptions",{state:{consultation_id:y,patient_id:k}})};return a.jsx("div",{id:"consultation-page",className:"min-h-screen bg-muted/40 p-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(Y,{id:"consultation-card",className:"h-[80vh] flex flex-col",children:[a.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-primary to-secondary text-white rounded-t-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[s==="ai_assistant"&&a.jsx(wi,{id:"ai-assistant-icon",className:"h-6 w-6"}),s==="doctor_chat"&&a.jsx(wr,{id:"doctor-icon",className:"h-6 w-6"}),s==="video_call"&&a.jsx(Go,{id:"video-icon",className:"h-6 w-6"}),a.jsxs("div",{children:[a.jsxs("h2",{id:"consultation-header-title",className:"text-lg font-semibold",children:[s==="ai_assistant"&&"AI Health Assistant",s==="doctor_chat"&&"Dr. Smith",s==="video_call"&&"Video Call with Dr. Smith"]}),a.jsx("p",{id:"consultation-header-status",className:"text-sm opacity-90",children:"Online"})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:s==="doctor_chat"&&a.jsxs(a.Fragment,{children:[a.jsxs(Z,{id:"start-video-call-button",size:"sm",variant:"outline",className:"bg-white text-primary hover:bg-white/90",onClick:()=>i("video_call"),children:[a.jsx(Go,{className:"h-4 w-4 mr-2"}),"Start Video Call"]}),a.jsx(Z,{id:"write-prescription-button",size:"sm",variant:"outline",className:"bg-white text-primary hover:bg-white/90",onClick:F,children:"Prescriptions"})]})})]})}),a.jsxs(Q,{id:"message-list-container",className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s==="video_call"&&o?a.jsx(K5,{roomUrl:o}):a.jsxs(a.Fragment,{children:[c.map(R=>a.jsx("div",{id:`message-container-${R.id}`,className:`flex ${R.sender==="patient"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex gap-3 max-w-[80%] ${R.sender==="patient"?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{id:`message-avatar-${R.id}`,className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${R.sender==="patient"?"bg-primary":R.sender==="doctor"?"bg-secondary":"bg-muted"}`,children:R.sender==="patient"?a.jsx(kS,{className:"h-4 w-4 text-white"}):R.sender==="doctor"?a.jsx(wr,{className:"h-4 w-4 text-white"}):a.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{id:`message-content-${R.id}`,className:`rounded-lg p-3 ${R.sender==="patient"?"bg-primary text-white":R.sender==="doctor"?"bg-secondary text-white":"bg-muted"}`,children:[a.jsx("p",{id:`message-text-${R.id}`,className:"text-sm whitespace-pre-wrap",children:R.text}),a.jsx("p",{id:`message-timestamp-${R.id}`,className:`text-xs mt-1 ${R.sender==="patient"||R.sender==="doctor"?"text-white/70":"text-muted-foreground"}`,children:R.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},R.id)),x&&a.jsx("div",{id:"loading-indicator",className:"flex justify-start",children:a.jsxs("div",{className:"flex gap-3 max-w-[80%]",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:a.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx("div",{className:"bg-muted rounded-lg p-3",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})]}),a.jsx("div",{ref:N})]}),a.jsx("div",{id:"chat-input-area",className:"p-4 border-t",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ue,{id:"chat-input",value:g,onChange:R=>m(R.target.value),onKeyPress:R=>R.key==="Enter"&&T(),placeholder:"Describe your symptoms...",disabled:x||s==="video_call"}),a.jsx(Z,{id:"send-message-button",onClick:T,disabled:x||s==="video_call",children:a.jsx(_S,{className:"h-4 w-4"})})]})})]})})})},J5=new jM,Q5=()=>a.jsx(EM,{client:J5,children:a.jsxs(eM,{children:[a.jsx(DA,{}),a.jsx(p2,{}),a.jsxs(jI,{children:[a.jsx(OI,{})," ",a.jsxs(Tj,{children:[a.jsxs(_e,{element:a.jsx(u4,{}),children:[a.jsx(_e,{path:"/",element:a.jsx(h4,{})}),a.jsx(_e,{path:"/login",element:a.jsx(aF,{})}),a.jsx(_e,{path:"/register",element:a.jsx(lF,{})}),a.jsx(_e,{path:"/health-education",element:a.jsx(iF,{})}),a.jsx(_e,{path:"/privacy-policy",element:a.jsx(qU,{})}),a.jsx(_e,{path:"/disclaimer",element:a.jsx(KU,{})}),a.jsx(_e,{path:"/contact",element:a.jsx(GU,{})})]}),a.jsxs(_e,{element:a.jsx(mn,{children:a.jsx(t$,{})}),children:[a.jsx(_e,{path:"/dashboard",element:a.jsx(IF,{})}),a.jsx(_e,{path:"/appointments",element:a.jsx(Q4,{})}),a.jsx(_e,{path:"/chat",element:a.jsx(NU,{})}),a.jsx(_e,{path:"/chat/:id",element:a.jsx(g4,{})}),a.jsx(_e,{path:"/profile",element:a.jsx(WU,{})}),a.jsx(_e,{path:"/prescriptions",element:a.jsx(mF,{})}),a.jsx(_e,{path:"/medical-records/*",element:a.jsx(LU,{})}),a.jsx(_e,{path:"/laboratory-requests",element:a.jsx($U,{})}),a.jsx(_e,{path:"/subscription",element:a.jsx(FU,{})}),a.jsx(_e,{path:"/family-members",element:a.jsx(UU,{})}),a.jsx(_e,{path:"/find-kiosk",element:a.jsx(uF,{})}),a.jsx(_e,{path:"/consultation",element:a.jsx(G5,{})})]}),a.jsx(_e,{path:"/complete-profile",element:a.jsx(mn,{children:a.jsx(BU,{})})}),a.jsx(_e,{path:"/triage",element:a.jsx(mn,{children:a.jsx(m4,{})})}),a.jsx(_e,{path:"/vendor-selection",element:a.jsx(mn,{children:a.jsx(yF,{})})}),a.jsx(_e,{path:"/insurance",element:a.jsx(mn,{children:a.jsx(oF,{})})}),a.jsx(_e,{path:"/doctor-dashboard",element:a.jsx(mn,{allowedRoles:["doctor","admin"],children:a.jsx(HU,{})})}),a.jsx(_e,{path:"/doctor-portal",element:a.jsx(mn,{allowedRoles:["doctor","admin"],children:a.jsx(tF,{})})}),a.jsx(_e,{path:"/patients",element:a.jsx(mn,{allowedRoles:["doctor","admin"],children:a.jsx(eF,{})})}),a.jsx(_e,{path:"/vendor-portal",element:a.jsx(mn,{allowedRoles:["vendor","admin"],children:a.jsx(nF,{})})}),a.jsx(_e,{path:"/delivery-portal",element:a.jsx(mn,{allowedRoles:["delivery_rider","admin"],children:a.jsx(rF,{})})}),a.jsx(_e,{path:"/kiosk-portal",element:a.jsx(mn,{allowedRoles:["kiosk_partner","admin"],children:a.jsx(sF,{})})}),a.jsx(_e,{path:"/vitals",element:a.jsx(mn,{allowedRoles:["kiosk_partner","doctor","admin"],children:a.jsx(cF,{})})}),a.jsx(_e,{path:"*",element:a.jsx(wF,{})})]})]})]})});U1(document.getElementById("root")).render(a.jsx(Q5,{}));
